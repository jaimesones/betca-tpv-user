"use strict";(self.webpackChunkbetca_tpv_angular=self.webpackChunkbetca_tpv_angular||[]).push([[612],{7612:(Oa,_e,h)=>{h.r(_e),h.d(_e,{ShopModule:()=>ya});var He=h(2453),m=h(4225),e=h(3668),T=h(6590);let he=(()=>{class n{constructor(t){this.httpService=t}close(t){return this.httpService.patch(m.C.CASHIERS_LAST,t)}readState(){return this.httpService.get(m.C.CASHIERS_LAST+n.STATE)}}return n.STATE="/state",n.\u0275fac=function(t){return new(t||n)(e.LFG(T.O))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),K=(()=>{class n{constructor(t){this.httpService=t}create(t){return this.httpService.post(m.C.PROVIDERS,t)}read(t){return this.httpService.get(m.C.PROVIDERS+"/"+t)}update(t,i){return this.httpService.successful().put(m.C.PROVIDERS+"/"+t,i)}search(t){return this.httpService.paramsFrom(t).get(m.C.PROVIDERS+n.SEARCH)}}return n.SEARCH="/search",n.\u0275fac=function(t){return new(t||n)(e.LFG(T.O))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var S=h(4753);let E=(()=>{class n{constructor(t){this.httpService=t}read(t){return this.httpService.get(m.C.ARTICLES+"/"+t)}create(t){return this.httpService.post(m.C.ARTICLES,t)}searchBarcode(t){return this.httpService.param("barcode",t).get(m.C.ARTICLES+n.BARCODE).pipe((0,S.U)(i=>i.barcodes))}}return n.BARCODE="/barcode",n.\u0275fac=function(t){return new(t||n)(e.LFG(T.O))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),R=(()=>{class n{constructor(t){this.httpService=t}openCashier(){return this.httpService.post(m.C.CASHIERS)}readLast(){return this.httpService.get(m.C.CASHIERS_LAST)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(T.O))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fe=(()=>{class n{constructor(t){this.httpService=t}searchCompanies(t){return this.httpService.param("company",t).get(m.C.PROVIDERS+n.COMPANY).pipe((0,S.U)(i=>i.companies))}}return n.COMPANY="/company",n.\u0275fac=function(t){return new(t||n)(e.LFG(T.O))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Be=h(5048);function L(n,o,t){return(0,Be.P)(()=>n()?o:t)}var H=h(3719),B=h(5583),je=h(2835),Ce=h(4799),Ze=h(4),l=h(5304),s=h(8167),C=h(4383),c=h(9133),g=h(86);let Ve=(()=>{class n{constructor(t,i,a){this.articleService=i,this.dialogRef=a,this.article=t}invalidArticle(){return!this.article.description||!this.article.retailPrice}create(){this.articleService.create(this.article).subscribe(t=>this.dialogRef.close(t))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.WI),e.Y36(E),e.Y36(l.so))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:18,vars:4,consts:[["mat-dialog-title",""],["matInput","","placeholder","Code","readonly","","type","text",3,"ngModel"],["cdkFocusInitial","","matInput","","placeholder","Description","required","","type","text",3,"ngModel","ngModelChange"],["matInput","","placeholder","Retail Price","required","","type","number",3,"ngModel","ngModelChange"],["mat-button","","mat-dialog-close","","tabindex","-1"],["mat-button","",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"h2",0),e._uU(1,"Article Creation"),e.qZA(),e.TgZ(2,"mat-dialog-content"),e.TgZ(3,"mat-form-field"),e._UZ(4,"input",1),e.qZA(),e.TgZ(5,"mat-form-field"),e.TgZ(6,"input",2),e.NdJ("ngModelChange",function(r){return i.article.description=r}),e.qZA(),e.TgZ(7,"mat-error"),e._uU(8,"Field required"),e.qZA(),e.qZA(),e.TgZ(9,"mat-form-field"),e.TgZ(10,"input",3),e.NdJ("ngModelChange",function(r){return i.article.retailPrice=r}),e.qZA(),e.TgZ(11,"mat-error"),e._uU(12,"Field required"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"mat-dialog-actions"),e.TgZ(14,"button",4),e._uU(15,"Cancel"),e.qZA(),e.TgZ(16,"button",5),e.NdJ("click",function(){return i.create()}),e._uU(17,"Create"),e.qZA(),e.qZA()),2&t&&(e.xp6(4),e.Q6J("ngModel",i.article.barcode),e.xp6(2),e.Q6J("ngModel",i.article.description),e.xp6(4),e.Q6J("ngModel",i.article.retailPrice),e.xp6(6),e.Q6J("disabled",i.invalidArticle()))},directives:[l.uh,l.xY,s.KE,C.Nt,c.Fj,c.JJ,c.On,c.Q7,s.TO,c.wV,l.H8,g.lW,l.ZT],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-height:500px;min-width:300px}.mat-cell[_ngcontent-%COMP%]{overflow:visible}.mat-table[_ngcontent-%COMP%]{overflow:auto;max-height:600px}.mat-column-[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),n})();var y=h(5927);let j=(()=>{class n{constructor(t){this.httpService=t}search(t){return this.httpService.paramsFrom(t).get(m.C.INVOICES+n.SEARCH)}read(t){return this.httpService.get(m.C.INVOICES+"/"+t)}create(t){return this.httpService.post(m.C.INVOICES,{ticketId:t})}update(t,i){return this.httpService.successful().put(m.C.INVOICES+"/"+t,i)}readReceipt(t){return this.httpService.pdf().get(m.C.INVOICES+"/"+t.toString()+n.RECEIPT)}}return n.SEARCH="/search",n.RECEIPT="/receipt",n.\u0275fac=function(t){return new(t||n)(e.LFG(T.O))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),V=(()=>{class n{constructor(t,i,a,r){this.dialog=t,this.articleService=i,this.invoiceService=a,this.httpService=r}read(t){const i=Number(t.replace(",","."));return!Number.isNaN(i)&&t.length<=n.VARIOUS_LENGTH&&(t=n.VARIOUS_BARCODE),this.articleService.read(t).pipe((0,S.U)(a=>(t===n.VARIOUS_BARCODE&&(a.retailPrice=i),a)),(0,je.K)(()=>this.dialog.open(Ve,{data:{barcode:t}}).afterClosed())).pipe((0,S.U)(a=>{const r=new Ze.L(a.barcode,a.description,a.retailPrice);return a.stock<1&&(r.state=y.o.NOT_COMMITTED),r}))}createTicketAndPrintReceipts(t,i,a,r,f){return this.httpService.post(m.C.TICKETS,t).pipe((0,Ce.b)(A=>{let q=this.printTicket(A.id);return q=L(()=>i>0,(0,H.T)(q,this.createVoucherAndPrint(i)),q),q=L(()=>a,(0,H.T)(q,this.createInvoiceAndPrint(A.id)),q),q=L(()=>r,(0,H.T)(q,this.createGiftTicketAndPrint(A.id)),q),q=L(()=>f,(0,H.T)(q,this.createDataProtectionActAndPrint(A)),q),q}))}printTicket(t){return this.httpService.pdf().get(m.C.TICKETS+"/"+t+n.RECEIPT)}createVoucherAndPrint(t){return B.E}createInvoiceAndPrint(t){return this.invoiceService.create(t).pipe((0,Ce.b)(i=>this.httpService.pdf().get(m.C.INVOICES+"/"+i.identity+n.RECEIPT)))}createGiftTicketAndPrint(t){return B.E}createDataProtectionActAndPrint(t){return B.E}}return n.RECEIPT="/receipt",n.VARIOUS_BARCODE="1",n.VARIOUS_LENGTH=5,n.\u0275fac=function(t){return new(t||n)(e.LFG(l.uw),e.LFG(E),e.LFG(j),e.LFG(T.O))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),N=(()=>{class n{constructor(t){this.httpService=t}create(t){return this.httpService.post(m.C.ARTICLES,t)}read(t){return this.httpService.get(m.C.ARTICLES+"/"+t)}update(t,i){return this.httpService.successful().put(m.C.ARTICLES+"/"+t,i)}search(t){return this.httpService.paramsFrom(t).get(m.C.ARTICLES+n.SEARCH)}searchUnfinished(){return this.httpService.get(m.C.ARTICLES+n.UNFINISHED)}}return n.SEARCH="/search",n.UNFINISHED="/unfinished",n.\u0275fac=function(t){return new(t||n)(e.LFG(T.O))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var F=h(1659),ee=h(9205),ze=h(5965),p=h(2997),M=h(6421),U=(()=>{return(n=U||(U={}))[n.GENERAL=0]="GENERAL",n[n.REDUCED=1]="REDUCED",n[n.SUPER_REDUCED=2]="SUPER_REDUCED",n[n.FREE=3]="FREE",U;var n})(),k=h(6400),_=h(6019),P=h(514),Te=h(9851),Ae=h(7444),Z=h(9112),v=h(6731);function Xe(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",6),e.NdJ("click",function(){return e.CHM(t),e.oxw().resetKey()}),e.TgZ(1,"mat-icon"),e._uU(2,"close"),e.qZA(),e.qZA()}}function We(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-option",7),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().onClick(r)}),e._uU(1),e.qZA()}if(2&n){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}let Q=(()=>{class n{constructor(){this.title="Search",this.keys=(0,p.of)([]),this.obligatory="false",this.keyChange=new e.vpe,this.renew=new e.vpe,this.selected=new e.vpe}onRenew(){this.renew.emit()}resetKey(){this.key="",this.keyChange.emit(this.key)}onClick(t){this.selected.emit(t)}onChange(t){this.keyChange.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-search"]],inputs:{title:"title",key:"key",keys:"keys",obligatory:"obligatory"},outputs:{keyChange:"keyChange",renew:"renew",selected:"selected"},decls:12,vars:8,consts:[[1,"full-width"],["matInput","","type","text",3,"matAutocomplete","ngModel","required","ngModelChange"],["mat-icon-button","","matSuffix","","matTooltip","Renew","matTooltipShowDelay","2000",3,"click"],["aria-label","Clear","mat-button","","mat-icon-button","","matSuffix","",3,"click",4,"ngIf"],["auto","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],["aria-label","Clear","mat-button","","mat-icon-button","","matSuffix","",3,"click"],[3,"value","click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"mat-form-field",0),e.TgZ(1,"mat-label"),e._uU(2),e.qZA(),e.TgZ(3,"input",1),e.NdJ("ngModelChange",function(r){return i.onChange(r)}),e.qZA(),e.TgZ(4,"button",2),e.NdJ("click",function(){return i.onRenew()}),e.TgZ(5,"mat-icon"),e._uU(6,"autorenew"),e.qZA(),e.qZA(),e.YNc(7,Xe,3,0,"button",3),e.TgZ(8,"mat-autocomplete",null,4),e.YNc(10,We,2,2,"mat-option",5),e.ALo(11,"async"),e.qZA(),e.qZA()),2&t){const a=e.MAs(9);e.xp6(2),e.Oqu(i.title),e.xp6(1),e.Q6J("matAutocomplete",a)("ngModel",i.key)("required",i.obligatory),e.xp6(4),e.Q6J("ngIf",i.key),e.xp6(3),e.Q6J("ngForOf",e.lcZ(11,6,i.keys))}},directives:[s.KE,s.hX,C.Nt,Te.ZL,c.Fj,c.JJ,c.On,c.Q7,g.lW,s.R9,Ae.gM,Z.Hw,_.O5,Te.XC,_.sg,v.ey],pipes:[_.Ov],styles:[".full-width[_ngcontent-%COMP%]{width:100%}"]}),n})(),te=(()=>{class n{constructor(t){this.sharedProviderService=t,this.companies=(0,p.of)([]),this.companyChange=new e.vpe}onSelect(){this.companyChange.emit(this.company)}searchByCompany(){this.companies=this.sharedProviderService.searchCompanies(this.company)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(fe))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-search-by-company"]],inputs:{company:"company"},outputs:{companyChange:"companyChange"},decls:1,vars:2,consts:[["obligatory","true","title","Company",1,"full-width",3,"key","keys","renew","selected","keyChange"]],template:function(t,i){1&t&&(e.TgZ(0,"app-search",0),e.NdJ("renew",function(){return i.searchByCompany()})("selected",function(){return i.onSelect()})("keyChange",function(r){return i.company=r}),e.qZA()),2&t&&e.Q6J("key",i.company)("keys",i.companies)},directives:[Q],encapsulation:2}),n})();function Ge(n,o){if(1&n&&(e.TgZ(0,"mat-option",14),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function $e(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-form-field",1),e.TgZ(1,"mat-label"),e._uU(2,"Registration Date"),e.qZA(),e.TgZ(3,"input",15),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw().article.registrationDate=a}),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.article.registrationDate)}}function Ke(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){return e.CHM(t),e.oxw().create()}),e._uU(1,"Create "),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.invalid())}}function et(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){return e.CHM(t),e.oxw().update()}),e._uU(1,"Update "),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.invalid())}}let be=(()=>{class n{constructor(t,i,a){this.articleService=i,this.dialog=a,this.taxValues=Object.keys(U).filter(r=>isNaN(Number(r))),this.companies=(0,p.of)([]),this.title=t?"Update Article":"Create Article",this.article=t||{barcode:void 0,description:void 0,retailPrice:void 0,providerCompany:void 0,discontinued:!1,tax:U.GENERAL,stock:10},this.oldBarcode=t?t.barcode:void 0}isCreate(){return void 0===this.oldBarcode}create(){this.articleService.create(this.article).subscribe(()=>this.dialog.closeAll())}update(){this.articleService.update(this.oldBarcode,this.article).subscribe(()=>this.dialog.closeAll())}invalid(){return this.check(this.article.barcode)||this.check(this.article.description)||this.check(this.article.providerCompany)||void 0===this.article.retailPrice||null}check(t){return void 0===t||""===t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.WI),e.Y36(N),e.Y36(l.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:39,vars:13,consts:[["mat-dialog-title",""],[1,"full-width"],["id","company","matInput","","required","","type","text",3,"ngModel","ngModelChange"],["matInput","","required","","type","text",3,"ngModel","ngModelChange"],["matInput","","required","","type","number",3,"ngModel","ngModelChange"],["align","start"],["matInput","","type","email",3,"ngModel","ngModelChange"],["matInput","","type","number",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","full-width",4,"ngIf"],[1,"full-width",3,"company","companyChange"],["cdkFocusInitial","","mat-dialog-close","","mat-raised-button",""],["color","primary","mat-raised-button","",3,"disabled","click",4,"ngIf"],[3,"value"],["matInput","","readonly","","type","text",3,"ngModel","ngModelChange"],["color","primary","mat-raised-button","",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e.TgZ(2,"mat-dialog-content"),e.TgZ(3,"mat-form-field",1),e.TgZ(4,"mat-label"),e._uU(5,"Barcode"),e.qZA(),e.TgZ(6,"input",2),e.NdJ("ngModelChange",function(r){return i.article.barcode=r}),e.qZA(),e.qZA(),e.TgZ(7,"mat-form-field",1),e.TgZ(8,"mat-label"),e._uU(9,"Description"),e.qZA(),e.TgZ(10,"input",3),e.NdJ("ngModelChange",function(r){return i.article.description=r}),e.qZA(),e.qZA(),e.TgZ(11,"mat-form-field",1),e.TgZ(12,"mat-label"),e._uU(13,"Retail Price"),e.qZA(),e.TgZ(14,"input",4),e.NdJ("ngModelChange",function(r){return i.article.retailPrice=r}),e.qZA(),e.TgZ(15,"mat-hint",5),e._uU(16,"9 digits"),e.qZA(),e.qZA(),e.TgZ(17,"mat-form-field",1),e.TgZ(18,"mat-label"),e._uU(19,"Reference"),e.qZA(),e.TgZ(20,"input",6),e.NdJ("ngModelChange",function(r){return i.article.reference=r}),e.qZA(),e.qZA(),e.TgZ(21,"mat-form-field",1),e.TgZ(22,"mat-label"),e._uU(23,"Stock"),e.qZA(),e.TgZ(24,"input",7),e.NdJ("ngModelChange",function(r){return i.article.stock=r}),e.qZA(),e.qZA(),e.TgZ(25,"mat-form-field",1),e.TgZ(26,"mat-label"),e._uU(27,"Tax"),e.qZA(),e.TgZ(28,"mat-select",8),e.NdJ("ngModelChange",function(r){return i.article.tax=r}),e.YNc(29,Ge,2,2,"mat-option",9),e.qZA(),e.qZA(),e.TgZ(30,"mat-slide-toggle",8),e.NdJ("ngModelChange",function(r){return i.article.discontinued=r}),e._uU(31,"Discontinued"),e.qZA(),e.YNc(32,$e,4,1,"mat-form-field",10),e.TgZ(33,"app-search-by-company",11),e.NdJ("companyChange",function(r){return i.article.providerCompany=r}),e.qZA(),e.qZA(),e.TgZ(34,"mat-dialog-actions"),e.TgZ(35,"button",12),e._uU(36,"Close"),e.qZA(),e.YNc(37,Ke,2,1,"button",13),e.YNc(38,et,2,1,"button",13),e.qZA()),2&t&&(e.xp6(1),e.Oqu(i.title),e.xp6(5),e.Q6J("ngModel",i.article.barcode),e.xp6(4),e.Q6J("ngModel",i.article.description),e.xp6(4),e.Q6J("ngModel",i.article.retailPrice),e.xp6(6),e.Q6J("ngModel",i.article.reference),e.xp6(4),e.Q6J("ngModel",i.article.stock),e.xp6(4),e.Q6J("ngModel",i.article.tax),e.xp6(1),e.Q6J("ngForOf",i.taxValues),e.xp6(1),e.Q6J("ngModel",i.article.discontinued),e.xp6(2),e.Q6J("ngIf",i.article.registrationDate),e.xp6(1),e.Q6J("company",i.article.providerCompany),e.xp6(4),e.Q6J("ngIf",i.isCreate()),e.xp6(1),e.Q6J("ngIf",!i.isCreate()))},directives:[l.uh,l.xY,s.KE,s.hX,C.Nt,c.Fj,c.Q7,c.JJ,c.On,c.wV,s.bx,k.gD,_.sg,P.Rr,_.O5,te,l.H8,g.lW,l.ZT,v.ey],styles:["mat-dialog-content[_ngcontent-%COMP%]{width:250px}.full-width[_ngcontent-%COMP%]{width:100%}"]}),n})();var u=h(888),z=h(904),b=h(6674);let tt=(()=>{class n{constructor(t,i){this.dialog=t,this.articleService=i,this.title="Articles management",this.articles=(0,p.of)([]),this.warningChecked=!1,this.criticalChecked=!1,this.resetSearch()}search(){this.articles=this.articleService.search(this.articleSearch)}resetSearch(){this.articleSearch={}}unfinished(){this.articles=this.articleService.searchUnfinished()}create(){this.dialog.open(be)}read(t){this.dialog.open(M.Y,{data:{title:"Article Details",object:this.articleService.read(t.barcode)}})}update(t){this.articleService.read(t.barcode).subscribe(i=>this.dialog.open(be,{data:i}))}searchWithThreshold(){this.warningChecked||this.warningChecked&&this.warningChecked?this.articles=this.articleService.search(this.articleSearch).pipe((0,S.U)(t=>t.filter(i=>i.stock<=5))):this.criticalChecked&&(this.articles=this.articleService.search(this.articleSearch).pipe((0,S.U)(t=>t.filter(i=>i.stock<=3))))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.uw),e.Y36(N))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:43,vars:11,consts:[["matInput","",3,"ngModel","ngModelChange"],["matInput","","type","number",3,"ngModel","ngModelChange"],["align","start"],[3,"ngModel","ngModelChange"],["mat-icon-button","",3,"click"],["matInput","","readonly","",3,"ngModel","ngModelChange"],["mat-button","","mat-icon-button","","matSuffix","",3,"click"],[3,"ngModel","ngModelChange","change"],[3,"data","deleteAction","title","create","read","update"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-card"),e.TgZ(1,"mat-card-content"),e.TgZ(2,"mat-label"),e.TgZ(3,"strong"),e._uU(4,"Filters: "),e.qZA(),e.qZA(),e.TgZ(5,"mat-form-field"),e.TgZ(6,"mat-label"),e._uU(7,"Barcode"),e.qZA(),e.TgZ(8,"input",0),e.NdJ("ngModelChange",function(r){return i.articleSearch.barcode=r}),e.qZA(),e.qZA(),e.TgZ(9,"mat-form-field"),e.TgZ(10,"mat-label"),e._uU(11,"Description"),e.qZA(),e.TgZ(12,"input",0),e.NdJ("ngModelChange",function(r){return i.articleSearch.description=r}),e.qZA(),e.qZA(),e.TgZ(13,"mat-form-field"),e.TgZ(14,"mat-label"),e._uU(15,"Reference"),e.qZA(),e.TgZ(16,"input",0),e.NdJ("ngModelChange",function(r){return i.articleSearch.reference=r}),e.qZA(),e.qZA(),e.TgZ(17,"mat-form-field"),e.TgZ(18,"mat-label"),e._uU(19,"Stock"),e.qZA(),e.TgZ(20,"input",1),e.NdJ("ngModelChange",function(r){return i.articleSearch.stock=r}),e.qZA(),e.TgZ(21,"mat-hint",2),e._uU(22,"Less than"),e.qZA(),e.qZA(),e.TgZ(23,"mat-slide-toggle",3),e.NdJ("ngModelChange",function(r){return i.articleSearch.discontinued=r}),e._uU(24,"Discontinued"),e.qZA(),e.TgZ(25,"button",4),e.NdJ("click",function(){return i.search()}),e.TgZ(26,"mat-icon"),e._uU(27,"search"),e.qZA(),e.qZA(),e.TgZ(28,"button",4),e.NdJ("click",function(){return i.resetSearch()}),e.TgZ(29,"mat-icon"),e._uU(30,"close"),e.qZA(),e.qZA(),e.TgZ(31,"mat-form-field"),e.TgZ(32,"mat-label"),e._uU(33,"Unfinished"),e.qZA(),e.TgZ(34,"input",5),e.NdJ("ngModelChange",function(r){return i.articleSearch.reference=r}),e.qZA(),e.TgZ(35,"button",6),e.NdJ("click",function(){return i.unfinished()}),e.TgZ(36,"mat-icon"),e._uU(37,"search"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(38,"mat-checkbox",7),e.NdJ("ngModelChange",function(r){return i.warningChecked=r})("change",function(){return i.searchWithThreshold()}),e._uU(39,"Warning"),e.qZA(),e.TgZ(40,"mat-checkbox",7),e.NdJ("ngModelChange",function(r){return i.criticalChecked=r})("change",function(){return i.searchWithThreshold()}),e._uU(41,"Critical"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(42,"app-crud",8),e.NdJ("create",function(){return i.create()})("read",function(r){return i.read(r)})("update",function(r){return i.update(r)}),e.qZA()),2&t&&(e.xp6(8),e.Q6J("ngModel",i.articleSearch.barcode),e.xp6(4),e.Q6J("ngModel",i.articleSearch.description),e.xp6(4),e.Q6J("ngModel",i.articleSearch.reference),e.xp6(4),e.Q6J("ngModel",i.articleSearch.stock),e.xp6(3),e.Q6J("ngModel",i.articleSearch.discontinued),e.xp6(11),e.Q6J("ngModel",i.articleSearch.reference),e.xp6(4),e.Q6J("ngModel",i.warningChecked),e.xp6(2),e.Q6J("ngModel",i.criticalChecked),e.xp6(2),e.Q6J("data",i.articles)("deleteAction",!1)("title",i.title))},directives:[u.a8,u.dn,s.hX,s.KE,C.Nt,c.Fj,c.JJ,c.On,c.wV,s.bx,P.Rr,g.lW,Z.Hw,s.R9,z.oG,b.D],encapsulation:2}),n})(),nt=(()=>{class n{constructor(t){this.sharedCashierService=t,this.cashierLast=this.sharedCashierService.readLast()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(R))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:16,vars:12,template:function(t,i){if(1&t&&(e.TgZ(0,"mat-card"),e.TgZ(1,"mat-card-title"),e.TgZ(2,"mat-icon"),e._uU(3,"account_balance"),e.qZA(),e.TgZ(4,"mat-icon"),e._uU(5,"lock_outline"),e.qZA(),e._uU(6," Closed Cashier "),e.qZA(),e.TgZ(7,"mat-card-content"),e.TgZ(8,"h3"),e._uU(9),e.ALo(10,"number"),e.ALo(11,"async"),e.qZA(),e.TgZ(12,"h3"),e._uU(13),e.ALo(14,"date"),e.ALo(15,"async"),e.qZA(),e.qZA(),e.qZA()),2&t){let a,r;e.xp6(9),e.hij(" Final Cash: ",e.xi3(10,2,null==(a=e.lcZ(11,5,i.cashierLast))?null:a.finalCash,"1.0-2")," \u20ac"),e.xp6(4),e.hij(" Closure date: ",e.xi3(14,7,null==(r=e.lcZ(15,10,i.cashierLast))?null:r.closureDate,"medium")," ")}},directives:[u.a8,u.n5,Z.Hw,u.dn],pipes:[_.JJ,_.Ov,_.uU],encapsulation:2}),n})(),it=(()=>{class n{constructor(t,i){this.dialogRef=t,this.data=i,this.titleDialog="Gift Ticket",this.titleMessageDialog="Write your message:",this.wroteMessage=" "}close(){this.dialogRef.close()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.so),e.Y36(l.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:15,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["appearance","fill"],["matInput","",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(t,i){1&t&&(e.TgZ(0,"h1",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e.TgZ(3,"p"),e._uU(4),e.qZA(),e.TgZ(5,"mat-form-field",2),e.TgZ(6,"mat-label"),e._uU(7,"Message"),e.qZA(),e.TgZ(8,"input",3),e.NdJ("ngModelChange",function(r){return i.data.message=r}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",4),e.TgZ(10,"button",5),e.NdJ("click",function(){return i.close()}),e._uU(11,"No Thanks"),e.qZA(),e._UZ(12,"br"),e.TgZ(13,"button",6),e._uU(14,"Add message"),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",i.titleDialog," "),e.xp6(3),e.Oqu(i.titleMessageDialog),e.xp6(4),e.Q6J("ngModel",i.data.message),e.xp6(5),e.Q6J("mat-dialog-close",i.data.message))},directives:[l.uh,l.xY,s.KE,s.hX,C.Nt,c.Fj,c.JJ,c.On,l.H8,g.lW,l.ZT],encapsulation:2}),n})(),ot=(()=>{class n{createAndPrintVoucher(t){return B.E}searchAllReferences(){return(0,p.of)(["aa69f","aa69g"])}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),at=(()=>{class n{constructor(t,i){this.title="Consume Voucher",this.references=(0,p.of)([]),this.dialog=t,this.voucherService=i}ngOnInit(){this.voucher={reference:null,value:null,userPhone:null,creationDate:new Date,dateOfUse:null,consumed:null}}onClickDoCreate(){console.log("Created voucher: "+JSON.stringify(this.voucher)),this.dialog.closeAll()}invalid(){var t,i;return(null!==(t=this.voucher.value)&&void 0!==t?t:0)<=0||(null!==(i=this.voucher.userPhone)&&void 0!==i?i:0)<6e8}searchVoucherByReference(){this.references=this.voucherService.searchAllReferences()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.uw),e.Y36(ot))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:9,vars:4,consts:[["mat-dialog-title",""],["title","Reference","obligatory","true",3,"key","keys","keyChange","renew"],["cdkFocusInitial","","mat-dialog-close","","mat-raised-button",""],["disabled","","color","primary","mat-raised-button","",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e.TgZ(2,"mat-dialog-content"),e.TgZ(3,"app-search",1),e.NdJ("keyChange",function(r){return i.voucher.reference=r})("keyChange",function(){return i.searchVoucherByReference()})("renew",function(){return i.searchVoucherByReference()}),e.qZA(),e.qZA(),e.TgZ(4,"mat-dialog-actions"),e.TgZ(5,"button",2),e._uU(6,"Close"),e.qZA(),e.TgZ(7,"button",3),e.NdJ("click",function(){return i.onClickDoCreate()}),e._uU(8," Consume "),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Oqu(i.title),e.xp6(2),e.Q6J("key",i.voucher.reference)("keys",i.references),e.xp6(4),e.Q6J("disabled",i.invalid()))},directives:[l.uh,l.xY,Q,l.H8,g.lW,l.ZT],encapsulation:2}),n})(),Y=(()=>{class n{constructor(t){this.httpService=t}read(t){return this.httpService.get(m.C.USERS+"/"+t)}searchMobiles(t){return(0,p.of)(["6","666000222","666000333"])}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(T.O))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var rt=h(7594);function lt(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" - Total Pay: ",e.Dn7(2,1,t.totalCommitted(),"EUR","symbol"),"")}}function ct(n,o){1&n&&(e.TgZ(0,"span"),e.TgZ(1,"mat-icon",8),e._uU(2,"report_problem"),e.qZA(),e._uU(3," Uncommit articles & phone not registered"),e.qZA())}function st(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),r=e.MAs(8);return a.searchUser(r.value)}),e.TgZ(1,"mat-icon",8),e._uU(2,"search"),e.qZA(),e.qZA()}}function dt(n,o){1&n&&(e.TgZ(0,"button",20),e.TgZ(1,"mat-icon",8),e._uU(2,"mode_edit"),e.qZA(),e.qZA())}function ut(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){return e.CHM(t),e.oxw().resetMobile()}),e.TgZ(1,"mat-icon",8),e._uU(2,"close"),e.qZA(),e.qZA()}}function mt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-checkbox",21),e.NdJ("change",function(){return e.CHM(t),e.oxw().clickedUsePoints()}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.hij("Use Points (Points: ",t.customerPointsValue," Discount: 5 EUR)")}}function pt(n,o){if(1&n&&(e.TgZ(0,"div",22),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" Cash Return: ",e.Dn7(2,1,t.returnedCash(),"EUR","symbol")," ")}}function gt(n,o){if(1&n&&(e.TgZ(0,"span",23),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("( => ",t.totalCommitted(),")")}}let ve=(()=>{class n{constructor(t,i,a,r,f,A){this.dialogRef=i,this.shoppingCartService=a,this.dialog=r,this.sharedUserService=f,this.sharedCustomerPointsService=A,this.requestedInvoice=!1,this.requestedGiftTicket=!1,this.requestedDataProtectionAct=!1,this.creditLinePayment=!1,this.customerPointsValue=0,this.ticketCreation={cash:0,card:0,voucher:0,shoppingList:t,note:""},this.giftTicket={message:" ",ticket:" "},this.total()}total(){this.totalPurchase=0;for(const t of this.ticketCreation.shoppingList)this.totalPurchase=this.totalPurchase+t.total;this.totalPurchase=Math.round(100*this.totalPurchase)/100}format(t){return t||0}searchUser(t){t&&(this.ticketCreation.user={mobile:Number(t)},this.sharedUserService.read(Number(t)).subscribe(i=>{this.ticketCreation.user=i,this.getCustomerPointsValue()}))}managedMobile(){return!!this.ticketCreation.user}resetMobile(){this.ticketCreation.user=void 0}unCommitted(){for(const t of this.ticketCreation.shoppingList)if(!t.state&&t.amount>0)return!0;return!1}totalCommitted(){let t=0;for(const i of this.ticketCreation.shoppingList)i.state&&(t+=i.total);return Math.round(100*t)/100}warning(){return!this.managedMobile()&&this.unCommitted()}returnedAmount(){return Math.round(100*(this.format(this.ticketCreation.cash)+this.format(this.ticketCreation.card)+this.format(this.ticketCreation.voucher)-this.totalPurchase))/100}returnedCash(){return this.ticketCreation.cash>=this.returnedAmount()?this.returnedAmount():this.ticketCreation.cash}fillCard(){this.returnedAmount()<0?this.ticketCreation.card=-this.returnedAmount():(this.ticketCreation.card=this.totalPurchase,this.ticketCreation.cash=0)}fillCash(){this.ticketCreation.cash=this.format(this.ticketCreation.cash),this.ticketCreation.cash=this.returnedAmount()<0&&0===this.ticketCreation.cash?-this.returnedAmount():this.ticketCreation.cash<20?5*(Math.round(this.ticketCreation.cash/5)+1):this.ticketCreation.cash<50?10*(Math.round(this.ticketCreation.cash/10)+1):50*(Math.round(this.ticketCreation.cash/50)+1)}consumeVoucher(){this.dialog.open(at)}invalidCheckOut(){return this.totalPurchase+this.returnedAmount()-this.totalCommitted()<-.01}round(t){return Math.round(100*t)/100}pay(){const t=this.returnedAmount(),i=this.ticketCreation.cash;let a=0;this.ticketCreation.cash=this.format(this.ticketCreation.cash),this.ticketCreation.card=this.format(this.ticketCreation.card),this.ticketCreation.voucher=this.format(this.ticketCreation.voucher),t>0&&(this.ticketCreation.cash-=t),this.ticketCreation.cash<0&&(a=-this.ticketCreation.cash,this.ticketCreation.cash=0),this.ticketCreation.note="Saved points: "+this.customerPointsValue.toString(),this.ticketCreation.card>0&&(this.ticketCreation.note+=" Pay with card: "+this.round(this.ticketCreation.card)+"."),this.ticketCreation.voucher>0&&(this.ticketCreation.note+=" Pay with voucher: "+this.round(this.ticketCreation.voucher)+"."),this.ticketCreation.cash>0&&(this.ticketCreation.note+=" Pay with cash: "+this.round(i)+"."),this.ticketCreation.note||(this.ticketCreation.note+=" No Pay."),t>0&&(this.ticketCreation.note+=" Return: "+this.round(t)+"."),this.shoppingCartService.createTicketAndPrintReceipts(this.ticketCreation,a,this.requestedInvoice,this.requestedGiftTicket,this.requestedDataProtectionAct).subscribe(()=>this.dialogRef.close(!0))}invalidInvoice(){return void 0===this.ticketCreation.user||void 0===this.ticketCreation.user.dni||void 0===this.ticketCreation.user.firstName||void 0===this.ticketCreation.user.familyName||void 0===this.ticketCreation.user.address}clickedGiftTicket(){1==this.requestedGiftTicket&&this.dialog.open(it,{width:"250px",data:{message:this.giftTicket.message}}).afterClosed().subscribe(i=>{console.log("The dialog was closed. Mensaje:"+i),this.giftTicket.message=i})}getCustomerPointsValue(){var t;this.sharedCustomerPointsService.read(null===(t=this.ticketCreation.user.mobile)||void 0===t?void 0:t.toString()).subscribe(i=>{this.customerPointsValue=i.value})}clickedUsePoints(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.WI),e.Y36(l.so),e.Y36(V),e.Y36(l.uw),e.Y36(Y),e.Y36(rt.f))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:47,vars:28,consts:[["mat-dialog-title",""],[4,"ngIf"],["matInput","","placeholder","Mobile","type","number",3,"disabled"],["mobile",""],["mat-button","","mat-icon-button","","matSuffix","",3,"click",4,"ngIf"],["mat-button","","mat-icon-button","","matSuffix","",4,"ngIf"],["cdkFocusInitial","","matInput","","placeholder","Cash","type","number",3,"ngModel","ngModelChange"],["mat-button","","mat-icon-button","","matSuffix","",3,"click"],["color","warn"],["matInput","","placeholder","Card","type","number",3,"ngModel","ngModelChange"],["aria-label","Card","mat-button","","mat-icon-button","","matSuffix","",3,"click"],["matInput","","placeholder","Voucher","type","number",3,"ngModel","disabled","ngModelChange"],["aria-label","Voucher","mat-button","","mat-icon-button","","matSuffix","",3,"click"],[3,"change",4,"ngIf"],[3,"ngModel","disabled","ngModelChange"],[3,"ngModel","disabled","ngModelChange","change"],["class","mat-raised-button mat-primary",4,"ngIf"],["cdkFocusInitial","","mat-raised-button","",3,"mat-dialog-close"],["color","accent","mat-raised-button","",3,"disabled","click"],["class","mat-suffix",4,"ngIf"],["mat-button","","mat-icon-button","","matSuffix",""],[3,"change"],[1,"mat-raised-button","mat-primary"],[1,"mat-suffix"]],template:function(t,i){1&t&&(e.TgZ(0,"h2",0),e._uU(1),e.ALo(2,"currency"),e.YNc(3,lt,3,5,"span",1),e.qZA(),e.TgZ(4,"mat-dialog-content"),e.YNc(5,ct,4,0,"span",1),e.TgZ(6,"mat-form-field"),e._UZ(7,"input",2,3),e.YNc(9,st,3,0,"button",4),e.YNc(10,dt,3,0,"button",5),e.YNc(11,ut,3,0,"button",4),e.qZA(),e.TgZ(12,"mat-form-field"),e.TgZ(13,"input",6),e.NdJ("ngModelChange",function(r){return i.ticketCreation.cash=r}),e.qZA(),e.TgZ(14,"button",7),e.NdJ("click",function(){return i.fillCash()}),e.TgZ(15,"mat-icon",8),e._uU(16,"euro_symbol"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"mat-form-field"),e.TgZ(18,"input",9),e.NdJ("ngModelChange",function(r){return i.ticketCreation.card=r}),e.qZA(),e.TgZ(19,"button",10),e.NdJ("click",function(){return i.fillCard()}),e.TgZ(20,"mat-icon",8),e._uU(21,"credit_card"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"mat-form-field"),e.TgZ(23,"input",11),e.NdJ("ngModelChange",function(r){return i.ticketCreation.voucher=r}),e.qZA(),e.TgZ(24,"button",12),e.NdJ("click",function(){return i.consumeVoucher()}),e.TgZ(25,"mat-icon",8),e._uU(26,"local_offer"),e.qZA(),e.qZA(),e.qZA(),e.YNc(27,mt,2,1,"mat-checkbox",13),e.TgZ(28,"mat-checkbox",14),e.NdJ("ngModelChange",function(r){return i.requestedInvoice=r}),e.TgZ(29,"span"),e._uU(30," Create Invoice"),e.qZA(),e.qZA(),e.TgZ(31,"mat-checkbox",15),e.NdJ("ngModelChange",function(r){return i.requestedGiftTicket=r})("change",function(){return i.clickedGiftTicket()}),e.TgZ(32,"span"),e._uU(33,"Create Gift Ticket"),e.qZA(),e.qZA(),e.TgZ(34,"mat-checkbox",14),e.NdJ("ngModelChange",function(r){return i.requestedDataProtectionAct=r}),e.TgZ(35,"span"),e._uU(36,"Data Protection Act"),e.qZA(),e.qZA(),e.TgZ(37,"mat-checkbox",14),e.NdJ("ngModelChange",function(r){return i.creditLinePayment=r}),e.TgZ(38,"span"),e._uU(39,"Pay with credit line"),e.qZA(),e.qZA(),e.YNc(40,pt,3,5,"div",16),e.qZA(),e.TgZ(41,"mat-dialog-actions"),e.TgZ(42,"button",17),e._uU(43,"Cancel"),e.qZA(),e.TgZ(44,"button",18),e.NdJ("click",function(){return i.pay()}),e._uU(45,"Pay "),e.YNc(46,gt,2,1,"span",19),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.hij("Total purchase: ",e.Dn7(2,24,i.totalPurchase,"EUR","symbol")," "),e.xp6(2),e.Q6J("ngIf",i.unCommitted()),e.xp6(2),e.Q6J("ngIf",i.warning()),e.xp6(2),e.Q6J("disabled",i.managedMobile()),e.xp6(2),e.Q6J("ngIf",!i.managedMobile()),e.xp6(1),e.Q6J("ngIf",i.managedMobile()),e.xp6(1),e.Q6J("ngIf",i.managedMobile()),e.xp6(2),e.Q6J("ngModel",i.ticketCreation.cash),e.xp6(5),e.Q6J("ngModel",i.ticketCreation.card),e.xp6(5),e.Q6J("ngModel",i.ticketCreation.voucher)("disabled",!0),e.xp6(4),e.Q6J("ngIf",i.managedMobile()),e.xp6(1),e.Q6J("ngModel",i.requestedInvoice)("disabled",i.invalidInvoice()),e.xp6(3),e.Q6J("ngModel",i.requestedGiftTicket)("disabled",!1),e.xp6(3),e.Q6J("ngModel",i.requestedDataProtectionAct)("disabled",!0),e.xp6(3),e.Q6J("ngModel",i.creditLinePayment)("disabled",!0),e.xp6(3),e.Q6J("ngIf",!i.invalidCheckOut()&&i.returnedCash()>0),e.xp6(2),e.Q6J("mat-dialog-close",!1),e.xp6(2),e.Q6J("disabled",i.invalidCheckOut()),e.xp6(2),e.Q6J("ngIf",i.invalidCheckOut()))},directives:[l.uh,_.O5,l.xY,s.KE,C.Nt,c.wV,c.Fj,c.JJ,c.On,g.lW,s.R9,Z.Hw,z.oG,l.H8,l.ZT],pipes:[_.H9],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-height:500px;min-width:300px}.mat-cell[_ngcontent-%COMP%]{overflow:visible}.mat-table[_ngcontent-%COMP%]{overflow:auto;max-height:600px}.mat-column-[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),n})(),X=(()=>{class n{constructor(t){this.value=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:6,vars:2,consts:[["matInput","","type","number",3,"ngModel","ngModelChange"],["mat-raised-button","","type","submit",3,"mat-dialog-close"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-dialog-content"),e.TgZ(1,"mat-form-field"),e.TgZ(2,"input",0),e.NdJ("ngModelChange",function(r){return i.value=r}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(3,"mat-dialog-actions"),e.TgZ(4,"button",1),e._uU(5,"Change"),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngModel",i.value),e.xp6(2),e.Q6J("mat-dialog-close",i.value))},directives:[l.xY,s.KE,C.Nt,c.wV,c.Fj,c.JJ,c.On,l.H8,g.lW,l.ZT],styles:[".mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),n})(),W=(()=>{class n{constructor(t){this.httpService=t}create(t){return this.httpService.successful().post(m.C.CUSTOMER_DISCOUNTS,t)}read(t){return this.httpService.get(m.C.CUSTOMER_DISCOUNTS+"/"+t)}search(t){return this.httpService.paramsFrom(t).get(m.C.CUSTOMER_DISCOUNTS)}update(t,i){return this.httpService.successful().put(m.C.CUSTOMER_DISCOUNTS+"/"+t,i)}delete(t){return this.httpService.successful().delete(m.C.CUSTOMER_DISCOUNTS+"/"+t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(T.O))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ne=h(9966);function _t(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return a.applyDiscount(a.data.cart)}),e._uU(1," Add to Cart "),e.qZA()}}function ht(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"p"),e._uU(2),e.qZA(),e.TgZ(3,"p"),e._uU(4),e.qZA(),e.TgZ(5,"mat-dialog-actions"),e.TgZ(6,"button",3),e._uU(7,"Close"),e.qZA(),e.YNc(8,_t,2,0,"button",4),e.ALo(9,"async"),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.AsE(" The mobile ",t.customer_discount.userMobile," has a discount of ",t.customer_discount.discount," %"),e.xp6(2),e.hij("Minimmum price to be applied is ",t.customer_discount.minimmumPurchase," $"),e.xp6(4),e.Q6J("ngIf",e.lcZ(9,4,t.selected_customer_discount))}}function ft(n,o){if(1&n&&(e.TgZ(0,"mat-dialog-content"),e.TgZ(1,"mat-label"),e._uU(2,"Customer discount has not found mobile "),e.TgZ(3,"i"),e._uU(4),e.qZA(),e.qZA(),e.qZA(),e.TgZ(5,"mat-dialog-actions"),e.TgZ(6,"button",3),e._uU(7,"Close"),e.qZA(),e.qZA()),2&n){const t=e.oxw();e.xp6(4),e.hij("'",t.data.mobile,"'")}}let qe=(()=>{class n{constructor(t,i,a){this.data=t,this.customerDiscountService=i,this._snackBar=a,this.selected_customer_discount=this.customerDiscountService.read(t.mobile),this.selected_customer_discount.subscribe({next:r=>{this.customer_discount=r}})}calculateTotal(t){let i=0;for(const a of t)i+=a.total;return i}updateDiscount(t){for(let i=0;i<t.length;i++)t[i].discount=this.customer_discount.discount,t[i].updateTotal()}applyDiscount(t){this.calculateTotal(t)>this.customer_discount.minimmumPurchase?(this.updateDiscount(t),this._snackBar.open("Customer discount applied","Close",{duration:3e3})):this._snackBar.open("Customer discount not applied","Close",{duration:3e3})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.WI),e.Y36(W),e.Y36(ne.ux))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-shopping-cart-discount-less-than-dialog"]],decls:6,vars:4,consts:[["mat-dialog-title",""],[4,"ngIf","ngIfElse"],["customerDiscountNotFound",""],["cdkFocusInitial","","mat-dialog-close","","mat-raised-button",""],["color","primary","mat-raised-button","",3,"click",4,"ngIf"],["color","primary","mat-raised-button","",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"h2",0),e._uU(1,"Select Mobile Reference"),e.qZA(),e.YNc(2,ht,10,6,"ng-container",1),e.ALo(3,"async"),e.YNc(4,ft,8,1,"ng-template",null,2,e.W1O)),2&t){const a=e.MAs(5);e.xp6(2),e.Q6J("ngIf",e.lcZ(3,2,i.selected_customer_discount))("ngIfElse",a)}},directives:[l.uh,_.O5,l.H8,g.lW,l.ZT,l.xY,s.hX],pipes:[_.Ov],encapsulation:2}),n})(),Ct=(()=>{class n{constructor(t){this.httpService=t}readArticlesTree(t){return this.httpService.param("reference",t).get(m.C.ARTICLES_FAMILY+"/"+t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(T.O))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var O=h(5243);let Zt=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-articles-card"]],inputs:{item:"item"},decls:9,vars:2,consts:[[1,"articles-card"],[1,"description"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-card",0),e.TgZ(1,"mat-card-header"),e.TgZ(2,"mat-card-title"),e.TgZ(3,"mat-icon"),e._uU(4,"list"),e.qZA(),e._uU(5),e.qZA(),e.qZA(),e.TgZ(6,"mat-card-content"),e.TgZ(7,"span",1),e._uU(8),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(5),e.hij(" ",i.item.title," "),e.xp6(3),e.hij(" ",i.item.description," "))},directives:[u.a8,u.dk,u.n5,Z.Hw,u.dn],styles:[".articles-card[_ngcontent-%COMP%]{background:rgba(255,160,122,.66);height:140px}"]}),n})(),Tt=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-article-card"]],inputs:{item:"item"},decls:25,vars:4,consts:[[1,"article-card"],[1,"description"],[1,"price"],[1,"stock"],["align","end"],["mat-icon-button",""]],template:function(t,i){1&t&&(e.TgZ(0,"mat-card",0),e.TgZ(1,"mat-card-header"),e.TgZ(2,"mat-card-title"),e.TgZ(3,"mat-icon"),e._uU(4," local_offer"),e.qZA(),e._uU(5),e.qZA(),e.qZA(),e.TgZ(6,"mat-card-content"),e.TgZ(7,"p"),e.TgZ(8,"span",1),e._uU(9),e.qZA(),e._UZ(10,"br"),e._UZ(11,"br"),e.TgZ(12,"span",2),e.TgZ(13,"strong"),e._uU(14,"Price:"),e.qZA(),e._uU(15),e.qZA(),e._UZ(16,"br"),e.TgZ(17,"span",3),e.TgZ(18,"strong"),e._uU(19,"Stock:"),e.qZA(),e._uU(20),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"mat-card-actions",4),e.TgZ(22,"button",5),e.TgZ(23,"mat-icon"),e._uU(24,"add_shopping_cart"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(5),e.hij(" ",i.item.title," "),e.xp6(4),e.Oqu(i.item.description),e.xp6(6),e.hij(" ",i.item.price,"\u20ac"),e.xp6(5),e.hij(" ",i.item.stock," uds."))},directives:[u.a8,u.dk,u.n5,Z.Hw,u.dn,u.hq,g.lW],styles:[".article-card[_ngcontent-%COMP%]{background:rgba(173,216,230,.8);height:220px}"]}),n})(),At=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-sizes-family-card"]],inputs:{item:"item"},decls:17,vars:3,consts:[[1,"sizes-family-card"],[1,"description"],[1,"price"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-card",0),e.TgZ(1,"mat-card-header"),e.TgZ(2,"mat-card-title"),e.TgZ(3,"mat-icon"),e._uU(4,"view_module"),e.qZA(),e._uU(5),e.qZA(),e.qZA(),e.TgZ(6,"mat-card-content"),e.TgZ(7,"p"),e.TgZ(8,"span",1),e._uU(9),e.qZA(),e._UZ(10,"br"),e._UZ(11,"br"),e.TgZ(12,"span",2),e.TgZ(13,"strong"),e._uU(14,"Price:"),e.qZA(),e._uU(15),e.qZA(),e._UZ(16,"br"),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(5),e.hij(" ",i.item.title," "),e.xp6(4),e.hij(" ",i.item.description," "),e.xp6(6),e.hij(" ",i.item.price,"\u20ac"))},directives:[u.a8,u.dk,u.n5,Z.Hw,u.dn],styles:[".sizes-family-card[_ngcontent-%COMP%]{background:rgba(240,128,128,.66);height:140px}"]}),n})();function bt(n,o){if(1&n&&e._UZ(0,"app-articles-card",6),2&n){const t=e.oxw().$implicit;e.Q6J("item",t)}}function vt(n,o){if(1&n&&e._UZ(0,"app-article-card",6),2&n){const t=e.oxw().$implicit;e.Q6J("item",t)}}function qt(n,o){if(1&n&&e._UZ(0,"app-sizes-family-card",6),2&n){const t=e.oxw().$implicit;e.Q6J("item",t)}}function St(n,o){if(1&n&&(e.TgZ(0,"div",4),e.YNc(1,bt,1,1,"app-articles-card",5),e.YNc(2,vt,1,1,"app-article-card",5),e.YNc(3,qt,1,1,"app-sizes-family-card",5),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf","ARTICLES"==t.type),e.xp6(1),e.Q6J("ngIf","ARTICLE"==t.type),e.xp6(1),e.Q6J("ngIf","SIZES"==t.type)}}let Se=(()=>{class n{constructor(t,i,a){this.dialogRef=t,this.reference=i,this.articlesFamilyServices=a,this.items=[{title:"Fam 1",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum blandit lectus lectus, accumsan elementum nunc ullamcorper sed.",type:"ARTICLES"},{title:"Fam 2",description:"Lorem ipsum dolor sit amet. Vestibulum blandit lectus lectus.",type:"ARTICLES"},{title:"Size fam 1",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. ",price:"14",type:"SIZES"},{title:"Size fam 2",description:"Lorem ipsum dolor sit amet.",price:"32",type:"SIZES"},{title:"Article 1",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum blandit lectus lectus.",price:"26",stock:"11",type:"ARTICLE"}],this.articles=this.articlesFamilyServices.readArticlesTree(i)}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.so),e.Y36(l.WI),e.Y36(Ct))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-articles-family-dialog"]],decls:6,vars:1,consts:[["mat-dialog-title",""],[1,"content"],["fxLayout","row wrap","fxLayoutGap","16px grid"],["fxFlex","25%","fxFlex.xs","100%","fxFlex.sm","33%",4,"ngFor","ngForOf"],["fxFlex","25%","fxFlex.xs","100%","fxFlex.sm","33%"],[3,"item",4,"ngIf"],[3,"item"]],template:function(t,i){1&t&&(e.TgZ(0,"h2",0),e._uU(1,"Articles Family"),e.qZA(),e.TgZ(2,"mat-dialog-content"),e.TgZ(3,"div",1),e.TgZ(4,"div",2),e.YNc(5,St,4,3,"div",3),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(5),e.Q6J("ngForOf",i.items))},directives:[l.uh,l.xY,O.xw,O.SQ,_.sg,O.yH,_.O5,Zt,Tt,At],styles:[".content[_ngcontent-%COMP%]{padding:16px}.row.wrap[_ngcontent-%COMP%]{margin-bottom:16px}"]}),n})(),ie=(()=>{class n{getAll(){return(0,p.of)([{reference:"A00001",creationDate:new Date,shoppings:[new Ze.L("000001","Description",42)]},{reference:"B02303",creationDate:new Date,shoppings:[]}])}findByReference(t){return this.getAll().pipe((0,S.U)(i=>i.filter(a=>a.reference.includes(t))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var G=h(2663);function Mt(n,o){if(1&n&&(e.TgZ(0,"mat-list-option"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.reference," ")}}function kt(n,o){if(1&n&&(e.TgZ(0,"button",8),e._uU(1," Add to Cart "),e.qZA()),2&n){e.oxw();const t=e.MAs(2);e.Q6J("disabled",0==t.selectedOptions.selected.length)}}function yt(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"mat-selection-list",3,4),e.YNc(3,Mt,2,1,"mat-list-option",5),e.ALo(4,"async"),e.qZA(),e.TgZ(5,"mat-dialog-actions"),e.TgZ(6,"button",6),e._uU(7,"Close"),e.qZA(),e.YNc(8,kt,2,1,"button",7),e.ALo(9,"async"),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("multiple",!1),e.xp6(2),e.Q6J("ngForOf",e.lcZ(4,3,t.budgets$)),e.xp6(5),e.Q6J("ngIf",e.lcZ(9,5,t.budgets$).length>0)}}function Ut(n,o){if(1&n&&(e.TgZ(0,"mat-dialog-content"),e.TgZ(1,"mat-label"),e._uU(2,"Budget not found including reference "),e.TgZ(3,"i"),e._uU(4),e.qZA(),e.qZA(),e.qZA(),e.TgZ(5,"mat-dialog-actions"),e.TgZ(6,"button",6),e._uU(7,"Close"),e.qZA(),e.qZA()),2&n){const t=e.oxw();e.xp6(4),e.hij("'",t.data,"'")}}let Me=(()=>{class n{constructor(t,i){this.data=t,this.sharedBudgetsService=i,this.budgets$=this.sharedBudgetsService.findByReference(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.WI),e.Y36(ie))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:6,vars:4,consts:[["mat-dialog-title",""],[4,"ngIf","ngIfElse"],["budgetsNotFound",""],[3,"multiple"],["selectBudgetList",""],[4,"ngFor","ngForOf"],["cdkFocusInitial","","mat-dialog-close","","mat-raised-button",""],["color","primary","mat-raised-button","",3,"disabled",4,"ngIf"],["color","primary","mat-raised-button","",3,"disabled"]],template:function(t,i){if(1&t&&(e.TgZ(0,"h2",0),e._uU(1,"Select Budget Reference"),e.qZA(),e.YNc(2,yt,10,7,"ng-container",1),e.ALo(3,"async"),e.YNc(4,Ut,8,1,"ng-template",null,2,e.W1O)),2&t){const a=e.MAs(5);e.xp6(2),e.Q6J("ngIf",e.lcZ(3,2,i.budgets$).length>0)("ngIfElse",a)}},directives:[l.uh,_.O5,G.Ub,_.sg,l.H8,g.lW,l.ZT,G.vS,l.xY,s.hX],pipes:[_.Ov],encapsulation:2}),n})(),Dt=(()=>{class n{constructor(t){this.sharedArticleService=t,this.barcodes=(0,p.of)([]),this.add=new e.vpe}onSelect(t){this.add.emit(t)}searchByBarcode(){this.barcodes=this.sharedArticleService.searchBarcode(this.barcode)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(E))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-search-by-barcode"]],inputs:{barcode:"barcode"},outputs:{add:"add"},decls:1,vars:2,consts:[["title","Barcode",3,"key","keys","renew","selected","keyChange"]],template:function(t,i){1&t&&(e.TgZ(0,"app-search",0),e.NdJ("renew",function(){return i.searchByBarcode()})("selected",function(r){return i.onSelect(r)})("keyChange",function(r){return i.barcode=r}),e.qZA()),2&t&&e.Q6J("key",i.barcode)("keys",i.barcodes)},directives:[Q],encapsulation:2}),n})();var d=h(9099);const xt=["code"];function Ot(n,o){if(1&n&&(e.TgZ(0,"mat-header-cell",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("",t.indexShoppingCart+1," #")}}function Jt(n,o){if(1&n&&(e.TgZ(0,"mat-cell",37),e._uU(1),e.qZA()),2&n){const t=o.index;e.xp6(1),e.hij(" ",t+1,"")}}function wt(n,o){1&n&&(e.TgZ(0,"mat-header-cell",38),e._uU(1," Description"),e.qZA())}function It(n,o){if(1&n&&(e.TgZ(0,"mat-cell",39),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("matTooltip",t.barcode),e.xp6(1),e.hij(" ",t.description,"")}}function Nt(n,o){1&n&&(e.TgZ(0,"mat-header-cell",40),e._uU(1," Retail Price"),e.qZA())}function Ft(n,o){if(1&n&&(e.TgZ(0,"mat-cell",40),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.retailPrice)}}function Pt(n,o){1&n&&(e.TgZ(0,"mat-header-cell",41),e._uU(1," N\xba"),e.qZA())}function Qt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell",41),e.TgZ(1,"button",42),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().decreaseAmount(r)}),e.TgZ(2,"mat-icon"),e._uU(3,"remove_circle_outline"),e.qZA(),e.qZA(),e._uU(4),e.TgZ(5,"button",42),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().incrementAmount(r)}),e.TgZ(6,"mat-icon"),e._uU(7,"add_circle_outline"),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=o.$implicit;e.xp6(4),e.hij(" ",t.amount," ")}}function Yt(n,o){1&n&&(e.TgZ(0,"mat-header-cell",43),e._uU(1," %"),e.qZA())}function Et(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell",44),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().updateDiscount(r)}),e._uU(1),e.qZA()}if(2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.discount)}}function Rt(n,o){1&n&&(e.TgZ(0,"mat-header-cell",43),e._uU(1," Total"),e.qZA())}function Lt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell",44),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().updateTotal(r)}),e._uU(1),e.qZA()}if(2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.total)}}function Ht(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-header-cell",45),e.TgZ(1,"button",46),e.NdJ("click",function(){return e.CHM(t),e.oxw().exchangeShoppingCart()}),e.TgZ(2,"mat-icon",12),e._uU(3,"autorenew"),e.qZA(),e.qZA(),e.qZA()}}function Bt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell",45),e.TgZ(1,"mat-checkbox",47),e.NdJ("change",function(){const r=e.CHM(t).$implicit;return e.oxw().changeCommitted(r)}),e.qZA(),e.TgZ(2,"button",46),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().delete(r)}),e.TgZ(3,"mat-icon",48),e._uU(4,"close"),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("checked",i.checkboxState(t.state))("disabled",t.amount<0)}}function jt(n,o){1&n&&e._UZ(0,"mat-header-row")}function Vt(n,o){1&n&&e._UZ(0,"mat-row")}let zt=(()=>{class n{constructor(t,i){this.dialog=t,this.shoppingCartService=i,this.barcodes=(0,p.of)([]),this.displayedColumns=["id","description","retailPrice","amount","discount","total","actions"],this.shoppingCart=[],this.indexShoppingCart=0,this.totalShoppingCart=0,this.shoppingCartList=[];for(let a=0;a<n.SHOPPING_CART_NUM;a++)this.shoppingCartList.push([]);this.shoppingCart=[]}ngOnInit(){this.elementRef.nativeElement.focus(),this.shoppingCart=[],this.synchronizeShoppingCart()}synchronizeShoppingCart(){this.shoppingCart=[...this.shoppingCart];let t=0;for(const i of this.shoppingCart)t+=i.total;this.totalShoppingCart=Math.round(100*t)/100}addBarcode(t){this.shoppingCartService.read(t).subscribe(i=>{this.shoppingCart.push(i),this.synchronizeShoppingCart()}),this.elementRef.nativeElement.focus()}incrementAmount(t){t.amount++,0===t.amount&&t.amount++,t.updateTotal(),this.synchronizeShoppingCart()}decreaseAmount(t){t.amount--,0===t.amount&&(t.amount--,t.state=y.o.COMMITTED),t.updateTotal(),this.synchronizeShoppingCart()}updateDiscount(t){this.dialog.open(X,{data:t.discount}).afterClosed().subscribe(i=>{i&&(t.discount=i,t.discount<0&&(t.discount=0),t.discount>100&&(t.discount=100),t.updateTotal(),this.synchronizeShoppingCart())})}updateTotal(t){this.dialog.open(X,{data:t.total}).afterClosed().subscribe(i=>{i&&(t.total=i,t.total>t.retailPrice*t.amount&&(t.total=t.retailPrice*t.amount),t.total<0&&(t.total=0),t.updateDiscount(),this.synchronizeShoppingCart())})}delete(t){const i=this.shoppingCart.indexOf(t);i>-1&&this.shoppingCart.splice(i,1),this.synchronizeShoppingCart()}checkboxState(t){return t===y.o.COMMITTED}changeCommitted(t){t.state=t.state===y.o.COMMITTED?y.o.NOT_COMMITTED:y.o.COMMITTED}isEmpty(){return!this.shoppingCart||0===this.shoppingCart.length}exchangeShoppingCart(){this.shoppingCartList[this.indexShoppingCart++]=this.shoppingCart,this.indexShoppingCart%=n.SHOPPING_CART_NUM,this.shoppingCart=this.shoppingCartList[this.indexShoppingCart],this.synchronizeShoppingCart()}checkOut(){this.dialog.open(ve,{data:this.shoppingCart}).afterClosed().subscribe(t=>{t&&this.ngOnInit()})}createBudget(){}selectBudget(t){this.dialog.open(Me,{data:t})}addDiscount(t){this.dialog.open(qe,{data:{mobile:t,cart:this.shoppingCart}}).afterClosed().subscribe(i=>{this.synchronizeShoppingCart()})}addOffer(t){}showArticlesFamily(){this.dialog.open(Se,{data:"root"})}}return n.SHOPPING_CART_NUM=4,n.\u0275fac=function(t){return new(t||n)(e.Y36(l.uw),e.Y36(V))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-shopping-cart"]],viewQuery:function(t,i){if(1&t&&e.Gf(xt,7),2&t){let a;e.iGM(a=e.CRH())&&(i.elementRef=a.first)}},decls:77,vars:14,consts:[[1,"container"],["cdkFocusInitial","","matInput","","placeholder","Barcode","type","text"],["code",""],["color","primary","mat-icon-button","","type","submit",3,"disabled","click"],[3,"add"],["color","primary","mat-icon-button","",3,"click"],["matInput","","placeholder","Budge","type","text"],["budge",""],["matInput","","placeholder","Customer Discount","type","text"],["mobile",""],["matInput","","placeholder","Offers","type","text"],["offer",""],["color","primary"],[1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["fxFlex","5%",4,"matHeaderCellDef"],["fxFlex","5%",4,"matCellDef"],["matColumnDef","description"],["fxFlex","28%",4,"matHeaderCellDef"],["fxFlex","28%",3,"matTooltip",4,"matCellDef"],["matColumnDef","retailPrice"],["fxFlex","11%",4,"matHeaderCellDef"],["fxFlex","11%",4,"matCellDef"],["matColumnDef","amount"],["fxFlex","20%",4,"matHeaderCellDef"],["fxFlex","20%",4,"matCellDef"],["matColumnDef","discount"],["fxFlex","12%",4,"matHeaderCellDef"],["fxFlex","12%",3,"click",4,"matCellDef"],["matColumnDef","total"],["matColumnDef","actions"],["fxFlex","15%",4,"matHeaderCellDef"],["fxFlex","15%",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["color","accent","mat-raised-button","",3,"disabled","click"],["color","primary","mat-raised-button","",3,"disabled","click"],["fxFlex","5%"],["fxFlex","28%"],["fxFlex","28%",3,"matTooltip"],["fxFlex","11%"],["fxFlex","20%"],["color","accent","mat-icon-button","",3,"click"],["fxFlex","12%"],["fxFlex","12%",3,"click"],["fxFlex","15%"],["mat-button","","mat-icon-button","","matSuffix","",3,"click"],[3,"checked","disabled","change"],["color","warn"]],template:function(t,i){if(1&t){const a=e.EpF();e.TgZ(0,"mat-card"),e.TgZ(1,"mat-card-content"),e.TgZ(2,"div",0),e.TgZ(3,"form"),e.TgZ(4,"mat-form-field"),e._UZ(5,"input",1,2),e.qZA(),e.TgZ(7,"button",3),e.NdJ("click",function(){e.CHM(a);const f=e.MAs(6);return i.addBarcode(f.value),f.value=""}),e.TgZ(8,"mat-icon"),e._uU(9,"add_circle"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"app-search-by-barcode",4),e.NdJ("add",function(f){return i.addBarcode(f)}),e.qZA(),e.TgZ(11,"button",5),e.NdJ("click",function(){return i.showArticlesFamily()}),e.TgZ(12,"mat-icon"),e._uU(13,"category"),e.qZA(),e.qZA(),e.TgZ(14,"form"),e.TgZ(15,"mat-form-field"),e._UZ(16,"input",6,7),e.qZA(),e.TgZ(18,"button",3),e.NdJ("click",function(){e.CHM(a);const f=e.MAs(17);return i.selectBudget(f.value)}),e.TgZ(19,"mat-icon"),e._uU(20,"description"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"form"),e.TgZ(22,"mat-form-field"),e._UZ(23,"input",8,9),e.qZA(),e.TgZ(25,"button",3),e.NdJ("click",function(){e.CHM(a);const f=e.MAs(24);return i.addDiscount(f.value)}),e.TgZ(26,"mat-icon"),e._uU(27,"money_off"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"form"),e.TgZ(29,"mat-form-field"),e._UZ(30,"input",10,11),e.qZA(),e.TgZ(32,"button",3),e.NdJ("click",function(){e.CHM(a);const f=e.MAs(31);return i.addOffer(f.value)}),e.TgZ(33,"mat-icon"),e._uU(34,"local_atm"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"mat-card"),e.TgZ(36,"mat-card-title"),e.TgZ(37,"mat-icon",12),e._uU(38,"shopping_cart"),e.qZA(),e._uU(39),e.ALo(40,"currency"),e.qZA(),e.TgZ(41,"mat-card-content"),e.TgZ(42,"mat-table",13),e.ynx(43,14),e.YNc(44,Ot,2,1,"mat-header-cell",15),e.YNc(45,Jt,2,1,"mat-cell",16),e.BQk(),e.ynx(46,17),e.YNc(47,wt,2,0,"mat-header-cell",18),e.YNc(48,It,2,2,"mat-cell",19),e.BQk(),e.ynx(49,20),e.YNc(50,Nt,2,0,"mat-header-cell",21),e.YNc(51,Ft,2,1,"mat-cell",22),e.BQk(),e.ynx(52,23),e.YNc(53,Pt,2,0,"mat-header-cell",24),e.YNc(54,Qt,8,1,"mat-cell",25),e.BQk(),e.ynx(55,26),e.YNc(56,Yt,2,0,"mat-header-cell",27),e.YNc(57,Et,2,1,"mat-cell",28),e.BQk(),e.ynx(58,29),e.YNc(59,Rt,2,0,"mat-header-cell",27),e.YNc(60,Lt,2,1,"mat-cell",28),e.BQk(),e.ynx(61,30),e.YNc(62,Ht,4,0,"mat-header-cell",31),e.YNc(63,Bt,5,2,"mat-cell",32),e.BQk(),e.YNc(64,jt,1,0,"mat-header-row",33),e.YNc(65,Vt,1,0,"mat-row",34),e.qZA(),e.qZA(),e.TgZ(66,"mat-card-content"),e.TgZ(67,"button",35),e.NdJ("click",function(){return i.checkOut()}),e.TgZ(68,"mat-icon"),e._uU(69,"credit_card"),e.qZA(),e._uU(70," Checkout "),e.TgZ(71,"mat-icon"),e._uU(72,"euro_symbol"),e.qZA(),e.qZA(),e.TgZ(73,"button",36),e.NdJ("click",function(){return i.createBudget()}),e.TgZ(74,"mat-icon"),e._uU(75,"description"),e.qZA(),e._uU(76," Budget "),e.qZA(),e.qZA(),e.qZA()}if(2&t){const a=e.MAs(6),r=e.MAs(17),f=e.MAs(24),A=e.MAs(31);e.xp6(7),e.Q6J("disabled",""===a.value),e.xp6(11),e.Q6J("disabled",""===r.value),e.xp6(7),e.Q6J("disabled",""===f.value),e.xp6(7),e.Q6J("disabled",""===A.value),e.xp6(7),e.hij(" Shopping Cart ",e.Dn7(40,10,i.totalShoppingCart,"EUR","symbol")," "),e.xp6(3),e.Q6J("dataSource",i.shoppingCart),e.xp6(22),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(2),e.Q6J("disabled",i.isEmpty()),e.xp6(6),e.Q6J("disabled",i.isEmpty())}},directives:[u.a8,u.dn,c._Y,c.JL,c.F,s.KE,C.Nt,g.lW,Z.Hw,Dt,u.n5,d.BZ,d.w1,d.fO,d.Dz,d.as,d.nj,d.ge,O.yH,d.ev,Ae.gM,s.R9,z.oG,d.XQ,d.Gk],pipes:[_.H9],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-height:500px;min-width:300px}.mat-cell[_ngcontent-%COMP%]{overflow:visible}.mat-table[_ngcontent-%COMP%]{overflow:auto;max-height:600px}.mat-column-[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),n})(),Xt=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&e._UZ(0,"app-shopping-cart")},directives:[zt],styles:[".search-zone[_ngcontent-%COMP%]{width:50%}.mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),n})();var Wt=h(8305);let oe=(()=>{class n{constructor(t){this.httpService=t}search(t){return this.httpService.get(m.C.CREDIT_LINES+"/"+t.mobile)}readAll(){return this.httpService.get(m.C.CREDIT_LINES)}readCreditSales(t){return(0,p.of)([{payed:!1,price:23.3,ticket:{id:"1",reference:"r1",mobile:+t}},{payed:!0,price:54.1,ticket:{id:"2",reference:"r2",mobile:+t}},{payed:!1,price:1123.3,ticket:{id:"3",reference:"r3",mobile:+t}}])}create(t){return this.httpService.post(m.C.CREDIT_LINES,{mobile:t})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(T.O))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gt=(()=>{class n{constructor(t,i,a,r){this.creditLineService=i,this.sharedUserService=a,this.dialog=r,this.title="Create a credit line for an user",this.completedData=!1,this.mobileExists=!0,this.creditLine={mobile:void 0,creationDate:void 0,sales:void 0}}create(){this.creditLineService.create(this.creditLine.mobile).subscribe(()=>this.dialog.closeAll())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.WI),e.Y36(oe),e.Y36(Y),e.Y36(l.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:12,vars:2,consts:[["mat-dialog-title",""],["matInput","",3,"ngModel","ngModelChange"],["cdkFocusInitial","","mat-dialog-close","","mat-raised-button",""],["color","primary","mat-raised-button","",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e.TgZ(2,"mat-dialog-content"),e.TgZ(3,"mat-form-field"),e.TgZ(4,"mat-label"),e._uU(5,"User Mobile"),e.qZA(),e.TgZ(6,"input",1),e.NdJ("ngModelChange",function(r){return i.creditLine.mobile=r}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"mat-dialog-actions"),e.TgZ(8,"button",2),e._uU(9,"Close"),e.qZA(),e.TgZ(10,"button",3),e.NdJ("click",function(){return i.create()}),e._uU(11,"Create "),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Oqu(i.title),e.xp6(5),e.Q6J("ngModel",i.creditLine.mobile))},directives:[l.uh,l.xY,s.KE,s.hX,C.Nt,c.Fj,c.JJ,c.On,l.H8,g.lW,l.ZT],styles:[".red-text[_ngcontent-%COMP%]{color:#8b0000}"]}),n})();function $t(n,o){1&n&&(e.TgZ(0,"mat-header-cell",17),e._uU(1,"Ticket reference"),e.qZA())}function Kt(n,o){if(1&n&&(e.TgZ(0,"mat-cell",17),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.ticket.reference)}}function en(n,o){1&n&&(e.TgZ(0,"mat-header-cell",17),e._uU(1,"Price"),e.qZA())}function tn(n,o){if(1&n&&(e.TgZ(0,"mat-cell",17),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.price)}}function nn(n,o){1&n&&(e.TgZ(0,"mat-header-cell",17),e._uU(1,"Payed"),e.qZA())}function on(n,o){if(1&n&&(e.TgZ(0,"mat-cell",17),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.payed)}}function an(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Actions"),e.qZA())}function rn(n,o){1&n&&e._UZ(0,"mat-checkbox")}function ln(n,o){if(1&n&&(e.TgZ(0,"mat-cell",17),e.YNc(1,rn,1,0,"mat-checkbox",18),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",!t.payed)}}function cn(n,o){1&n&&e._UZ(0,"mat-header-row")}function sn(n,o){1&n&&e._UZ(0,"mat-row")}let dn=(()=>{class n{constructor(t,i){this.dialog=t,this.creditLineService=i,this.creditLines=(0,p.of)([]),this.title="Credit lines management",this.actualMobile="Hello",this.creditSales=(0,p.of)([]),this.displayedColumns=["ticketReference","price","payed","actions"],this.actualMobile="",this.resetSearch(),this.creditLines=new Wt.y}resetSearch(){this.creditLineSearch={}}create(){this.dialog.open(Gt)}search(){null==this.creditLineSearch.mobile||""==this.creditLineSearch.mobile.trim()?this.creditLines=this.creditLineService.readAll():this.creditLineService.search(this.creditLineSearch).subscribe(t=>{this.creditLines=(0,p.of)([t])})}readCreditSales(t){this.actualMobile=t.mobile,this.creditSales=this.creditLineService.readCreditSales(t.mobile)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.uw),e.Y36(oe))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:43,vars:12,consts:[[1,"container"],["matInput","",3,"ngModel","ngModelChange"],[3,"disabled","ngModel","ngModelChange"],["mat-icon-button","",3,"click"],[3,"updateAction","data","deleteAction","title","create","read"],["fxFlex","60%"],[1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","ticketReference"],["fxFlex","25%",4,"matHeaderCellDef"],["fxFlex","25%",4,"matCellDef"],["matColumnDef","price"],["matColumnDef","payed"],["matColumnDef","actions"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["color","accent","mat-raised-button","",3,"disabled"],["fxFlex","25%"],[4,"ngIf"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-card"),e.TgZ(1,"mat-card-content"),e.TgZ(2,"div",0),e.TgZ(3,"mat-form-field"),e.TgZ(4,"mat-label"),e._uU(5,"User Mobile"),e.qZA(),e.TgZ(6,"input",1),e.NdJ("ngModelChange",function(r){return i.creditLineSearch.mobile=r}),e.qZA(),e.qZA(),e.TgZ(7,"mat-slide-toggle",2),e.NdJ("ngModelChange",function(r){return i.creditLineSearch.unpaidTickets=r}),e._uU(8,"Only users with debts"),e.qZA(),e.TgZ(9,"button",3),e.NdJ("click",function(){return i.search()}),e.TgZ(10,"mat-icon"),e._uU(11,"search"),e.qZA(),e.qZA(),e.TgZ(12,"button",3),e.NdJ("click",function(){return i.resetSearch()}),e.TgZ(13,"mat-icon"),e._uU(14,"close"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"app-crud",4),e.NdJ("create",function(){return i.create()})("read",function(r){return i.readCreditSales(r)}),e.qZA(),e.TgZ(16,"mat-card"),e.TgZ(17,"mat-card-content",5),e.TgZ(18,"mat-card-title"),e._uU(19),e.qZA(),e._UZ(20,"br"),e.TgZ(21,"mat-table",6),e.ynx(22,7),e.YNc(23,$t,2,0,"mat-header-cell",8),e.YNc(24,Kt,2,1,"mat-cell",9),e.BQk(),e.ynx(25,10),e.YNc(26,en,2,0,"mat-header-cell",8),e.YNc(27,tn,2,1,"mat-cell",9),e.BQk(),e.ynx(28,11),e.YNc(29,nn,2,0,"mat-header-cell",8),e.YNc(30,on,2,1,"mat-cell",9),e.BQk(),e.ynx(31,12),e.YNc(32,an,2,0,"mat-header-cell",13),e.YNc(33,ln,2,1,"mat-cell",9),e.BQk(),e.YNc(34,cn,1,0,"mat-header-row",14),e.YNc(35,sn,1,0,"mat-row",15),e.qZA(),e.TgZ(36,"button",16),e.TgZ(37,"mat-icon"),e._uU(38,"credit_card"),e.qZA(),e._uU(39," Checkout "),e.TgZ(40,"mat-icon"),e._uU(41,"euro_symbol"),e.qZA(),e.qZA(),e.qZA(),e._UZ(42,"br"),e.qZA()),2&t&&(e.xp6(6),e.Q6J("ngModel",i.creditLineSearch.mobile),e.xp6(1),e.Q6J("disabled",!0)("ngModel",i.creditLineSearch.unpaidTickets),e.xp6(8),e.Q6J("updateAction",!1)("data",i.creditLines)("deleteAction",!1)("title",i.title),e.xp6(4),e.hij("Tickets in credit line of ",i.actualMobile,""),e.xp6(2),e.Q6J("dataSource",i.creditSales),e.xp6(13),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("disabled",!0))},directives:[u.a8,u.dn,s.KE,s.hX,C.Nt,c.Fj,c.JJ,c.On,P.Rr,g.lW,Z.Hw,b.D,O.yH,u.n5,d.BZ,d.w1,d.fO,d.Dz,d.as,d.nj,d.ge,d.ev,_.O5,z.oG,d.XQ,d.Gk],styles:[".container[_ngcontent-%COMP%]{display:inline-flex}"]}),n})();function un(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){return e.CHM(t),e.oxw().create()}),e._uU(1,"Create "),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.invalid())}}function mn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){return e.CHM(t),e.oxw().update()}),e._uU(1,"Update "),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.invalid())}}let ke=(()=>{class n{constructor(t,i,a){this.providerService=i,this.dialog=a,this.title=t?"Update Provider":"Create Provider",this.provider=t||{company:void 0,nif:void 0,phone:void 0,active:!0},this.oldProvider=t?t.company:void 0}isCreate(){return void 0===this.oldProvider}create(){this.providerService.create(this.provider).subscribe(()=>this.dialog.closeAll())}update(){this.providerService.update(this.oldProvider,this.provider).subscribe(()=>this.dialog.closeAll())}invalid(){return this.check(this.provider.company)||this.check(this.provider.nif)||this.check(this.provider.phone)}check(t){return void 0===t||""===t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.WI),e.Y36(K),e.Y36(l.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:36,vars:10,consts:[["mat-dialog-title",""],[1,"full-width"],["id","company","matInput","","required","","type","text",3,"ngModel","ngModelChange"],["matInput","","required","","type","text",3,"ngModel","ngModelChange"],["matInput","","required","","type","number",3,"ngModel","ngModelChange"],["align","start"],["matInput","","type","email",3,"ngModel","ngModelChange"],["matInput","","type","text",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["cdkFocusInitial","","mat-dialog-close","","mat-raised-button",""],["color","primary","mat-raised-button","",3,"disabled","click",4,"ngIf"],["color","primary","mat-raised-button","",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e.TgZ(2,"mat-dialog-content"),e.TgZ(3,"mat-form-field",1),e.TgZ(4,"mat-label"),e._uU(5,"Company"),e.qZA(),e.TgZ(6,"input",2),e.NdJ("ngModelChange",function(r){return i.provider.company=r}),e.qZA(),e.qZA(),e.TgZ(7,"mat-form-field",1),e.TgZ(8,"mat-label"),e._uU(9,"NIF"),e.qZA(),e.TgZ(10,"input",3),e.NdJ("ngModelChange",function(r){return i.provider.nif=r}),e.qZA(),e.qZA(),e.TgZ(11,"mat-form-field",1),e.TgZ(12,"mat-label"),e._uU(13,"Phone"),e.qZA(),e.TgZ(14,"input",4),e.NdJ("ngModelChange",function(r){return i.provider.phone=r}),e.qZA(),e.TgZ(15,"mat-hint",5),e._uU(16,"9 digits"),e.qZA(),e.qZA(),e.TgZ(17,"mat-form-field",1),e.TgZ(18,"mat-label"),e._uU(19,"E-mail"),e.qZA(),e.TgZ(20,"input",6),e.NdJ("ngModelChange",function(r){return i.provider.email=r}),e.qZA(),e.qZA(),e.TgZ(21,"mat-form-field",1),e.TgZ(22,"mat-label"),e._uU(23,"Address"),e.qZA(),e.TgZ(24,"input",7),e.NdJ("ngModelChange",function(r){return i.provider.address=r}),e.qZA(),e.qZA(),e.TgZ(25,"mat-form-field",1),e.TgZ(26,"mat-label"),e._uU(27,"Note"),e.qZA(),e.TgZ(28,"input",7),e.NdJ("ngModelChange",function(r){return i.provider.note=r}),e.qZA(),e.qZA(),e.TgZ(29,"mat-slide-toggle",8),e.NdJ("ngModelChange",function(r){return i.provider.active=r}),e._uU(30,"Active"),e.qZA(),e.qZA(),e.TgZ(31,"mat-dialog-actions"),e.TgZ(32,"button",9),e._uU(33,"Close"),e.qZA(),e.YNc(34,un,2,1,"button",10),e.YNc(35,mn,2,1,"button",10),e.qZA()),2&t&&(e.xp6(1),e.Oqu(i.title),e.xp6(5),e.Q6J("ngModel",i.provider.company),e.xp6(4),e.Q6J("ngModel",i.provider.nif),e.xp6(4),e.Q6J("ngModel",i.provider.phone),e.xp6(6),e.Q6J("ngModel",i.provider.email),e.xp6(4),e.Q6J("ngModel",i.provider.address),e.xp6(4),e.Q6J("ngModel",i.provider.note),e.xp6(1),e.Q6J("ngModel",i.provider.active),e.xp6(5),e.Q6J("ngIf",i.isCreate()),e.xp6(1),e.Q6J("ngIf",!i.isCreate()))},directives:[l.uh,l.xY,s.KE,s.hX,C.Nt,c.Fj,c.Q7,c.JJ,c.On,c.wV,s.bx,P.Rr,l.H8,g.lW,l.ZT,_.O5],styles:["mat-dialog-content[_ngcontent-%COMP%]{width:250px}.full-width[_ngcontent-%COMP%]{width:100%}"]}),n})(),pn=(()=>{class n{constructor(t,i){this.dialog=t,this.providerService=i,this.title="Providers management",this.providers=(0,p.of)([]),this.resetSearch()}search(){this.providers=this.providerService.search(this.providerSearch)}resetSearch(){this.providerSearch={}}create(){this.dialog.open(ke).afterClosed().subscribe(()=>this.search())}read(t){this.dialog.open(M.Y,{data:{title:"Provider Details",object:this.providerService.read(t.company)}})}update(t){this.providerService.read(t.company).subscribe(i=>this.dialog.open(ke,{data:i}).afterClosed().subscribe(()=>this.search()))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.uw),e.Y36(K))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:24,vars:6,consts:[["matInput","",3,"ngModel","ngModelChange"],["mat-icon-button","",3,"click"],[3,"data","deleteAction","title","create","read","update"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-card"),e.TgZ(1,"mat-card-content"),e.TgZ(2,"mat-label"),e.TgZ(3,"strong"),e._uU(4,"Filters: "),e.qZA(),e.qZA(),e.TgZ(5,"mat-form-field"),e.TgZ(6,"mat-label"),e._uU(7,"Company"),e.qZA(),e.TgZ(8,"input",0),e.NdJ("ngModelChange",function(r){return i.providerSearch.company=r}),e.qZA(),e.qZA(),e.TgZ(9,"mat-form-field"),e.TgZ(10,"mat-label"),e._uU(11,"Phone"),e.qZA(),e.TgZ(12,"input",0),e.NdJ("ngModelChange",function(r){return i.providerSearch.phone=r}),e.qZA(),e.qZA(),e.TgZ(13,"mat-form-field"),e.TgZ(14,"mat-label"),e._uU(15,"Note"),e.qZA(),e.TgZ(16,"input",0),e.NdJ("ngModelChange",function(r){return i.providerSearch.note=r}),e.qZA(),e.qZA(),e.TgZ(17,"button",1),e.NdJ("click",function(){return i.search()}),e.TgZ(18,"mat-icon"),e._uU(19,"search"),e.qZA(),e.qZA(),e.TgZ(20,"button",1),e.NdJ("click",function(){return i.resetSearch()}),e.TgZ(21,"mat-icon"),e._uU(22,"close"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"app-crud",2),e.NdJ("create",function(){return i.create()})("read",function(r){return i.read(r)})("update",function(r){return i.update(r)}),e.qZA()),2&t&&(e.xp6(8),e.Q6J("ngModel",i.providerSearch.company),e.xp6(4),e.Q6J("ngModel",i.providerSearch.phone),e.xp6(4),e.Q6J("ngModel",i.providerSearch.note),e.xp6(7),e.Q6J("data",i.providers)("deleteAction",!1)("title",i.title))},directives:[u.a8,u.dn,s.hX,s.KE,C.Nt,c.Fj,c.JJ,c.On,g.lW,Z.Hw,b.D],encapsulation:2}),n})();var J=(()=>{return(n=J||(J={}))[n.Deposit=0]="Deposit",n[n.Withdrawal=1]="Withdrawal",J;var n})();class D{constructor(o){this.httpService=o}create(o){return this.httpService.patch(D.CASH_MOVEMENT,o)}}function gn(n,o){if(1&n&&(e.TgZ(0,"mat-option",8),e._uU(1),e.qZA()),2&n){const t=o.$implicit,i=e.oxw();e.Q6J("value",t),e.xp6(1),e.hij(" ",i.cashMovementType[t]," ")}}D.CASH_MOVEMENT=m.C.CASHIERS+"/cash-movement",D.\u0275fac=function(o){return new(o||D)(e.LFG(T.O))},D.\u0275prov=e.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"});let ye=(()=>{class n{constructor(t,i){this.dialogRef=t,this.cashMovementService=i,this.cashMovementType=J,this.cashMovementTypes=[J.Deposit,J.Withdrawal],this.cashMovement={cash:0,type:J.Deposit,description:void 0}}record(){this.cashMovementService.create(this.cashMovement).subscribe(()=>this.dialogRef.close())}invalid(){return!this.cashMovement.description}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.so),e.Y36(D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-cash-movement"]],decls:20,vars:6,consts:[["mat-dialog-title",""],["cdkFocusInitial","","matInput","","placeholder","Cash","required","","type","number","min","0",3,"ngModel","ngModelChange"],["matSuffix","","color","warn"],["placeholder","Type",3,"ngModel","value","ngModelChange","valueChange"],[3,"value",4,"ngFor","ngForOf"],["matInput","","placeholder","Description","required","","type","text",3,"ngModel","ngModelChange"],["cdkFocusInitial","","mat-dialog-close","","mat-raised-button",""],["color","accent","mat-raised-button","",3,"disabled","click"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"h2",0),e._uU(1,"Cash Movement"),e.qZA(),e.TgZ(2,"mat-dialog-content"),e.TgZ(3,"mat-form-field"),e.TgZ(4,"input",1),e.NdJ("ngModelChange",function(r){return i.cashMovement.cash=r}),e.qZA(),e.TgZ(5,"mat-icon",2),e._uU(6,"euro_symbol"),e.qZA(),e.qZA(),e.TgZ(7,"mat-form-field"),e.TgZ(8,"mat-select",3),e.NdJ("ngModelChange",function(r){return i.cashMovement.type=r})("valueChange",function(r){return i.cashMovement.type=r}),e.YNc(9,gn,2,2,"mat-option",4),e.qZA(),e.qZA(),e.TgZ(10,"mat-form-field"),e.TgZ(11,"input",5),e.NdJ("ngModelChange",function(r){return i.cashMovement.description=r}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"mat-dialog-actions"),e.TgZ(13,"button",6),e._uU(14,"Cancel"),e.qZA(),e.TgZ(15,"button",7),e.NdJ("click",function(){return i.record()}),e.TgZ(16,"mat-icon"),e._uU(17,"save"),e.qZA(),e.TgZ(18,"span"),e._uU(19,"Record"),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(4),e.Q6J("ngModel",i.cashMovement.cash),e.xp6(4),e.Q6J("ngModel",i.cashMovement.type)("value",i.cashMovement.type),e.xp6(1),e.Q6J("ngForOf",i.cashMovementTypes),e.xp6(2),e.Q6J("ngModel",i.cashMovement.description),e.xp6(4),e.Q6J("disabled",i.invalid()))},directives:[l.uh,l.xY,s.KE,C.Nt,c.qQ,c.wV,c.Fj,c.Q7,c.JJ,c.On,Z.Hw,s.R9,k.gD,_.sg,l.H8,g.lW,l.ZT,v.ey],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-height:500px;min-width:300px}.mat-cell[_ngcontent-%COMP%]{overflow:visible}.mat-table[_ngcontent-%COMP%]{overflow:auto;max-height:600px}.mat-column-[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),n})(),_n=(()=>{class n{constructor(t,i,a){this.dialog=t,this.dialogRef=i,this.cashierService=a,this.cashierFinal={finalCash:null,finalCard:null,comment:void 0},this.cashierState=this.cashierService.readState()}close(){this.cashierService.close(this.cashierFinal).subscribe(()=>this.dialogRef.close())}invalid(){return!this.cashierFinal.finalCash&&0!==this.cashierFinal.finalCash||!this.cashierFinal.finalCard&&0!==this.cashierFinal.finalCard||!this.cashierFinal.comment}cashMovement(){this.dialog.open(ye).afterClosed().subscribe(()=>this.cashierState=this.cashierService.readState())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.uw),e.Y36(l.so),e.Y36(he))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:27,vars:16,consts:[["mat-dialog-title",""],["matInput","","required","","type","number",3,"ngModel","placeholder","ngModelChange"],["matInput","","placeholder","Total vouchers","readonly","","type","number",3,"ngModel"],["matInput","","placeholder","Comment","required","","type","text",3,"ngModel","ngModelChange"],["cdkFocusInitial","","mat-dialog-close","","mat-raised-button",""],["color","accent","mat-raised-button","",3,"disabled","click"],["color","primary","mat-raised-button","",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"h3",0),e._uU(1),e.ALo(2,"async"),e.qZA(),e.TgZ(3,"mat-dialog-content"),e.TgZ(4,"mat-form-field"),e.TgZ(5,"input",1),e.NdJ("ngModelChange",function(r){return i.cashierFinal.finalCash=r}),e.ALo(6,"async"),e.qZA(),e.qZA(),e.TgZ(7,"mat-form-field"),e.TgZ(8,"input",1),e.NdJ("ngModelChange",function(r){return i.cashierFinal.finalCard=r}),e.ALo(9,"async"),e.qZA(),e.qZA(),e.TgZ(10,"mat-form-field"),e._UZ(11,"input",2),e.ALo(12,"async"),e.qZA(),e.TgZ(13,"mat-form-field"),e.TgZ(14,"input",3),e.NdJ("ngModelChange",function(r){return i.cashierFinal.comment=r}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"mat-dialog-actions"),e.TgZ(16,"button",4),e._uU(17,"Cancel"),e.qZA(),e.TgZ(18,"button",5),e.NdJ("click",function(){return i.close()}),e.TgZ(19,"mat-icon"),e._uU(20,"lock_outline"),e.qZA(),e._uU(21," Close cashier "),e.qZA(),e.TgZ(22,"button",6),e.NdJ("click",function(){return i.cashMovement()}),e.TgZ(23,"mat-icon"),e._uU(24,"account_balance_wallet"),e.qZA(),e.TgZ(25,"span"),e._uU(26,"Cash movement"),e.qZA(),e.qZA(),e.qZA()),2&t){let a,r,f,A;e.xp6(1),e.hij("Cashier Closure (total sales: \u20ac ",null==(a=e.lcZ(2,8,i.cashierState))?null:a.totalSales,")"),e.xp6(4),e.MGl("placeholder","Final cash (\u20ac ",null==(r=e.lcZ(6,10,i.cashierState))?null:r.totalCash,")"),e.Q6J("ngModel",i.cashierFinal.finalCash),e.xp6(3),e.MGl("placeholder","Final card (\u20ac ",null==(f=e.lcZ(9,12,i.cashierState))?null:f.totalCard,")"),e.Q6J("ngModel",i.cashierFinal.finalCard),e.xp6(3),e.Q6J("ngModel",null==(A=e.lcZ(12,14,i.cashierState))?null:A.totalVoucher),e.xp6(3),e.Q6J("ngModel",i.cashierFinal.comment),e.xp6(4),e.Q6J("disabled",i.invalid())}},directives:[l.uh,l.xY,s.KE,C.Nt,c.wV,c.Fj,c.Q7,c.JJ,c.On,l.H8,g.lW,l.ZT,Z.Hw],pipes:[_.Ov],styles:[".search-zone[_ngcontent-%COMP%]{width:50%}.mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),n})(),hn=(()=>{class n{constructor(t){this.httpService=t}create(t){return(0,p.of)(console.log("Success"))}}return n.SEARCH="/search",n.UNFINISHED="/unfinished",n.\u0275fac=function(t){return new(t||n)(e.LFG(T.O))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Ue=h(9859);function fn(n,o){if(1&n&&(e.TgZ(0,"mat-option",19),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function Cn(n,o){if(1&n&&(e.TgZ(0,"mat-option",19),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function Zn(n,o){if(1&n&&(e.TgZ(0,"mat-option",19),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}let De=(()=>{class n{constructor(t,i,a){this.articleSizeFamilyCreationService=i,this.dialog=a,this.taxValues=Object.keys(U).filter(A=>isNaN(Number(A))),this.companies=(0,p.of)([]),this.form={addNumber:1,min:0,max:60,selectSize:"",letterMin:"XSS",letterMax:"Especial"},this.letterOptions=["XSS","XS","S","M","L","XL","XXL","XXXL","Especial"],this.articleSizeFamily=t||{barcode:void 0,description:void 0,retailPrice:void 0,providerCompany:void 0,tax:U.GENERAL,size:void 0,nums:[]};let r=parseInt(999999*Math.random()+"")+"",f=r.length;for(let A=0;A<6-f;A++)r="0"+r;this.articleSizeFamily.barcode="8400000"+r}ngOnInit(){}create(){let t=[];for(let i=this.form.min;i<this.form.max;i++)t.push(this.form.min*this.form.addNumber);console.log("articleSizeFamily",this.articleSizeFamily),this.articleSizeFamily.nums=t,this.articleSizeFamilyCreationService.create(this.articleSizeFamily).subscribe(()=>this.dialog.closeAll())}invalid(){return console.log("articleSizeFamily",this.articleSizeFamily),this.check(this.articleSizeFamily.barcode)||this.check(this.articleSizeFamily.description)||this.check(this.articleSizeFamily.providerCompany)||void 0===this.articleSizeFamily.retailPrice||null}check(t){return void 0===t||""===t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.WI),e.Y36(hn),e.Y36(l.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-articles-size-family-creation"]],decls:51,vars:13,consts:[["mat-dialog-title",""],[2,"width","100%"],["matInput","","required","","type","text",3,"ngModel","ngModelChange"],[3,"company","companyChange"],[2,"width","25%","margin-right","10px"],["matInput","","required","","type","number",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["aria-label","Select an option",1,"size-type"],[1,"size-wrapper"],["value","1"],[2,"margin-left","10px","width","15%"],["matInput","","type","number","oninput","if(value>60)value=60;if(value<0)value=0",3,"ngModel","ngModelChange"],["matInput","","type","number","oninput","if(value>60)value=60;if(value<1)value=1",3,"ngModel","ngModelChange"],["value","2"],[2,"width","30%","margin-left","15px"],["mat-dialog-actions",""],["mat-dialog-close","","mat-raised-button",""],["color","primary","mat-raised-button","",3,"disabled","click"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"h2",0),e._uU(1,"Size Family Creation"),e.qZA(),e.TgZ(2,"mat-dialog-content"),e.TgZ(3,"mat-form-field",1),e.TgZ(4,"mat-label"),e._uU(5,"Description"),e.qZA(),e.TgZ(6,"input",2),e.NdJ("ngModelChange",function(r){return i.articleSizeFamily.description=r}),e.qZA(),e.qZA(),e.TgZ(7,"app-search-by-company",3),e.NdJ("companyChange",function(r){return i.articleSizeFamily.providerCompany=r}),e.qZA(),e.TgZ(8,"mat-form-field",4),e.TgZ(9,"mat-label"),e._uU(10,"Price"),e.qZA(),e.TgZ(11,"input",5),e.NdJ("ngModelChange",function(r){return i.articleSizeFamily.retailPrice=r}),e.qZA(),e.qZA(),e.TgZ(12,"mat-form-field",4),e.TgZ(13,"mat-label"),e._uU(14,"IVA"),e.qZA(),e.TgZ(15,"mat-select",6),e.NdJ("ngModelChange",function(r){return i.articleSizeFamily.tax=r}),e.YNc(16,fn,2,2,"mat-option",7),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"mat-radio-group",8),e.TgZ(18,"div",9),e.TgZ(19,"mat-radio-button",10),e._uU(20,"Numbers"),e.qZA(),e.TgZ(21,"mat-form-field",11),e.TgZ(22,"mat-label"),e._uU(23,"Min"),e.qZA(),e.TgZ(24,"input",12),e.NdJ("ngModelChange",function(r){return i.form.min=r}),e.qZA(),e.qZA(),e.TgZ(25,"mat-form-field",11),e.TgZ(26,"mat-label"),e._uU(27,"Max"),e.qZA(),e.TgZ(28,"input",12),e.NdJ("ngModelChange",function(r){return i.form.max=r}),e.qZA(),e.qZA(),e.TgZ(29,"mat-form-field",11),e.TgZ(30,"mat-label"),e._uU(31,"common difference"),e.qZA(),e.TgZ(32,"input",13),e.NdJ("ngModelChange",function(r){return i.form.addNumber=r}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(33,"div",9),e.TgZ(34,"mat-radio-button",14),e._uU(35,"Letters"),e.qZA(),e.TgZ(36,"mat-form-field",15),e.TgZ(37,"mat-label"),e._uU(38,"Min"),e.qZA(),e.TgZ(39,"mat-select",6),e.NdJ("ngModelChange",function(r){return i.form.letterMin=r}),e.YNc(40,Cn,2,2,"mat-option",7),e.qZA(),e.qZA(),e.TgZ(41,"mat-form-field",15),e.TgZ(42,"mat-label"),e._uU(43,"Max"),e.qZA(),e.TgZ(44,"mat-select",6),e.NdJ("ngModelChange",function(r){return i.form.letterMax=r}),e.YNc(45,Zn,2,2,"mat-option",7),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(46,"div",16),e.TgZ(47,"button",17),e._uU(48,"Close"),e.qZA(),e.TgZ(49,"button",18),e.NdJ("click",function(){return i.create()}),e._uU(50,"Create "),e.qZA(),e.qZA()),2&t&&(e.xp6(6),e.Q6J("ngModel",i.articleSizeFamily.description),e.xp6(1),e.Q6J("company",i.articleSizeFamily.providerCompany),e.xp6(4),e.Q6J("ngModel",i.articleSizeFamily.retailPrice),e.xp6(4),e.Q6J("ngModel",i.articleSizeFamily.tax),e.xp6(1),e.Q6J("ngForOf",i.taxValues),e.xp6(8),e.Q6J("ngModel",i.form.min),e.xp6(4),e.Q6J("ngModel",i.form.max),e.xp6(4),e.Q6J("ngModel",i.form.addNumber),e.xp6(7),e.Q6J("ngModel",i.form.letterMin),e.xp6(1),e.Q6J("ngForOf",i.letterOptions),e.xp6(4),e.Q6J("ngModel",i.form.letterMax),e.xp6(1),e.Q6J("ngForOf",i.letterOptions),e.xp6(4),e.Q6J("disabled",i.invalid()))},directives:[l.uh,l.xY,s.KE,s.hX,C.Nt,c.Fj,c.Q7,c.JJ,c.On,te,c.wV,k.gD,_.sg,Ue.VQ,Ue.U0,l.H8,g.lW,l.ZT,v.ey],styles:[""]}),n})();var ae=h(9925);let re=(()=>{class n{constructor(t){this.httpService=t}search(t){return(0,p.of)([{id:"1",fromUser:"6",toUser:"7",subject:"Hello",text:"Hello",read:!1}])}read(t){return this.httpService.get(m.C.MESSENGERS+"/"+t)}create(t){return this.httpService.post(m.C.MESSENGERS,t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(T.O))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Tn=h(8643),An=h(9417);let bn=(()=>{class n{constructor(){(0,An.H)(0,1e3).subscribe(()=>this.date=new Date)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-date"]],decls:3,vars:4,template:function(t,i){1&t&&(e.TgZ(0,"a"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(e.xi3(2,1,i.date,"medium")))},pipes:[_.uU],styles:["a[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}@media screen and (max-width: 700px){a[_ngcontent-%COMP%]{visibility:hidden;display:none}}"]}),n})();var le=h(3530),vn=h(4148);function qn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){return e.CHM(t),e.oxw().closeCashier()}),e.TgZ(1,"mat-icon"),e._uU(2,"lock_outline"),e.qZA(),e.TgZ(3,"span"),e._uU(4,"Close cashier"),e.qZA(),e.qZA()}}function Sn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){return e.CHM(t),e.oxw().openCashier()}),e.TgZ(1,"mat-icon"),e._uU(2,"lock_open"),e.qZA(),e.TgZ(3,"span"),e._uU(4,"Open Cashier"),e.qZA(),e.qZA()}}function Mn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){return e.CHM(t),e.oxw().cashMovement()}),e.TgZ(1,"mat-icon"),e._uU(2,"account_balance_wallet"),e.qZA(),e.TgZ(3,"span"),e._uU(4,"Cash Movement"),e.qZA(),e.qZA()}}function kn(n,o){1&n&&(e.TgZ(0,"button",42),e.TgZ(1,"mat-icon"),e._uU(2,"toc"),e.qZA(),e.TgZ(3,"span"),e._uU(4,"Tickets"),e.qZA(),e.qZA())}let yn=(()=>{class n{constructor(t,i,a,r,f,A){this.router=t,this.dialog=i,this.httpService=a,this.tokensService=r,this.sharedCashierService=f,this.messengersService=A,this.username=r.getName(),this.cashierClosed=!0,this.cashier()}ngOnInit(){this.tokensService.untilOperator()&&(this.messengerSearch={},this.messengerSearch.fromUser=this.tokensService.getMobile().toString(),this.messengerSearch.read=!1,this.messengersService.search(this.messengerSearch).forEach(t=>{this.dialog.open(M.Y,{data:{title:"Pending Messenger",object:t}})}))}untilManager(){return this.tokensService.untilManager()}cashier(){this.sharedCashierService.readLast().pipe((0,S.U)(t=>t.closed)).subscribe(t=>{this.cashierClosed=t,t?this.router.navigate(["shop","cashier-closed"]).then():this.router.navigate(["shop","cashier-opened"]).then()})}logout(){this.tokensService.logout()}openCashier(){this.sharedCashierService.openCashier().subscribe(()=>this.cashier())}closeCashier(){this.dialog.open(_n).afterClosed().subscribe(()=>this.cashier())}createSizeFamily(){this.dialog.open(De).afterClosed()}cashMovement(){this.dialog.open(ye)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(F.F0),e.Y36(l.uw),e.Y36(T.O),e.Y36(ae.e),e.Y36(R),e.Y36(re))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:223,vars:13,consts:[["color","primary"],["alt","miw","src","../../assets/images/miw.png"],["mat-button","",3,"click"],["mat-button",""],["mat-icon-button","",3,"matMenuTriggerFor"],["xPosition","before"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"matMenuTriggerFor"],["cashiers","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","","routerLink","/shop/cashier-closures-management"],["receipts","matMenu"],["mat-menu-item","","routerLink","/shop/tickets",4,"ngIf"],["disabled","disabled","mat-menu-item","","routerLink",""],["mat-menu-item","","routerLink","/shop/invoices"],["mat-menu-item","","routerLink","/shop/budgets"],["mat-menu-item","","routerLink","/shop/vouchers"],["products","matMenu"],["mat-menu-item","","routerLink","/shop/articles"],["mat-menu-item","","routerLink","/shop/providers"],["mat-menu-item","","routerLink","/shop/online-orders"],["mat-menu-item","","routerLink","/shop/providers-orders"],["mat-menu-item","","routerLink","/shop/offers"],["mat-menu-item","","routerLink","/shop/complaints"],["stock","matMenu"],["mat-menu-item","","routerLink","/shop/stock-alarm"],["mat-menu-item","","routerLink","/shop/stock-manager"],["mat-menu-item","","routerLink","/shop/stock-audit"],["users","matMenu"],["disabled","disabled","mat-menu-item","","routerLink","/shop/users"],["disabled","disabled","mat-menu-item",""],["mat-menu-item","","routerLink","/shop/customer-discount"],["mat-menu-item","","routerLink","/shop/messengers"],["mat-menu-item","","routerLink","/shop/technical-support"],["mat-menu-item","","routerLink","/shop/credit-line"],["vat","matMenu"],["disabled","disabled","mat-menu-item","","routerLink","/home/stock-management"],["mat-menu-item","","routerLink","/shop/provider-invoices"],["publish","matMenu"],["mat-menu-item","","routerLink","/shop/slack-webhook"],["mat-menu-item","","routerLink","/shop/github-issues"],["mat-menu-item","","routerLink","/shop/tickets"]],template:function(t,i){if(1&t&&(e.TgZ(0,"mat-toolbar",0),e.TgZ(1,"span"),e._uU(2,"TPV "),e.qZA(),e._UZ(3,"img",1),e.TgZ(4,"span"),e._UZ(5,"app-date"),e.TgZ(6,"button",2),e.NdJ("click",function(){return i.logout()}),e.TgZ(7,"span"),e._uU(8),e.qZA(),e.TgZ(9,"mat-icon"),e._uU(10,"person"),e.qZA(),e.TgZ(11,"span"),e._uU(12,"Logout"),e.qZA(),e.qZA(),e.TgZ(13,"button",3),e.TgZ(14,"mat-icon"),e._uU(15,"account_box"),e.qZA(),e.TgZ(16,"span"),e._uU(17,"Profile"),e.qZA(),e.qZA(),e.TgZ(18,"button",4),e.TgZ(19,"mat-icon"),e._uU(20,"more_vert"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"mat-menu",5,6),e.TgZ(23,"button",7),e.NdJ("click",function(){return i.cashier()}),e.TgZ(24,"mat-icon"),e._uU(25,"business"),e.qZA(),e.TgZ(26,"span"),e._uU(27,"Shop"),e.qZA(),e.qZA(),e.TgZ(28,"button",8),e.TgZ(29,"mat-icon"),e._uU(30,"account_balance"),e.qZA(),e.TgZ(31,"span"),e._uU(32,"Cashier"),e.qZA(),e.qZA(),e.TgZ(33,"button",8),e.TgZ(34,"mat-icon"),e._uU(35,"receipt"),e.qZA(),e.TgZ(36,"span"),e._uU(37,"Receipt"),e.qZA(),e.qZA(),e.TgZ(38,"button",8),e.TgZ(39,"mat-icon"),e._uU(40,"line_style"),e.qZA(),e.TgZ(41,"span"),e._uU(42,"Products"),e.qZA(),e.qZA(),e.TgZ(43,"button",8),e.TgZ(44,"mat-icon"),e._uU(45,"view_week"),e.qZA(),e.TgZ(46,"span"),e._uU(47,"Stock"),e.qZA(),e.qZA(),e.TgZ(48,"button",8),e.TgZ(49,"mat-icon"),e._uU(50,"people"),e.qZA(),e.TgZ(51,"span"),e._uU(52,"Users"),e.qZA(),e.qZA(),e.TgZ(53,"button",8),e.TgZ(54,"mat-icon"),e._uU(55,"local_atm"),e.qZA(),e.TgZ(56,"span"),e._uU(57,"VAT Management"),e.qZA(),e.qZA(),e.TgZ(58,"button",8),e.TgZ(59,"mat-icon"),e._uU(60,"publish"),e.qZA(),e.TgZ(61,"span"),e._uU(62,"Publish"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(63,"mat-menu",null,9),e.YNc(65,qn,5,0,"button",10),e.YNc(66,Sn,5,0,"button",10),e.YNc(67,Mn,5,0,"button",10),e.TgZ(68,"button",11),e.TgZ(69,"mat-icon"),e._uU(70,"account_balance"),e.qZA(),e.TgZ(71,"span"),e._uU(72,"Cashier Closure"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(73,"mat-menu",null,12),e.YNc(75,kn,5,0,"button",13),e.TgZ(76,"button",14),e.TgZ(77,"mat-icon"),e._uU(78,"playlist_add_check"),e.qZA(),e.TgZ(79,"span"),e._uU(80,"Ticket tracking"),e.qZA(),e.qZA(),e.TgZ(81,"button",15),e.TgZ(82,"mat-icon"),e._uU(83,"receipt"),e.qZA(),e.TgZ(84,"span"),e._uU(85,"Invoices"),e.qZA(),e.qZA(),e.TgZ(86,"button",16),e.TgZ(87,"mat-icon"),e._uU(88,"description"),e.qZA(),e.TgZ(89,"span"),e._uU(90,"Budgets"),e.qZA(),e.qZA(),e.TgZ(91,"button",17),e.TgZ(92,"mat-icon"),e._uU(93,"local_offer"),e.qZA(),e.TgZ(94,"span"),e._uU(95,"Vouchers"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(96,"mat-menu",null,18),e.TgZ(98,"button",19),e.TgZ(99,"mat-icon"),e._uU(100,"view_list"),e.qZA(),e.TgZ(101,"span"),e._uU(102,"Articles"),e.qZA(),e.qZA(),e.TgZ(103,"button",14),e.TgZ(104,"mat-icon"),e._uU(105,"category"),e.qZA(),e.TgZ(106,"span"),e._uU(107,"Articles Family"),e.qZA(),e.qZA(),e.TgZ(108,"button",7),e.NdJ("click",function(){return i.createSizeFamily()}),e.TgZ(109,"mat-icon"),e._uU(110,"view_module"),e.qZA(),e.TgZ(111,"span"),e._uU(112,"Articles Sizes Family Creator"),e.qZA(),e.qZA(),e.TgZ(113,"button",20),e.TgZ(114,"mat-icon"),e._uU(115,"local_shipping"),e.qZA(),e.TgZ(116,"span"),e._uU(117,"Providers"),e.qZA(),e.qZA(),e.TgZ(118,"button",21),e.TgZ(119,"mat-icon"),e._uU(120,"shopping_basket"),e.qZA(),e.TgZ(121,"span"),e._uU(122,"Online Orders"),e.qZA(),e.qZA(),e.TgZ(123,"button",22),e.TgZ(124,"mat-icon"),e._uU(125,"storage"),e.qZA(),e.TgZ(126,"span"),e._uU(127,"Orders"),e.qZA(),e.qZA(),e.TgZ(128,"button",14),e.TgZ(129,"mat-icon"),e._uU(130,"view_comfy"),e.qZA(),e.TgZ(131,"span"),e._uU(132,"Tags"),e.qZA(),e.qZA(),e.TgZ(133,"button",23),e.TgZ(134,"mat-icon"),e._uU(135,"local_atm"),e.qZA(),e.TgZ(136,"span"),e._uU(137,"Offers"),e.qZA(),e.qZA(),e.TgZ(138,"button",24),e.TgZ(139,"mat-icon"),e._uU(140,"sentiment_very_dissatisfied"),e.qZA(),e.TgZ(141,"span"),e._uU(142,"Complaints"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(143,"mat-menu",null,25),e.TgZ(145,"button",26),e.TgZ(146,"mat-icon"),e._uU(147,"alarm"),e.qZA(),e.TgZ(148,"span"),e._uU(149,"Stock Alarm"),e.qZA(),e.qZA(),e.TgZ(150,"button",27),e.TgZ(151,"mat-icon"),e._uU(152,"equalizer"),e.qZA(),e.TgZ(153,"span"),e._uU(154,"Stock Management"),e.qZA(),e.qZA(),e.TgZ(155,"button",28),e.TgZ(156,"mat-icon"),e._uU(157,"assessment"),e.qZA(),e.TgZ(158,"span"),e._uU(159,"Stock Audit"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(160,"mat-menu",null,29),e.TgZ(162,"button",30),e.TgZ(163,"mat-icon"),e._uU(164,"account_circle"),e.qZA(),e.TgZ(165,"span"),e._uU(166,"Users"),e.qZA(),e.qZA(),e.TgZ(167,"button",30),e.TgZ(168,"mat-icon"),e._uU(169,"assignment_ind"),e.qZA(),e.TgZ(170,"span"),e._uU(171,"Salespeople"),e.qZA(),e.qZA(),e.TgZ(172,"button",31),e.TgZ(173,"mat-icon"),e._uU(174,"gavel"),e.qZA(),e.TgZ(175,"span"),e._uU(176,"Data Protection Act"),e.qZA(),e.qZA(),e.TgZ(177,"button",32),e.TgZ(178,"mat-icon"),e._uU(179,"money_off"),e.qZA(),e.TgZ(180,"span"),e._uU(181,"Customer Discount"),e.qZA(),e.qZA(),e.TgZ(182,"button",33),e.TgZ(183,"mat-icon"),e._uU(184,"message"),e.qZA(),e.TgZ(185,"span"),e._uU(186,"Messengers"),e.qZA(),e.qZA(),e.TgZ(187,"button",34),e.TgZ(188,"mat-icon"),e._uU(189,"build"),e.qZA(),e.TgZ(190,"span"),e._uU(191,"Technical Support"),e.qZA(),e.qZA(),e.TgZ(192,"button",35),e.TgZ(193,"mat-icon"),e._uU(194,"card_membership"),e.qZA(),e.TgZ(195,"span"),e._uU(196,"Credit lines"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(197,"mat-menu",null,36),e.TgZ(199,"button",37),e.TgZ(200,"mat-icon"),e._uU(201,"money"),e.qZA(),e.TgZ(202,"span"),e._uU(203,"Quarter VAT"),e.qZA(),e.qZA(),e.TgZ(204,"button",38),e.TgZ(205,"mat-icon"),e._uU(206,"local_shipping"),e.qZA(),e.TgZ(207,"span"),e._uU(208,"Provider Invoice"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(209,"mat-menu",null,39),e.TgZ(211,"button",40),e.TgZ(212,"mat-icon"),e._uU(213,"forum"),e.qZA(),e.TgZ(214,"span"),e._uU(215,"Publish on Slack"),e.qZA(),e.qZA(),e.TgZ(216,"button",41),e.TgZ(217,"mat-icon"),e._uU(218,"forum"),e.qZA(),e.TgZ(219,"span"),e._uU(220,"Publish a Issue"),e.qZA(),e.qZA(),e.qZA(),e._UZ(221,"router-outlet"),e._UZ(222,"app-footer")),2&t){const a=e.MAs(22),r=e.MAs(64),f=e.MAs(74),A=e.MAs(97),q=e.MAs(144),Ua=e.MAs(161),Da=e.MAs(198),xa=e.MAs(210);e.xp6(8),e.Oqu(i.username),e.xp6(10),e.Q6J("matMenuTriggerFor",a),e.xp6(10),e.Q6J("matMenuTriggerFor",r),e.xp6(5),e.Q6J("matMenuTriggerFor",f),e.xp6(5),e.Q6J("matMenuTriggerFor",A),e.xp6(5),e.Q6J("matMenuTriggerFor",q),e.xp6(5),e.Q6J("matMenuTriggerFor",Ua),e.xp6(5),e.Q6J("matMenuTriggerFor",Da),e.xp6(5),e.Q6J("matMenuTriggerFor",xa),e.xp6(7),e.Q6J("ngIf",!i.cashierClosed),e.xp6(1),e.Q6J("ngIf",i.cashierClosed),e.xp6(1),e.Q6J("ngIf",!i.cashierClosed),e.xp6(8),e.Q6J("ngIf",!i.cashierClosed)}},directives:[Tn.Ye,bn,g.lW,Z.Hw,le.p6,le.VK,le.OP,_.O5,F.rH,F.lC,vn.c],styles:[".mat-toolbar[_ngcontent-%COMP%]{justify-content:space-between}@media screen and (max-width: 900px){.backend[_ngcontent-%COMP%]{visibility:hidden;display:none}}"]}),n})(),Un=(()=>{class n{searchByGiftTicket(t){return(0,p.of)([{id:"a1",reference:"a1",mobile:666111222}])}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Dn=(()=>{class n{constructor(t){this.ticketsService=t,this.tickets=(0,p.of)([]),this.title="Ticket management"}ngOnInit(){}read(t){return null}update(t){return null}searchByGiftTicket(){this.tickets=this.ticketsService.searchByGiftTicket(this.giftTicket)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Un))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-ticket"]],decls:13,vars:4,consts:[["matInput","",3,"ngModel","ngModelChange"],["mat-icon-button","",3,"click"],[3,"data","deleteAction","title","create","read","update"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-card"),e.TgZ(1,"mat-card-content"),e.TgZ(2,"mat-label"),e.TgZ(3,"strong"),e._uU(4,"Filters: "),e.qZA(),e.qZA(),e.TgZ(5,"mat-form-field"),e.TgZ(6,"mat-label"),e._uU(7,"Gift ticket"),e.qZA(),e.TgZ(8,"input",0),e.NdJ("ngModelChange",function(r){return i.giftTicket=r}),e.qZA(),e.qZA(),e.TgZ(9,"button",1),e.NdJ("click",function(){return i.searchByGiftTicket()}),e.TgZ(10,"mat-icon"),e._uU(11,"search"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"app-crud",2),e.NdJ("create",function(){return!1})("read",function(r){return i.read(r)})("update",function(r){return i.update(r)}),e.qZA()),2&t&&(e.xp6(8),e.Q6J("ngModel",i.giftTicket),e.xp6(4),e.Q6J("data",i.tickets)("deleteAction",!1)("title",i.title))},directives:[u.a8,u.dn,s.hX,s.KE,C.Nt,c.Fj,c.JJ,c.On,g.lW,Z.Hw,b.D],styles:[""]}),n})();function xn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-form-field",4),e.TgZ(1,"mat-label"),e._uU(2,"Ticket Id"),e.qZA(),e.TgZ(3,"input",5),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw().invoice.ticketId=a}),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.invoice.ticketId)}}function On(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-form-field",4),e.TgZ(1,"mat-label"),e._uU(2,"User Mobile"),e.qZA(),e.TgZ(3,"input",6),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw().user.mobile=a}),e.qZA(),e.TgZ(4,"button",7),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return a.searchUser(a.user.mobile)}),e.TgZ(5,"mat-icon",8),e._uU(6,"search"),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.user.mobile)}}function Jn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){return e.CHM(t),e.oxw().create()}),e._uU(1,"Create "),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.invalidCreate())}}function wn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){return e.CHM(t),e.oxw().update()}),e._uU(1,"Update "),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.invalid())}}let xe=(()=>{class n{constructor(t,i,a,r){this.invoiceService=i,this.userService=a,this.dialog=r,this.title=t?"Update Invoice":"Create Invoice",this.invoice=t||{identity:void 0,ticketId:void 0,userMobile:void 0},this.oldIdentity=t?t.identity:void 0,this.user=t?{mobile:Number(t.userMobile)}:void 0}create(){this.invoiceService.create(this.invoice.ticketId).subscribe(()=>this.dialog.closeAll())}update(){this.invoiceService.update(this.oldIdentity,this.invoice).subscribe(()=>this.dialog.closeAll())}isCreate(){return!this.oldIdentity}invalid(){return void 0===this.user||void 0===this.user.dni||void 0===this.user.firstName||void 0===this.user.familyName||void 0===this.user.address}searchUser(t){t&&this.userService.read(Number(t)).subscribe(i=>{this.user=i,this.invoice.userMobile=this.user.mobile.toString()})}invalidCreate(){return void 0===this.invoice.ticketId}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.WI),e.Y36(j),e.Y36(Y),e.Y36(l.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:10,vars:5,consts:[["mat-dialog-title",""],["class","full-width",4,"ngIf"],["cdkFocusInitial","","mat-dialog-close","","mat-raised-button",""],["color","primary","mat-raised-button","",3,"disabled","click",4,"ngIf"],[1,"full-width"],["id","company","matInput","","required","","type","text",3,"ngModel","ngModelChange"],["matInput","","required","","type","number",3,"ngModel","ngModelChange"],["mat-button","","mat-icon-button","","matSuffix","",3,"click"],["color","warn"],["color","primary","mat-raised-button","",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e.TgZ(2,"mat-dialog-content"),e.YNc(3,xn,4,1,"mat-form-field",1),e.YNc(4,On,7,1,"mat-form-field",1),e.qZA(),e.TgZ(5,"mat-dialog-actions"),e.TgZ(6,"button",2),e._uU(7,"Close"),e.qZA(),e.YNc(8,Jn,2,1,"button",3),e.YNc(9,wn,2,1,"button",3),e.qZA()),2&t&&(e.xp6(1),e.Oqu(i.title),e.xp6(2),e.Q6J("ngIf",i.isCreate()),e.xp6(1),e.Q6J("ngIf",!i.isCreate()),e.xp6(4),e.Q6J("ngIf",i.isCreate()),e.xp6(1),e.Q6J("ngIf",!i.isCreate()))},directives:[l.uh,l.xY,_.O5,l.H8,g.lW,l.ZT,s.KE,s.hX,C.Nt,c.Fj,c.Q7,c.JJ,c.On,c.wV,s.R9,Z.Hw],styles:["mat-dialog-content[_ngcontent-%COMP%]{width:250px}.full-width[_ngcontent-%COMP%]{width:100%}"]}),n})(),In=(()=>{class n{constructor(t,i){this.dialog=t,this.invoiceService=i,this.invoices=(0,p.of)([]),this.title="Invoices management",this.resetSearch()}search(){this.invoices=this.invoiceService.search(this.invoiceSearch)}resetSearch(){this.invoiceSearch={}}create(){this.dialog.open(xe)}read(t){this.dialog.open(M.Y,{data:{title:"Invoice Details + PDF Version",object:this.invoiceService.read(t.identity)}})}update(t){this.invoiceService.read(t.identity).subscribe(i=>this.dialog.open(xe,{data:i}))}readAndPDF(t){this.invoiceService.readReceipt(t.identity).subscribe(()=>this.read(t))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.uw),e.Y36(j))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:20,vars:5,consts:[["matInput","",3,"ngModel","ngModelChange"],["mat-icon-button","",3,"click"],[3,"data","deleteAction","title","create","read","update"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-card"),e.TgZ(1,"mat-card-content"),e.TgZ(2,"mat-label"),e.TgZ(3,"strong"),e._uU(4,"Filters: "),e.qZA(),e.qZA(),e.TgZ(5,"mat-form-field"),e.TgZ(6,"mat-label"),e._uU(7,"Ticket Id"),e.qZA(),e.TgZ(8,"input",0),e.NdJ("ngModelChange",function(r){return i.invoiceSearch.ticketId=r}),e.qZA(),e.qZA(),e.TgZ(9,"mat-form-field"),e.TgZ(10,"mat-label"),e._uU(11,"User Mobile"),e.qZA(),e.TgZ(12,"input",0),e.NdJ("ngModelChange",function(r){return i.invoiceSearch.userMobile=r}),e.qZA(),e.qZA(),e.TgZ(13,"button",1),e.NdJ("click",function(){return i.search()}),e.TgZ(14,"mat-icon"),e._uU(15,"search"),e.qZA(),e.qZA(),e.TgZ(16,"button",1),e.NdJ("click",function(){return i.resetSearch()}),e.TgZ(17,"mat-icon"),e._uU(18,"close"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"app-crud",2),e.NdJ("create",function(){return i.create()})("read",function(r){return i.readAndPDF(r)})("update",function(r){return i.update(r)}),e.qZA()),2&t&&(e.xp6(8),e.Q6J("ngModel",i.invoiceSearch.ticketId),e.xp6(4),e.Q6J("ngModel",i.invoiceSearch.userMobile),e.xp6(7),e.Q6J("data",i.invoices)("deleteAction",!1)("title",i.title))},directives:[u.a8,u.dn,s.hX,s.KE,C.Nt,c.Fj,c.JJ,c.On,g.lW,Z.Hw,b.D],encapsulation:2}),n})();class ce{search(o){return(0,p.of)([{reference:1,description:"Offer number 1",creationDate:new Date,expiryDate:new Date,discount:50,offerArticles:[{barcode:"8001",description:"Product description 1"}]},{reference:2,description:"Offer number 2",creationDate:new Date,expiryDate:new Date,discount:75,offerArticles:[{barcode:"8001",description:"Product description 2"},{barcode:"8001",description:"Product description 3"}]},{reference:3,description:"Offer number 3",creationDate:new Date,expiryDate:new Date,discount:30,offerArticles:[{barcode:"8001",description:"Product description 1"}]}])}read(o){return(0,p.of)({reference:4,description:"Test offer",creationDate:new Date,expiryDate:new Date,discount:42,offerArticles:[{barcode:"8001",description:"Product description 1"}]})}}function Nn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){return e.CHM(t),e.oxw().create()}),e._uU(1,"Create "),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.invalid())}}function Fn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){return e.CHM(t),e.oxw().update()}),e._uU(1,"Update "),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.invalid())}}let Oe=(()=>{class n{constructor(t,i,a){this.offerService=i,this.dialog=a,this.offerArticles=(0,p.of)([]),this.title=t?"Update Offer":"Create Offer",this.title=t?"Update Article":"Create Offer",this.offerArticles=(0,p.of)([{barcode:"200",description:"Product 1"},{barcode:"201",description:"Product 2"},{barcode:"202",description:"Product 3"}]),this.offer=t||{reference:void 0,discount:void 0,offerArticles:void 0},this.oldReference=t?t.reference:void 0}create(){this.dialog.closeAll()}createOfferArticle(){this.dialog.closeAll()}update(){this.dialog.closeAll()}isCreate(){return void 0===this.oldReference}invalid(){return!1}addArticle(){this.dialog.closeAll()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.WI),e.Y36(ce),e.Y36(l.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:24,vars:12,consts:[["mat-dialog-title",""],[1,"full-width"],["id","description","matInput","","required","","type","text",3,"ngModel","ngModelChange"],["matInput","","required","","type","number",3,"ngModel","ngModelChange"],["mat-icon-button","",3,"click"],["matInput","",3,"ngModel","ngModelChange"],[3,"data","createAction","deleteAction","updateAction","readAction","title","create"],["mat-dialog-close","","mat-raised-button",""],["color","primary","mat-raised-button","",3,"disabled","click",4,"ngIf"],["color","primary","mat-raised-button","",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e.TgZ(2,"mat-dialog-content"),e.TgZ(3,"mat-form-field",1),e.TgZ(4,"mat-label"),e._uU(5,"Description"),e.qZA(),e.TgZ(6,"input",2),e.NdJ("ngModelChange",function(r){return i.offer.description=r}),e.qZA(),e.qZA(),e.TgZ(7,"mat-form-field",1),e.TgZ(8,"mat-label"),e._uU(9,"Discount"),e.qZA(),e.TgZ(10,"input",3),e.NdJ("ngModelChange",function(r){return i.offer.discount=r}),e.qZA(),e.qZA(),e.TgZ(11,"button",4),e.NdJ("click",function(){return i.addArticle()}),e.TgZ(12,"mat-icon"),e._uU(13,"add"),e.qZA(),e.qZA(),e.TgZ(14,"mat-form-field"),e.TgZ(15,"mat-label"),e._uU(16,"Add Article"),e.qZA(),e.TgZ(17,"input",5),e.NdJ("ngModelChange",function(r){return i.addOfferArticle=r}),e.qZA(),e.qZA(),e.TgZ(18,"app-crud",6),e.NdJ("create",function(){return i.createOfferArticle()}),e.qZA(),e.qZA(),e.TgZ(19,"mat-dialog-actions"),e.TgZ(20,"button",7),e._uU(21,"Close"),e.qZA(),e.YNc(22,Nn,2,1,"button",8),e.YNc(23,Fn,2,1,"button",8),e.qZA()),2&t&&(e.xp6(1),e.Oqu(i.title),e.xp6(5),e.Q6J("ngModel",i.offer.description),e.xp6(4),e.Q6J("ngModel",i.offer.discount),e.xp6(7),e.Q6J("ngModel",i.addOfferArticle),e.xp6(1),e.Q6J("data",i.offerArticles)("createAction",!1)("deleteAction",!0)("updateAction",!1)("readAction",!1)("title",i.titleArticles),e.xp6(4),e.Q6J("ngIf",i.isCreate()),e.xp6(1),e.Q6J("ngIf",!i.isCreate()))},directives:[l.uh,l.xY,s.KE,s.hX,C.Nt,c.Fj,c.Q7,c.JJ,c.On,c.wV,g.lW,Z.Hw,b.D,l.H8,l.ZT,_.O5],styles:[".full-width[_ngcontent-%COMP%]{width:100%}"]}),n})(),Pn=(()=>{class n{constructor(t,i){this.dialog=t,this.offerService=i,this.offers=(0,p.of)([]),this.title="Offers Management",this.resetSearch()}resetSearch(){this.offerSearch={}}search(){this.offers=this.offerService.search(this.offerSearch)}create(){this.dialog.open(Oe)}read(t){this.dialog.open(M.Y,{data:{title:"Offer Details",object:this.offerService.read(t.reference)}})}update(t){this.offerService.read(t.reference).subscribe(i=>this.dialog.open(Oe,{data:i}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.uw),e.Y36(ce))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:20,vars:5,consts:[["matInput","",3,"ngModel","ngModelChange"],["mat-icon-button","",3,"click"],[3,"data","deleteAction","title","create","read","update"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-card"),e.TgZ(1,"mat-card-content"),e.TgZ(2,"mat-label"),e.TgZ(3,"strong"),e._uU(4,"Filters: "),e.qZA(),e.qZA(),e.TgZ(5,"mat-form-field"),e.TgZ(6,"mat-label"),e._uU(7,"Description"),e.qZA(),e.TgZ(8,"input",0),e.NdJ("ngModelChange",function(r){return i.offerSearch.description=r}),e.qZA(),e.qZA(),e.TgZ(9,"mat-form-field"),e.TgZ(10,"mat-label"),e._uU(11,"Reference"),e.qZA(),e.TgZ(12,"input",0),e.NdJ("ngModelChange",function(r){return i.offerSearch.reference=r}),e.qZA(),e.qZA(),e.TgZ(13,"button",1),e.NdJ("click",function(){return i.search()}),e.TgZ(14,"mat-icon"),e._uU(15,"search"),e.qZA(),e.qZA(),e.TgZ(16,"button",1),e.NdJ("click",function(){return i.resetSearch()}),e.TgZ(17,"mat-icon"),e._uU(18,"close"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"app-crud",2),e.NdJ("create",function(){return i.create()})("read",function(r){return i.read(r)})("update",function(r){return i.update(r)}),e.qZA()),2&t&&(e.xp6(8),e.Q6J("ngModel",i.offerSearch.description),e.xp6(4),e.Q6J("ngModel",i.offerSearch.reference),e.xp6(7),e.Q6J("data",i.offers)("deleteAction",!1)("title",i.title))},directives:[u.a8,u.dn,s.hX,s.KE,C.Nt,c.Fj,c.JJ,c.On,g.lW,Z.Hw,b.D],encapsulation:2}),n})();function Qn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){return e.CHM(t),e.oxw().create()}),e._uU(1,"Create "),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.invalid())}}function Yn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){return e.CHM(t),e.oxw().update()}),e._uU(1,"Update "),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.invalid())}}let Je=(()=>{class n{constructor(t,i,a){this.customerDiscountService=i,this.dialog=a,this.discounts=(0,p.of)([]),this.title=t?"Update Customer Discount":"Create New Customer Discount",this.customerDiscount=t||{userMobile:void 0,note:void 0,registrationDate:void 0,discount:void 0,minimmumPurchase:void 0},this.oldMobile=t?t.userMobile:void 0}ngOnInit(){}isCreate(){return void 0===this.oldMobile}create(){this.customerDiscountService.create(this.customerDiscount).subscribe(()=>this.dialog.closeAll())}update(){this.customerDiscountService.update(this.oldMobile,this.customerDiscount).subscribe(()=>this.dialog.closeAll())}invalid(){return this.check(this.customerDiscount.userMobile)||this.check(this.customerDiscount.discount)||this.check(this.customerDiscount.minimmumPurchase)}check(t){return void 0===t||""===t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.WI),e.Y36(W),e.Y36(l.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-customer-discount-creation-updating-dialog"]],decls:27,vars:8,consts:[[1,"wrap"],["mat-dialog-title",""],[1,"full-width"],["matInput","","type","number","required","",3,"ngModel","disabled","ngModelChange"],["align","start"],["matInput","","type","text",3,"ngModel","ngModelChange"],["matInput","","type","number","required","",3,"ngModel","ngModelChange"],["cdkFocusInitial","","mat-dialog-close","","mat-raised-button",""],["color","primary","mat-raised-button","",3,"disabled","click",4,"ngIf"],["color","primary","mat-raised-button","",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"h2",1),e._uU(2),e.qZA(),e.TgZ(3,"mat-dialog-content"),e.TgZ(4,"mat-form-field",2),e.TgZ(5,"mat-label"),e._uU(6,"Mobile"),e.qZA(),e.TgZ(7,"input",3),e.NdJ("ngModelChange",function(r){return i.customerDiscount.userMobile=r}),e.qZA(),e.TgZ(8,"mat-hint",4),e._uU(9,"9 digits"),e.qZA(),e.qZA(),e.TgZ(10,"mat-form-field",2),e.TgZ(11,"mat-label"),e._uU(12,"Note"),e.qZA(),e.TgZ(13,"input",5),e.NdJ("ngModelChange",function(r){return i.customerDiscount.note=r}),e.qZA(),e.qZA(),e.TgZ(14,"mat-form-field",2),e.TgZ(15,"mat-label"),e._uU(16,"Discount"),e.qZA(),e.TgZ(17,"input",6),e.NdJ("ngModelChange",function(r){return i.customerDiscount.discount=r}),e.qZA(),e.qZA(),e.TgZ(18,"mat-form-field",2),e.TgZ(19,"mat-label"),e._uU(20,"Minimmum Purchase"),e.qZA(),e.TgZ(21,"input",6),e.NdJ("ngModelChange",function(r){return i.customerDiscount.minimmumPurchase=r}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"mat-dialog-actions"),e.TgZ(23,"button",7),e._uU(24,"Close"),e.qZA(),e.YNc(25,Qn,2,1,"button",8),e.YNc(26,Yn,2,1,"button",8),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Oqu(i.title),e.xp6(5),e.Q6J("ngModel",i.customerDiscount.userMobile)("disabled",!i.isCreate()),e.xp6(6),e.Q6J("ngModel",i.customerDiscount.note),e.xp6(4),e.Q6J("ngModel",i.customerDiscount.discount),e.xp6(4),e.Q6J("ngModel",i.customerDiscount.minimmumPurchase),e.xp6(4),e.Q6J("ngIf",i.isCreate()),e.xp6(1),e.Q6J("ngIf",!i.isCreate()))},directives:[l.uh,l.xY,s.KE,s.hX,C.Nt,c.wV,c.Fj,c.Q7,c.JJ,c.On,s.bx,l.H8,g.lW,l.ZT,_.O5],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.wrap[_ngcontent-%COMP%]{max-width:30rem}"]}),n})(),En=(()=>{class n{constructor(t,i){this.dialog=t,this.customerDiscountService=i,this.title="Customer Discounts",this.discounts=(0,p.of)([]),this.resetSearch()}ngOnInit(){}search(){this.discounts=this.customerDiscountService.search(this.customerDiscountSearch)}resetSearch(){this.customerDiscountSearch={}}create(){this.dialog.open(Je)}read(t){this.dialog.open(M.Y,{data:{title:"Customer Discounts Details",object:this.customerDiscountService.read(t.userMobile)}})}update(t){this.customerDiscountService.read(t.userMobile).subscribe(i=>this.dialog.open(Je,{data:i}))}delete(t){this.customerDiscountService.delete(t.userMobile).subscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.uw),e.Y36(W))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-customer-discount"]],decls:20,vars:4,consts:[["matInput","",3,"ngModel","ngModelChange"],["mat-icon-button","",3,"click"],["mat-icon-button",""],[3,"data","title","create","read","update","delete"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-card"),e.TgZ(1,"mat-card-content"),e.TgZ(2,"mat-label"),e.TgZ(3,"strong"),e._uU(4,"Filters:"),e.qZA(),e.qZA(),e.TgZ(5,"mat-form-field"),e.TgZ(6,"mat-label"),e._uU(7,"Mobile"),e.qZA(),e.TgZ(8,"input",0),e.NdJ("ngModelChange",function(r){return i.customerDiscountSearch.mobile=r}),e.qZA(),e.qZA(),e.TgZ(9,"mat-form-field"),e.TgZ(10,"mat-label"),e._uU(11,"Discount"),e.qZA(),e.TgZ(12,"input",0),e.NdJ("ngModelChange",function(r){return i.customerDiscountSearch.discount=r}),e.qZA(),e.qZA(),e.TgZ(13,"button",1),e.NdJ("click",function(){return i.search()}),e.TgZ(14,"mat-icon"),e._uU(15,"search"),e.qZA(),e.qZA(),e.TgZ(16,"button",2),e.TgZ(17,"mat-icon"),e._uU(18,"close"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"app-crud",3),e.NdJ("create",function(){return i.create()})("read",function(r){return i.read(r)})("update",function(r){return i.update(r)})("delete",function(r){return i.delete(r)}),e.qZA()),2&t&&(e.xp6(8),e.Q6J("ngModel",i.customerDiscountSearch.mobile),e.xp6(4),e.Q6J("ngModel",i.customerDiscountSearch.discount),e.xp6(7),e.Q6J("data",i.discounts)("title",i.title))},directives:[u.a8,u.dn,s.hX,s.KE,C.Nt,c.Fj,c.JJ,c.On,g.lW,Z.Hw,b.D],styles:["mat-form-field[_ngcontent-%COMP%]{padding:1rem}mat-card[_ngcontent-%COMP%]{margin-left:1rem;box-shadow:none!important}mat-dialog-content[_ngcontent-%COMP%]{width:45rem}"]}),n})(),Rn=(()=>{class n{constructor(t){this.title="Create Voucher",this.dialog=t}ngOnInit(){this.voucher={reference:null,value:null,userPhone:null,creationDate:new Date,dateOfUse:null,consumed:null}}onClickDoCreate(){console.log("Created voucher: "+JSON.stringify(this.voucher)),this.dialog.closeAll()}invalid(){var t,i;return(null!==(t=this.voucher.value)&&void 0!==t?t:0)<=0||(null!==(i=this.voucher.userPhone)&&void 0!==i?i:0)<6e8}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:16,vars:4,consts:[["mat-dialog-title",""],[1,"full-width"],["id","company","matInput","","required","","type","text",3,"ngModel","ngModelChange"],["matInput","","required","","type","text",3,"ngModel","ngModelChange"],["cdkFocusInitial","","mat-dialog-close","","mat-raised-button",""],["disabled","","color","primary","mat-raised-button","",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e.TgZ(2,"mat-dialog-content"),e.TgZ(3,"mat-form-field",1),e.TgZ(4,"mat-label"),e._uU(5,"Value"),e.qZA(),e.TgZ(6,"input",2),e.NdJ("ngModelChange",function(r){return i.voucher.value=r}),e.qZA(),e.qZA(),e.TgZ(7,"mat-form-field",1),e.TgZ(8,"mat-label"),e._uU(9,"User Phone Number"),e.qZA(),e.TgZ(10,"input",3),e.NdJ("ngModelChange",function(r){return i.voucher.userPhone=r}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"mat-dialog-actions"),e.TgZ(12,"button",4),e._uU(13,"Close"),e.qZA(),e.TgZ(14,"button",5),e.NdJ("click",function(){return i.onClickDoCreate()}),e._uU(15," Create "),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Oqu(i.title),e.xp6(5),e.Q6J("ngModel",i.voucher.value),e.xp6(4),e.Q6J("ngModel",i.voucher.userPhone),e.xp6(4),e.Q6J("disabled",i.invalid()))},directives:[l.uh,l.xY,s.KE,s.hX,C.Nt,c.Fj,c.Q7,c.JJ,c.On,l.H8,g.lW,l.ZT],styles:[".full-width[_ngcontent-%COMP%]{width:100%}"]}),n})(),Ln=(()=>{class n{create(t){return(0,p.of)(t)}searchAll(){return(0,p.of)([{reference:"aa69f",value:10,userPhone:611111,creationDate:new Date,dateOfUse:null,consumed:null},{reference:"aa69g",value:25.3,userPhone:611112,creationDate:new Date,dateOfUse:null,consumed:null}])}searchAllReferences(){return(0,p.of)(["aa69f","aa69g"])}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hn=(()=>{class n{constructor(t,i){this.data=(0,p.of)([]),this.voucherService=t,this.dialog=i,this.voucherFilterModel={reference:null,value:null,userPhone:null,creationDate:new Date,dateOfUse:null,consumed:null}}ngOnInit(){}onCreate(){this.dialog.open(Rn)}search(){console.log("Search by: "+JSON.stringify(this.voucherFilterModel)),this.data=this.voucherService.searchAll()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ln),e.Y36(l.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-vouchers"]],decls:19,vars:5,consts:[["matInput","",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["mat-icon-button","",3,"click"],["title","Vouchers Management",3,"data","deleteAction","create"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-card"),e.TgZ(1,"mat-card-content"),e.TgZ(2,"mat-label"),e.TgZ(3,"strong"),e._uU(4,"Filters: "),e.qZA(),e.qZA(),e.TgZ(5,"mat-form-field"),e.TgZ(6,"mat-label"),e._uU(7,"Reference"),e.qZA(),e.TgZ(8,"input",0),e.NdJ("ngModelChange",function(r){return i.voucherFilterModel.reference=r}),e.qZA(),e.qZA(),e.TgZ(9,"mat-form-field"),e.TgZ(10,"mat-label"),e._uU(11,"User Phone Number"),e.qZA(),e.TgZ(12,"input",0),e.NdJ("ngModelChange",function(r){return i.voucherFilterModel.userPhone=r}),e.qZA(),e.qZA(),e.TgZ(13,"mat-slide-toggle",1),e.NdJ("ngModelChange",function(r){return i.voucherFilterModel.consumed=r}),e._uU(14,"Consumed"),e.qZA(),e.TgZ(15,"button",2),e.NdJ("click",function(){return i.search()}),e.TgZ(16,"mat-icon"),e._uU(17,"search"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"app-crud",3),e.NdJ("create",function(){return i.onCreate()}),e.qZA()),2&t&&(e.xp6(8),e.Q6J("ngModel",i.voucherFilterModel.reference),e.xp6(4),e.Q6J("ngModel",i.voucherFilterModel.userPhone),e.xp6(1),e.Q6J("ngModel",i.voucherFilterModel.consumed),e.xp6(5),e.Q6J("data",i.data)("deleteAction",!1))},directives:[u.a8,u.dn,s.hX,s.KE,C.Nt,c.Fj,c.JJ,c.On,P.Rr,g.lW,Z.Hw,b.D],styles:[""]}),n})(),se=(()=>{class n{constructor(t){this.httpService=t}search(t){return this.httpService.paramsFrom(t).get(m.C.PROVIDER_INVOICES+n.SEARCH)}read(t){return this.httpService.get(m.C.PROVIDER_INVOICES+"/"+t)}create(t){return this.httpService.post(m.C.PROVIDER_INVOICES,t)}update(t,i){return this.httpService.successful().put(m.C.PROVIDER_INVOICES+"/"+t,i)}getTotalForQuarterOfYear(t){return this.httpService.param("year",String(t.year)).param("quarter",t.quarter.toString().charAt(1)).get(m.C.PROVIDER_INVOICES+n.QUARTER_OF_YEAR+n.SEARCH)}getYearsOfAllCreationDate(){return this.httpService.get(m.C.PROVIDER_INVOICES+n.CREATION_DATE+n.YEARS).pipe((0,S.U)(t=>t.years))}}return n.SEARCH="/search",n.CREATION_DATE="/creation-date",n.YEARS="/years",n.QUARTER_OF_YEAR="/quarter-of-year",n.\u0275fac=function(t){return new(t||n)(e.LFG(T.O))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),we=(()=>{class n{constructor(t){this.httpService=t}searchOrders(t){return this.httpService.param("orderReference",t).get(m.C.ORDERS+n.REFERENCE).pipe((0,S.U)(i=>i.references))}}return n.REFERENCE="/reference",n.\u0275fac=function(t){return new(t||n)(e.LFG(T.O))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Bn=(()=>{class n{constructor(t){this.sharedOrderService=t,this.orders=(0,p.of)([]),this.orderChange=new e.vpe}onSelect(){this.orderChange.emit(this.order)}searchByOrderReference(){this.orders=this.sharedOrderService.searchOrders(this.order)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(we))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-search-by-order-reference"]],inputs:{order:"order"},outputs:{orderChange:"orderChange"},decls:1,vars:2,consts:[["obligatory","true","title","Order",1,"full-width",3,"key","keys","renew","selected","keyChange"]],template:function(t,i){1&t&&(e.TgZ(0,"app-search",0),e.NdJ("renew",function(){return i.searchByOrderReference()})("selected",function(){return i.onSelect()})("keyChange",function(r){return i.order=r}),e.qZA()),2&t&&e.Q6J("key",i.order)("keys",i.orders)},directives:[Q],encapsulation:2}),n})();function jn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){return e.CHM(t),e.oxw().create()}),e._uU(1,"Create "),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.invalid())}}function Vn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){return e.CHM(t),e.oxw().update()}),e._uU(1,"Update "),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.invalid())}}let Ie=(()=>{class n{constructor(t,i,a){this.providerInvoiceService=i,this.dialog=a,this.companies=(0,p.of)([]),this.orders=(0,p.of)([]),this.title=t?"Update Provider Invoice":"Create Provider Invoice",this.identity=t?t.identity:void 0,this.providerInvoice=t||{identity:void 0,creationDate:void 0,baseTax:void 0,textValue:void 0,providerCompany:void 0,orderReference:void 0}}isCreate(){return void 0===this.identity}create(){this.providerInvoiceService.create(this.providerInvoice).subscribe(()=>this.dialog.closeAll())}update(){this.providerInvoiceService.update(this.identity,this.providerInvoice).subscribe(()=>this.dialog.closeAll())}invalid(){return this.checkStr(this.providerInvoice.providerCompany)||this.checkStr(this.providerInvoice.orderReference)||this.checkNumber(this.providerInvoice.baseTax)||this.checkNumber(this.providerInvoice.textValue)}checkStr(t){return void 0===t||""===t}checkNumber(t){return void 0===t||null}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.WI),e.Y36(se),e.Y36(l.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:18,vars:7,consts:[["mat-dialog-title",""],[1,"full-width",3,"company","companyChange"],[1,"full-width",3,"order","orderChange"],[1,"full-width"],["matInput","","required","","type","number",3,"ngModel","ngModelChange"],["cdkFocusInitial","","mat-dialog-close","","mat-raised-button",""],["color","primary","mat-raised-button","",3,"disabled","click",4,"ngIf"],["color","primary","mat-raised-button","",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e.TgZ(2,"mat-dialog-content"),e.TgZ(3,"app-search-by-company",1),e.NdJ("companyChange",function(r){return i.providerInvoice.providerCompany=r}),e.qZA(),e.TgZ(4,"app-search-by-order-reference",2),e.NdJ("orderChange",function(r){return i.providerInvoice.orderReference=r}),e.qZA(),e.TgZ(5,"mat-form-field",3),e.TgZ(6,"mat-label"),e._uU(7,"Base Tax"),e.qZA(),e.TgZ(8,"input",4),e.NdJ("ngModelChange",function(r){return i.providerInvoice.baseTax=r}),e.qZA(),e.qZA(),e.TgZ(9,"mat-form-field",3),e.TgZ(10,"mat-label"),e._uU(11,"Tax Value"),e.qZA(),e.TgZ(12,"input",4),e.NdJ("ngModelChange",function(r){return i.providerInvoice.textValue=r}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"mat-dialog-actions"),e.TgZ(14,"button",5),e._uU(15,"Close"),e.qZA(),e.YNc(16,jn,2,1,"button",6),e.YNc(17,Vn,2,1,"button",6),e.qZA()),2&t&&(e.xp6(1),e.Oqu(i.title),e.xp6(2),e.Q6J("company",i.providerInvoice.providerCompany),e.xp6(1),e.Q6J("order",i.providerInvoice.orderReference),e.xp6(4),e.Q6J("ngModel",i.providerInvoice.baseTax),e.xp6(4),e.Q6J("ngModel",i.providerInvoice.textValue),e.xp6(4),e.Q6J("ngIf",i.isCreate()),e.xp6(1),e.Q6J("ngIf",!i.isCreate()))},directives:[l.uh,l.xY,te,Bn,s.KE,s.hX,C.Nt,c.wV,c.Fj,c.Q7,c.JJ,c.On,l.H8,g.lW,l.ZT,_.O5],styles:["mat-dialog-content[_ngcontent-%COMP%]{width:250px}.full-width[_ngcontent-%COMP%]{width:100%}"]}),n})();var $=(()=>{return(n=$||($={}))[n.Q1=0]="Q1",n[n.Q2=1]="Q2",n[n.Q3=2]="Q3",n[n.Q4=3]="Q4",$;var n})();function zn(n,o){if(1&n&&(e.TgZ(0,"mat-option",6),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function Xn(n,o){if(1&n&&(e.TgZ(0,"mat-option",6),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}let Wn=(()=>{class n{constructor(t,i){this.dialog=t,this.providerInvoiceService=i,this.title="Provider Invoices Management",this.providerInvoices=(0,p.of)([]),this.quarters=Object.keys($).filter(a=>isNaN(Number(a))),this.years=(0,p.of)([]),this.resetSearch()}ngOnInit(){this.quarterOfYear=void 0!==this.quarterOfYear?this.quarterOfYear:{quarter:void 0,year:void 0,totalBaseTax:void 0,totalTaxValue:void 0}}search(){this.providerInvoices=this.providerInvoiceService.search(this.providerInvoiceSearch)}resetSearch(){this.providerInvoiceSearch={}}read(t){this.dialog.open(M.Y,{data:{title:"Provider Invoice Details",object:this.providerInvoiceService.read(t.identity)}})}create(){this.dialog.open(Ie)}update(t){this.providerInvoiceService.read(t.identity).subscribe(i=>this.dialog.open(Ie,{data:i}))}getTotalForQuarterOfYear(){this.dialog.open(M.Y,{data:{title:"Total for a Quarter of a Year",object:this.providerInvoiceService.getTotalForQuarterOfYear(this.quarterOfYear)}})}getYearsOfAllCreationDate(){this.years=this.providerInvoiceService.getYearsOfAllCreationDate()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.uw),e.Y36(se))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:36,vars:11,consts:[["matInput","",3,"ngModel","ngModelChange"],["mat-icon-button","",3,"click"],[3,"data","deleteAction","title","create","read","update"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"ngModel","ngModelChange","click"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-card"),e.TgZ(1,"mat-card-content"),e.TgZ(2,"mat-label"),e.TgZ(3,"strong"),e._uU(4,"Filters: "),e.qZA(),e.qZA(),e.TgZ(5,"mat-form-field"),e.TgZ(6,"mat-label"),e._uU(7,"Provider Company"),e.qZA(),e.TgZ(8,"input",0),e.NdJ("ngModelChange",function(r){return i.providerInvoiceSearch.providerCompany=r}),e.qZA(),e.qZA(),e.TgZ(9,"mat-form-field"),e.TgZ(10,"mat-label"),e._uU(11,"Order Reference"),e.qZA(),e.TgZ(12,"input",0),e.NdJ("ngModelChange",function(r){return i.providerInvoiceSearch.orderReference=r}),e.qZA(),e.qZA(),e.TgZ(13,"button",1),e.NdJ("click",function(){return i.search()}),e.TgZ(14,"mat-icon"),e._uU(15,"search"),e.qZA(),e.qZA(),e.TgZ(16,"button",1),e.NdJ("click",function(){return i.resetSearch()}),e.TgZ(17,"mat-icon"),e._uU(18,"close"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"app-crud",2),e.NdJ("create",function(){return i.create()})("read",function(r){return i.read(r)})("update",function(r){return i.update(r)}),e.qZA(),e.TgZ(20,"mat-card"),e.TgZ(21,"mat-card-content"),e.TgZ(22,"mat-form-field"),e.TgZ(23,"mat-label"),e._uU(24,"Quarter of the year"),e.qZA(),e.TgZ(25,"mat-select",3),e.NdJ("ngModelChange",function(r){return i.quarterOfYear.quarter=r}),e.YNc(26,zn,2,2,"mat-option",4),e.qZA(),e.qZA(),e.TgZ(27,"mat-form-field"),e.TgZ(28,"mat-label"),e._uU(29,"Year"),e.qZA(),e.TgZ(30,"mat-select",5),e.NdJ("ngModelChange",function(r){return i.quarterOfYear.year=r})("click",function(){return i.getYearsOfAllCreationDate()}),e.YNc(31,Xn,2,2,"mat-option",4),e.ALo(32,"async"),e.qZA(),e.qZA(),e.TgZ(33,"button",1),e.NdJ("click",function(){return i.getTotalForQuarterOfYear()}),e.TgZ(34,"mat-icon"),e._uU(35,"search"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(8),e.Q6J("ngModel",i.providerInvoiceSearch.providerCompany),e.xp6(4),e.Q6J("ngModel",i.providerInvoiceSearch.orderReference),e.xp6(7),e.Q6J("data",i.providerInvoices)("deleteAction",!1)("title",i.title),e.xp6(6),e.Q6J("ngModel",i.quarterOfYear.quarter),e.xp6(1),e.Q6J("ngForOf",i.quarters),e.xp6(4),e.Q6J("ngModel",i.quarterOfYear.year),e.xp6(1),e.Q6J("ngForOf",e.lcZ(32,9,i.years)))},directives:[u.a8,u.dn,s.hX,s.KE,C.Nt,c.Fj,c.JJ,c.On,g.lW,Z.Hw,b.D,k.gD,_.sg,v.ey],pipes:[_.Ov],encapsulation:2}),n})();var w=h(7168);function Gn(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Reference "),e.qZA())}function $n(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.reference," ")}}function Kn(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Delivery Date "),e.qZA())}function ei(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.deliveryDate,"medium")," ")}}function ti(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Ticket Reference"),e.qZA())}function ni(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.ticket.reference,"")}}function ii(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," State "),e.qZA())}function oi(n,o){if(1&n&&(e.TgZ(0,"mat-option",13),e._uU(1),e.qZA()),2&n){const t=o.$implicit,i=e.oxw(2);e.Q6J("value",t),e.xp6(1),e.hij(" ",i.stateMapping[t]," ")}}function ai(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell"),e.TgZ(1,"mat-select",11),e.NdJ("valueChange",function(a){return e.CHM(t).$implicit.state=a}),e.YNc(2,oi,2,2,"mat-option",12),e.qZA(),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("value",t.state),e.xp6(1),e.Q6J("ngForOf",i.onlineOrderStates)}}function ri(n,o){1&n&&e._UZ(0,"mat-header-cell")}function li(n,o){1&n&&(e.TgZ(0,"mat-cell"),e.TgZ(1,"button",14),e._uU(2," Save "),e.qZA(),e.qZA())}function ci(n,o){1&n&&e._UZ(0,"mat-header-row")}function si(n,o){1&n&&e._UZ(0,"mat-row")}let di=(()=>{class n{constructor(){this.displayedColumns=["reference","deliveryDate","ticket","state","saveState"],this.onlineOrder1={reference:"680001",state:w.b.DELIVERED,deliveryDate:new Date("2020-01-01"),ticket:{id:"0001",reference:"888880001",mobile:688930112}},this.onlineOrder2={reference:"680002",state:w.b.SENT,deliveryDate:new Date("2020-02-28"),ticket:{id:"0002",reference:"888880002",mobile:688631677}},this.onlineOrder3={reference:"680003",state:w.b.PREPARING,deliveryDate:new Date("2020-04-01"),ticket:{id:"0003",reference:"888880003",mobile:688987646}},this.onlineOrders=[this.onlineOrder1,this.onlineOrder2,this.onlineOrder3],this.onlineOrderStates=[w.b.PREPARING,w.b.SENT,w.b.DELIVERED],this.stateMapping=w.Y}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-online-orders"]],decls:24,vars:3,consts:[["color","primary"],[1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","reference"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","deliveryDate"],["matColumnDef","ticket"],["matColumnDef","state"],["matColumnDef","saveState"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["color","primary","mat-raised-button",""]],template:function(t,i){1&t&&(e.TgZ(0,"mat-card"),e.TgZ(1,"mat-card-title"),e.TgZ(2,"mat-icon",0),e._uU(3,"shopping_basket"),e.qZA(),e._uU(4," Online Orders "),e.qZA(),e.TgZ(5,"mat-card-content"),e.TgZ(6,"mat-table",1),e.ynx(7,2),e.YNc(8,Gn,2,0,"mat-header-cell",3),e.YNc(9,$n,2,1,"mat-cell",4),e.BQk(),e.ynx(10,5),e.YNc(11,Kn,2,0,"mat-header-cell",3),e.YNc(12,ei,3,4,"mat-cell",4),e.BQk(),e.ynx(13,6),e.YNc(14,ti,2,0,"mat-header-cell",3),e.YNc(15,ni,2,1,"mat-cell",4),e.BQk(),e.ynx(16,7),e.YNc(17,ii,2,0,"mat-header-cell",3),e.YNc(18,ai,3,2,"mat-cell",4),e.BQk(),e.ynx(19,8),e.YNc(20,ri,1,0,"mat-header-cell",3),e.YNc(21,li,3,0,"mat-cell",4),e.BQk(),e.YNc(22,ci,1,0,"mat-header-row",9),e.YNc(23,si,1,0,"mat-row",10),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(6),e.Q6J("dataSource",i.onlineOrders),e.xp6(16),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns))},directives:[u.a8,u.n5,Z.Hw,u.dn,d.BZ,d.w1,d.fO,d.Dz,d.as,d.nj,d.ge,d.ev,k.gD,_.sg,v.ey,g.lW,d.XQ,d.Gk],pipes:[_.uU],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-height:500px;min-width:300px}.mat-cell[_ngcontent-%COMP%]{overflow:visible}.mat-table[_ngcontent-%COMP%]{overflow:auto;max-height:600px}.mat-column-[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"]}),n})();class ui{}var I=(()=>{return(n=I||(I={}))[n.INFO=0]="INFO",n[n.WARNING=1]="WARNING",n[n.ERROR=2]="ERROR",n[n.CRITICAL=3]="CRITICAL",I;var n})();let mi=(()=>{class n{constructor(t){this.httpService=t}publish(t){return this.httpService.post(m.C.SLACK,t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(T.O))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Ne=h(2329);function pi(n,o){if(1&n&&(e.TgZ(0,"mat-option",12),e._uU(1),e.qZA()),2&n){const t=o.$implicit,i=e.oxw();e.Q6J("value",t),e.xp6(1),e.hij(" ",i.slackPublicationCategoriesText[t]," ")}}let gi=(()=>{class n{constructor(t,i,a,r){this.slackWebhookService=t,this.snackBar=i,this.router=a,this.sharedCashierService=r,this.slackPublicationCategories=[I.INFO,I.WARNING,I.ERROR,I.CRITICAL],this.slackPublicationCategoriesText=["INFO","WARNING","ERROR","CRITICAL"],this.slackPublication=new ui}publish(){this.slackWebhookService.publish(this.slackPublication).subscribe(()=>{this.snackBar.open("Message published successfully on Slack","Success",{duration:5e3}),this.sharedCashierService.readLast().pipe((0,S.U)(t=>t.closed)).subscribe(t=>{t?this.router.navigate(["shop","cashier-closed"]).then():this.router.navigate(["shop","cashier-opened"]).then()})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(mi),e.Y36(ne.ux),e.Y36(F.F0),e.Y36(R))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-slack-webhook"]],decls:36,vars:7,consts:[["mat-dialog-title",""],[1,"full-width"],["id","title","matInput","","required","","type","text",3,"ngModel","ngModelChange"],["id","name","matInput","","required","","type","text",3,"ngModel","ngModelChange"],["id","slackUsername","matInput","","required","","type","text",3,"ngModel","ngModelChange"],["id","email","matInput","","required","","type","email",3,"ngModel","ngModelChange"],["required","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"my-text-area"],["id","message","matInput","","required","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5",3,"ngModel","ngModelChange"],["align","start"],["mat-dialog-close","","mat-raised-button","",3,"click"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"h2",0),e._uU(1,"Publish on Slack"),e.qZA(),e.TgZ(2,"div"),e.TgZ(3,"mat-form-field",1),e.TgZ(4,"mat-label"),e._uU(5,"Message title"),e.qZA(),e.TgZ(6,"input",2),e.NdJ("ngModelChange",function(r){return i.slackPublication.title=r}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div"),e.TgZ(8,"mat-form-field"),e.TgZ(9,"mat-label"),e._uU(10,"Name"),e.qZA(),e.TgZ(11,"input",3),e.NdJ("ngModelChange",function(r){return i.slackPublication.name=r}),e.qZA(),e.qZA(),e.TgZ(12,"mat-form-field"),e.TgZ(13,"mat-label"),e._uU(14,"Slack username"),e.qZA(),e.TgZ(15,"input",4),e.NdJ("ngModelChange",function(r){return i.slackPublication.slackUsername=r}),e.qZA(),e.qZA(),e.TgZ(16,"mat-form-field"),e.TgZ(17,"mat-label"),e._uU(18,"Email"),e.qZA(),e.TgZ(19,"input",5),e.NdJ("ngModelChange",function(r){return i.slackPublication.email=r}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div"),e.TgZ(21,"mat-form-field",1),e.TgZ(22,"mat-label"),e._uU(23,"Category"),e.qZA(),e.TgZ(24,"mat-select",6),e.NdJ("ngModelChange",function(r){return i.slackPublication.category=r}),e.YNc(25,pi,2,2,"mat-option",7),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div"),e.TgZ(27,"mat-form-field",8),e.TgZ(28,"mat-label"),e._uU(29,"Message"),e.qZA(),e.TgZ(30,"textarea",9),e.NdJ("ngModelChange",function(r){return i.slackPublication.message=r}),e._uU(31,"    "),e.qZA(),e.TgZ(32,"mat-hint",10),e._uU(33,"Main content of the message you want to post in Slack"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"button",11),e.NdJ("click",function(){return i.publish()}),e._uU(35,"Publish message"),e.qZA()),2&t&&(e.xp6(6),e.Q6J("ngModel",i.slackPublication.title),e.xp6(5),e.Q6J("ngModel",i.slackPublication.name),e.xp6(4),e.Q6J("ngModel",i.slackPublication.slackUsername),e.xp6(4),e.Q6J("ngModel",i.slackPublication.email),e.xp6(5),e.Q6J("ngModel",i.slackPublication.category),e.xp6(1),e.Q6J("ngForOf",i.slackPublicationCategories),e.xp6(5),e.Q6J("ngModel",i.slackPublication.message))},directives:[l.uh,s.KE,s.hX,C.Nt,c.Fj,c.Q7,c.JJ,c.On,k.gD,_.sg,Ne.IC,s.bx,g.lW,l.ZT,v.ey],styles:[".mat-form-field[_ngcontent-%COMP%]{margin-inline:10px;margin-top:5px}.mat-raised-button[_ngcontent-%COMP%]{margin-top:15px;margin-inline:10px;margin-bottom:25px}.my-text-area[_ngcontent-%COMP%]{width:50%}"]}),n})(),_i=(()=>{class n extends v.LF{format(t,i){return"month-year"===i?`${t.toLocaleString("en-us",{month:"long"})}, ${t.getFullYear()}`:t.toDateString()}}return n.\u0275fac=function(){let o;return function(i){return(o||(o=e.n5z(n)))(i||n)}}(),n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),hi=(()=>{class n{constructor(t){this.httpService=t}search(t){return this.httpService.paramsFrom(t).get(m.C.CASHIERS+n.SEARCH).pipe((0,S.U)(i=>i.cashiers))}}return n.SEARCH="/search",n.\u0275fac=function(t){return new(t||n)(e.LFG(T.O))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var x=h(8727);const fi={parse:{dateInput:{month:"long",year:"numeric"}},display:{dateInput:"month-year"}};let Ci=(()=>{class n{constructor(t,i){this.dialog=t,this.cashierClosureService=i,this.cashierClosures=(0,p.of)([]),this.title="Cashier closures management",this.date=new c.NI(new Date),this.maxDate=new Date,this.dateFilter="none",this.resetSearch(),this.cashierClosuresSearch={startDate:new Date(0).toISOString(),endDate:(new Date).toISOString()}}setYear(t){let i=this.date.value;i.setFullYear(t.getFullYear()),this.date.setValue(i)}setMonth(t,i){let a=this.date.value;a.setMonth(t.getMonth()),this.date.setValue(a),i.close()}search(){let t=new Date(0),i=new Date;"both"==this.dateFilter?(t=new Date(this.date.value.getFullYear(),this.date.value.getMonth(),1),i=new Date(this.date.value.getFullYear(),this.date.value.getMonth()+1,1)):"year"==this.dateFilter&&(t=new Date(this.date.value.getFullYear(),0,1),i=new Date(this.date.value.getFullYear()+1,0,1)),this.cashierClosuresSearch.startDate=t.toISOString(),this.cashierClosuresSearch.endDate=i.toISOString(),this.cashierClosures=this.cashierClosureService.search(this.cashierClosuresSearch)}resetSearch(){this.date.setValue(new Date),this.dateFilter="none"}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.uw),e.Y36(hi))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],features:[e._Bn([{provide:v._A,useClass:_i},{provide:v.sG,useValue:fi}])],decls:29,vars:11,consts:[["appearance","fill"],["matInput","",3,"matDatepicker","formControl","max"],["matSuffix","",3,"for"],["startView","multi-year","panelClass","month-picker",3,"yearSelected","monthSelected"],["picker",""],[3,"value","valueChange"],["value","both"],["value","year"],["value","none"],["mat-icon-button","",3,"click"],[3,"data","createAction","readAction","updateAction","deleteAction","title"]],template:function(t,i){if(1&t){const a=e.EpF();e.TgZ(0,"mat-card"),e.TgZ(1,"mat-card-content"),e.TgZ(2,"mat-label"),e.TgZ(3,"strong"),e._uU(4,"Filters: "),e.qZA(),e.qZA(),e.TgZ(5,"mat-form-field",0),e.TgZ(6,"mat-label"),e._uU(7,"Choose a date"),e.qZA(),e._UZ(8,"input",1),e._UZ(9,"mat-datepicker-toggle",2),e.TgZ(10,"mat-datepicker",3,4),e.NdJ("yearSelected",function(f){return i.setYear(f)})("monthSelected",function(f){e.CHM(a);const A=e.MAs(11);return i.setMonth(f,A)}),e.qZA(),e.qZA(),e.TgZ(12,"mat-form-field"),e.TgZ(13,"mat-label"),e._uU(14,"Filter by"),e.qZA(),e.TgZ(15,"mat-select",5),e.NdJ("valueChange",function(f){return i.dateFilter=f}),e.TgZ(16,"mat-option",6),e._uU(17,"Month & Year"),e.qZA(),e.TgZ(18,"mat-option",7),e._uU(19,"Year"),e.qZA(),e.TgZ(20,"mat-option",8),e._uU(21,"None"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"button",9),e.NdJ("click",function(){return i.search()}),e.TgZ(23,"mat-icon"),e._uU(24,"search"),e.qZA(),e.qZA(),e.TgZ(25,"button",9),e.NdJ("click",function(){return i.resetSearch()}),e.TgZ(26,"mat-icon"),e._uU(27,"close"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(28,"app-crud",10)}if(2&t){const a=e.MAs(11);e.xp6(8),e.Q6J("matDatepicker",a)("formControl",i.date)("max",i.maxDate),e.xp6(1),e.Q6J("for",a),e.xp6(6),e.Q6J("value",i.dateFilter),e.xp6(13),e.Q6J("data",i.cashierClosures)("createAction",!1)("readAction",!1)("updateAction",!1)("deleteAction",!1)("title",i.title)}},directives:[u.a8,u.dn,s.hX,s.KE,C.Nt,x.hl,c.Fj,c.JJ,c.oH,x.nW,s.R9,x.Mq,k.gD,v.ey,g.lW,Z.Hw,b.D],encapsulation:2}),n})();class Zi{}let de=(()=>{class n{constructor(t){this.httpService=t}create(t){return this.httpService.post(m.C.STOCK_AUDIT,t)}read(t){return this.httpService.get(m.C.STOCK_AUDIT+"/"+t)}show(){return this.httpService.get(m.C.STOCK_AUDIT+n.SEARCH)}update(t,i){return this.httpService.successful().put(m.C.STOCK_AUDIT+"/"+t,i)}}return n.SEARCH="/search",n.\u0275fac=function(t){return new(t||n)(e.LFG(T.O))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ti(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-form-field",2),e.TgZ(1,"mat-label"),e._uU(2,"Id"),e.qZA(),e.TgZ(3,"input",11),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw().stock.id=a}),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.stock.id)}}function Ai(n,o){if(1&n&&(e.TgZ(0,"mat-option",12),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function bi(n,o){if(1&n&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.qZA()),2&n){const t=o.$implicit;e.xp6(2),e.Oqu(t.barcode),e.xp6(2),e.hij("",t.stock," ")}}let Fe=(()=>{class n{constructor(t,i,a){this.dialog=i,this.stockAuditServices=a,this.articleLoss=new Zi,this.title="Stock Audit",this.stock=t||{articlesWithoutAudit:void 0,creationDate:void 0,closeDate:void 0,lossValue:void 0,articleLoss:void 0,id:void 0},this.oldId=t?t.id:void 0,this.barcode=this.stock.articlesWithoutAudit.map(r=>r.barcode)}create(){}update(){console.log(this.stock)}isCreate(){return void 0===this.oldId}invalid(){return!1}closeAudit(){this.dialog.closeAll()}AddArticleLoss(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.WI),e.Y36(l.uw),e.Y36(de))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:37,vars:7,consts:[["mat-dialog-title",""],["class","full-width",4,"ngIf"],[1,"full-width"],["disabled","disabled","matInput","","required","","type","text",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","number",3,"ngModel","ngModelChange"],["mat-icon-button","",3,"click"],[4,"ngFor","ngForOf"],["mat-raised-button","",3,"click"],["cdkFocusInitial","","mat-dialog-close","","mat-raised-button",""],["id","company","matInput","","required","","type","text",3,"ngModel","ngModelChange"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e.TgZ(2,"mat-dialog-content"),e.YNc(3,Ti,4,1,"mat-form-field",1),e.TgZ(4,"mat-form-field",2),e.TgZ(5,"mat-label"),e._uU(6,"creation Date"),e.qZA(),e.TgZ(7,"input",3),e.NdJ("ngModelChange",function(r){return i.stock.creationDate=r}),e.qZA(),e.qZA(),e.TgZ(8,"mat-card"),e.TgZ(9,"mat-card-content"),e.TgZ(10,"mat-form-field"),e.TgZ(11,"mat-label"),e._uU(12,"Barcode"),e.qZA(),e.TgZ(13,"mat-select",4),e.NdJ("ngModelChange",function(r){return i.articleLoss.barcode=r}),e.YNc(14,Ai,2,2,"mat-option",5),e.qZA(),e.qZA(),e.TgZ(15,"mat-form-field"),e.TgZ(16,"mat-label"),e._uU(17,"Amount"),e.qZA(),e.TgZ(18,"input",6),e.NdJ("ngModelChange",function(r){return i.articleLoss.amount=r}),e.qZA(),e.qZA(),e.TgZ(19,"button",7),e.NdJ("click",function(){return i.AddArticleLoss()}),e.TgZ(20,"mat-icon"),e._uU(21,"add"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.ynx(22),e.TgZ(23,"table"),e.TgZ(24,"tr"),e.TgZ(25,"th"),e._uU(26," ArticleBarcode"),e.qZA(),e.TgZ(27,"th"),e._uU(28," ArticleStock"),e.qZA(),e.qZA(),e.YNc(29,bi,5,2,"tr",8),e.qZA(),e.BQk(),e.TgZ(30,"mat-dialog-actions"),e.TgZ(31,"button",9),e.NdJ("click",function(){return i.update()}),e._uU(32,"save Audit"),e.qZA(),e.TgZ(33,"button",9),e.NdJ("click",function(){return i.closeAudit()}),e._uU(34,"Close Audit "),e.qZA(),e.TgZ(35,"button",10),e._uU(36,"Cancel"),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Oqu(i.title),e.xp6(2),e.Q6J("ngIf",i.isCreate()),e.xp6(4),e.Q6J("ngModel",i.stock.creationDate),e.xp6(6),e.Q6J("ngModel",i.articleLoss.barcode),e.xp6(1),e.Q6J("ngForOf",i.barcode),e.xp6(4),e.Q6J("ngModel",i.articleLoss.amount),e.xp6(11),e.Q6J("ngForOf",i.stock.articlesWithoutAudit))},directives:[l.uh,l.xY,_.O5,s.KE,s.hX,C.Nt,c.Fj,c.Q7,c.JJ,c.On,u.a8,u.dn,k.gD,_.sg,c.wV,g.lW,Z.Hw,l.H8,l.ZT,v.ey],encapsulation:2}),n})();function vi(n,o){if(1&n&&(e.TgZ(0,"tr"),e.TgZ(1,"th"),e._uU(2),e.qZA(),e.TgZ(3,"th"),e._uU(4),e.qZA(),e.qZA()),2&n){const t=o.$implicit;e.xp6(2),e.Oqu(t.barcode),e.xp6(2),e.hij("",t.stock," ")}}function qi(n,o){if(1&n&&(e.TgZ(0,"tr"),e.TgZ(1,"th"),e._uU(2),e.qZA(),e.TgZ(3,"th"),e._uU(4),e.qZA(),e.qZA()),2&n){const t=o.$implicit;e.xp6(2),e.Oqu(t.barcode),e.xp6(2),e.hij("",t.amount," ")}}let Si=(()=>{class n{constructor(t,i){this.dialog=i,this.title="Stock Audit Detail",this.stock=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.WI),e.Y36(l.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:40,vars:6,consts:[["mat-dialog-content",""],[1,"full-width"],[4,"ngFor","ngForOf"],[1,"center"],["mat-dialog-close","","mat-raised-button",""]],template:function(t,i){1&t&&(e.TgZ(0,"h1",0),e._uU(1),e.qZA(),e.TgZ(2,"div"),e.TgZ(3,"mat-dialog-content",1),e.TgZ(4,"p"),e.TgZ(5,"strong"),e._uU(6,"Creation Date: "),e.qZA(),e._uU(7),e.qZA(),e.TgZ(8,"p"),e.TgZ(9,"strong"),e._uU(10,"Close Date: "),e.qZA(),e._uU(11),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"mat-dialog-actions",1),e.TgZ(13,"div"),e.TgZ(14,"strong"),e._uU(15," Articles Without Audit"),e.qZA(),e.TgZ(16,"table"),e.TgZ(17,"tr"),e.TgZ(18,"th"),e._uU(19,"Barcode "),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Stock "),e.qZA(),e.qZA(),e.YNc(22,vi,5,2,"tr",2),e.qZA(),e.qZA(),e.TgZ(23,"div",3),e.TgZ(24,"strong"),e._uU(25,"Articles Losses"),e.qZA(),e.TgZ(26,"table"),e.TgZ(27,"tr"),e.TgZ(28,"th"),e._uU(29," Barcode"),e.qZA(),e.TgZ(30,"th"),e._uU(31," Amount Losses"),e.qZA(),e.qZA(),e.YNc(32,qi,5,2,"tr",2),e.qZA(),e.qZA(),e.TgZ(33,"div",3),e.TgZ(34,"strong"),e._uU(35," Losses "),e.qZA(),e._uU(36),e.qZA(),e.qZA(),e.TgZ(37,"mat-dialog-actions"),e.TgZ(38,"button",4),e._uU(39,"Close"),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Oqu(i.title),e.xp6(6),e.hij(" ",i.stock.creationDate," "),e.xp6(4),e.hij(" ",i.stock.closeDate," "),e.xp6(11),e.Q6J("ngForOf",i.stock.articlesWithoutAudit),e.xp6(10),e.Q6J("ngForOf",i.stock.articleLoss),e.xp6(4),e.hij(" ",i.stock.lossValue," $ "))},directives:[l.xY,l.H8,_.sg,g.lW,l.ZT],styles:[".center[_ngcontent-%COMP%]{margin-left:80px}"]}),n})(),Mi=(()=>{class n{constructor(t,i){this.dialog=t,this.stockServices=i,this.title="Stock Audit",this.stock=(0,p.of)([]),this.stock=this.stockServices.show()}create(){this.stockServices.create(this.stockAudit).subscribe(t=>this.dialog.open(Fe,{data:t}))}read(t){this.stockServices.read(t.id).subscribe(i=>this.dialog.open(Si,{data:i}))}update(t){this.stockServices.read(t.id).subscribe(i=>this.dialog.open(Fe,{data:i}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.uw),e.Y36(de))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:3,consts:[[3,"data","deleteAction","title","create","read","update"]],template:function(t,i){1&t&&(e.TgZ(0,"app-crud",0),e.NdJ("create",function(){return i.create()})("read",function(r){return i.read(r)})("update",function(r){return i.update(r)}),e.qZA()),2&t&&e.Q6J("data",i.stock)("deleteAction",!1)("title",i.title)},directives:[b.D],styles:[""]}),n})(),ki=(()=>{class n{constructor(t){this.httpService=t}searchByDate(t){return this.httpService.paramsFrom(t).get(m.C.TICKETS+n.SEARCH)}searchForPrediction(t){return this.httpService.paramsFrom(t).get(m.C.TICKETS+n.PREDICTION)}}return n.PREDICTION="/prediction",n.SEARCH="/search",n.\u0275fac=function(t){return new(t||n)(e.LFG(T.O))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ue=h(2262),Pe=h(8789);function yi(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," - EMPTY!"),e.qZA())}function Ui(n,o){1&n&&e._UZ(0,"mat-header-row")}function Di(n,o){1&n&&e._UZ(0,"mat-row")}function xi(n,o){if(1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"uppercaseWords"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,t))}}function Oi(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=o.$implicit,i=e.oxw().$implicit;e.xp6(1),e.Oqu(t[i])}}function Ji(n,o){1&n&&(e.ynx(0,9),e.YNc(1,xi,3,3,"mat-header-cell",7),e.YNc(2,Oi,2,1,"mat-cell",8),e.BQk()),2&n&&e.Q6J("matColumnDef",o.$implicit)}function wi(n,o){1&n&&e._UZ(0,"mat-header-cell")}function Ii(n,o){1&n&&e._UZ(0,"mat-cell")}let Ni=(()=>{class n{constructor(){this.title="Management",this.readAction=!0,this.predictTimeAction=!0,this.predictEndAction=!0,this.read=new e.vpe,this.predictTime=new e.vpe,this.predictEnd=new e.vpe}set data(t){t.subscribe(i=>{const a=new Set;this.dataSource=new d.by(i),i?(i.forEach(r=>Object.getOwnPropertyNames(r).forEach(f=>a.add(f))),this.columns=Array.from(a)):this.columns=[],a.add("actions"),this.columnsHeader=Array.from(a)})}onRead(t){this.read.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-view-stock"]],inputs:{title:"title",readAction:"readAction",predictTimeAction:"predictTimeAction",predictEndAction:"predictEndAction",data:"data"},outputs:{read:"read",predictTime:"predictTime",predictEnd:"predictEnd"},decls:13,vars:6,consts:[[4,"ngIf"],["matSort","",1,"mat-elevation-z8",3,"dataSource"],["table",""],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","actions"],[4,"matHeaderCellDef"],[4,"matCellDef"],[3,"matColumnDef"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-card"),e.TgZ(1,"mat-card-title"),e._uU(2),e.YNc(3,yi,2,0,"span",0),e.qZA(),e.TgZ(4,"mat-card-content"),e.TgZ(5,"mat-table",1,2),e.YNc(7,Ui,1,0,"mat-header-row",3),e.YNc(8,Di,1,0,"mat-row",4),e.YNc(9,Ji,3,1,"ng-container",5),e.ynx(10,6),e.YNc(11,wi,1,0,"mat-header-cell",7),e.YNc(12,Ii,1,0,"mat-cell",8),e.BQk(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Oqu(i.title),e.xp6(1),e.Q6J("ngIf",0===i.columns.length),e.xp6(2),e.Q6J("dataSource",i.dataSource),e.xp6(2),e.Q6J("matHeaderRowDef",i.columnsHeader),e.xp6(1),e.Q6J("matRowDefColumns",i.columnsHeader),e.xp6(1),e.Q6J("ngForOf",i.columns))},directives:[u.a8,u.n5,_.O5,u.dn,d.BZ,ue.YE,d.as,d.nj,_.sg,d.w1,d.fO,d.Dz,d.XQ,d.Gk,d.ge,d.ev],pipes:[Pe.y],encapsulation:2}),n})(),Fi=(()=>{class n{constructor(t,i,a){this.articleService=t,this.ticketService=i,this.datepipe=a,this.title="Stock management",this.articles=(0,p.of)([]),this.resetSearch()}search(){delete this.fromDate,delete this.untilDate,delete this.articleSearch.barcode,this.articles=this.articleService.search(this.articleSearch)}searchByDate(){this.resetSearch(),this.articleSearch.fromDate=this.datepipe.transform(this.fromDate,"yyyy-MM-dd"),this.articleSearch.untilDate=this.datepipe.transform(this.untilDate,"yyyy-MM-dd"),this.articles=this.ticketService.searchByDate(this.articleSearch)}searchForPrediction(){delete this.fromDate,delete this.untilDate,delete this.articleSearch.stock,this.articles=this.ticketService.searchForPrediction(this.articleSearch)}resetSearch(){this.articleSearch={}}unfinished(){this.articles=this.articleService.searchUnfinished()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(N),e.Y36(ki),e.Y36(_.uU))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:55,vars:10,consts:[["matInput","","type","number",3,"ngModel","ngModelChange"],["align","start"],["mat-icon-button","",3,"click"],["matInput","",3,"ngModel","matDatepicker","ngModelChange"],["matSuffix","",3,"for"],["fromDatePicker",""],["untilDatePicker",""],["matInput","",3,"ngModel","ngModelChange"],[3,"data","title"]],template:function(t,i){if(1&t&&(e.TgZ(0,"mat-card"),e.TgZ(1,"mat-card-content"),e.TgZ(2,"mat-label"),e.TgZ(3,"strong"),e._uU(4,"Filters: "),e.qZA(),e.qZA(),e.TgZ(5,"mat-form-field"),e.TgZ(6,"mat-label"),e._uU(7,"Stock"),e.qZA(),e.TgZ(8,"input",0),e.NdJ("ngModelChange",function(r){return i.articleSearch.stock=r}),e.qZA(),e.TgZ(9,"mat-hint",1),e._uU(10,"Less than"),e.qZA(),e.qZA(),e.TgZ(11,"button",2),e.NdJ("click",function(){return i.search()}),e.TgZ(12,"mat-icon"),e._uU(13,"search"),e.qZA(),e.qZA(),e.TgZ(14,"button",2),e.NdJ("click",function(){return i.resetSearch()}),e.TgZ(15,"mat-icon"),e._uU(16,"close"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"mat-card"),e.TgZ(18,"mat-card-content"),e.TgZ(19,"mat-label"),e.TgZ(20,"strong"),e._uU(21,"Filters: "),e.qZA(),e.qZA(),e.TgZ(22,"mat-form-field"),e.TgZ(23,"mat-label"),e._uU(24,"From "),e.qZA(),e.TgZ(25,"input",3),e.NdJ("ngModelChange",function(r){return i.fromDate=r}),e.qZA(),e._UZ(26,"mat-datepicker-toggle",4),e._UZ(27,"mat-datepicker",null,5),e.qZA(),e.TgZ(29,"mat-form-field"),e.TgZ(30,"mat-label"),e._uU(31,"Until"),e.qZA(),e.TgZ(32,"input",3),e.NdJ("ngModelChange",function(r){return i.untilDate=r}),e.qZA(),e._UZ(33,"mat-datepicker-toggle",4),e._UZ(34,"mat-datepicker",null,6),e.qZA(),e.TgZ(36,"button",2),e.NdJ("click",function(){return i.searchByDate()}),e.TgZ(37,"mat-icon"),e._uU(38,"search"),e.qZA(),e.qZA(),e.TgZ(39,"button",2),e.NdJ("click",function(){return i.resetSearch()}),e.TgZ(40,"mat-icon"),e._uU(41,"close"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(42,"mat-card"),e.TgZ(43,"mat-card-content"),e.TgZ(44,"mat-label"),e.TgZ(45,"strong"),e._uU(46,"Predict stock: "),e.qZA(),e.qZA(),e.TgZ(47,"mat-form-field"),e.TgZ(48,"mat-label"),e._uU(49,"Barcode"),e.qZA(),e.TgZ(50,"input",7),e.NdJ("ngModelChange",function(r){return i.articleSearch.barcode=r}),e.qZA(),e.qZA(),e.TgZ(51,"button",2),e.NdJ("click",function(){return i.searchForPrediction()}),e.TgZ(52,"mat-icon"),e._uU(53,"search"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(54,"app-view-stock",8)),2&t){const a=e.MAs(28),r=e.MAs(35);e.xp6(8),e.Q6J("ngModel",i.articleSearch.stock),e.xp6(17),e.Q6J("ngModel",i.fromDate)("matDatepicker",a),e.xp6(1),e.Q6J("for",a),e.xp6(6),e.Q6J("ngModel",i.untilDate)("matDatepicker",r),e.xp6(1),e.Q6J("for",r),e.xp6(17),e.Q6J("ngModel",i.articleSearch.barcode),e.xp6(4),e.Q6J("data",i.articles)("title",i.title)}},directives:[u.a8,u.dn,s.hX,s.KE,C.Nt,c.wV,c.Fj,c.JJ,c.On,s.bx,g.lW,Z.Hw,x.hl,x.nW,s.R9,x.Mq,Ni],encapsulation:2}),n})();const Pi=["code"];function Qi(n,o){1&n&&(e.TgZ(0,"mat-header-cell",18),e._uU(1," # "),e.qZA())}function Yi(n,o){if(1&n&&(e.TgZ(0,"mat-cell",18),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.position," ")}}function Ei(n,o){1&n&&(e.TgZ(0,"mat-header-cell",19),e._uU(1," Barcode "),e.qZA())}function Ri(n,o){if(1&n&&(e.TgZ(0,"mat-cell",19),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.barcode," ")}}function Li(n,o){1&n&&(e.TgZ(0,"mat-header-cell",20),e._uU(1," Description "),e.qZA())}function Hi(n,o){if(1&n&&(e.TgZ(0,"mat-cell",20),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.description," ")}}function Bi(n,o){1&n&&(e.TgZ(0,"mat-header-cell",21),e._uU(1," Required Amount "),e.qZA())}function ji(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell",21),e.TgZ(1,"button",22),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().decreaseAmount(r)}),e.TgZ(2,"mat-icon"),e._uU(3,"remove_circle_outline"),e.qZA(),e.qZA(),e._uU(4),e.TgZ(5,"button",23),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().incrementAmount(r)}),e.TgZ(6,"mat-icon"),e._uU(7,"add_circle_outline"),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=o.$implicit;e.xp6(4),e.hij(" ",t.requiredAmount," ")}}function Vi(n,o){1&n&&(e.TgZ(0,"mat-header-cell",24),e._uU(1," Actions "),e.qZA())}function zi(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell",24),e.TgZ(1,"button",25),e.NdJ("click",function(){return e.CHM(t),e.oxw().delete()}),e.TgZ(2,"mat-icon",26),e._uU(3,"close"),e.qZA(),e.qZA(),e.qZA()}}function Xi(n,o){1&n&&e._UZ(0,"mat-header-row")}function Wi(n,o){1&n&&e._UZ(0,"mat-row")}const Gi=[{position:1,barcode:"7866767867867",requiredAmount:0,description:"Camisa SportCliff",actions:"H"},{position:2,barcode:"1231231311233",requiredAmount:0,description:"Short Deportivo",actions:"He"}];let $i=(()=>{class n{constructor(t,i,a){this.dialog=t,this.shoppingCartService=i,this._snackBar=a,this.displayedColumns=["position","barcode","description","requiredAmount","actions"],this.dataSource=Gi,this.barcodes=(0,p.of)([]),this.articles=[],this.indexShoppingCart=0,this.totalShoppingCart=0,this.item=0;for(let r=0;r<3;r++);this.articles=[]}ngOnInit(){this.articles=[],this.synchronizeShoppingCart()}synchronizeShoppingCart(){this.articles=[...this.articles]}addBarcode(t){this.shoppingCartService.read(t).subscribe(i=>{this.articles.push(i),this.synchronizeShoppingCart()}),this.elementRef.nativeElement.focus()}incrementAmount(t){t.requiredAmount++,0===t.requiredAmount&&t.requiredAmount++}decreaseAmount(t){t.requiredAmount>0&&t.requiredAmount--}updateDiscount(t){this.dialog.open(X,{data:t.discount}).afterClosed().subscribe(i=>{i&&(t.discount=i,t.discount<0&&(t.discount=0),t.discount>100&&(t.discount=100),t.updateTotal(),this.synchronizeShoppingCart())})}updateTotal(t){this.dialog.open(X,{data:t.total}).afterClosed().subscribe(i=>{i&&(t.total=i,t.total>t.retailPrice*t.amount&&(t.total=t.retailPrice*t.amount),t.total<0&&(t.total=0),t.updateDiscount(),this.synchronizeShoppingCart())})}delete(){console.log("eliminar linea")}checkboxState(t){return t===y.o.COMMITTED}changeCommitted(t){t.state=t.state===y.o.COMMITTED?y.o.NOT_COMMITTED:y.o.COMMITTED}isEmpty(){return!this.articles||0===this.articles.length}exchangeShoppingCart(){this.indexShoppingCart%=3,this.synchronizeShoppingCart()}checkOut(){this.dialog.open(ve,{data:this.articles}).afterClosed().subscribe(t=>{t&&this.ngOnInit()})}createBudget(){}selectBudget(t){this.dialog.open(Me,{data:t})}addDiscount(t){if(999999999==t){let i=0;for(const a of this.articles);i>100?this._snackBar.open("Customer discount applied","Close",{duration:3e3}):this.dialog.open(qe,{data:{total:100,left:100-i}})}else this._snackBar.open("No discount associated to this user","Close",{duration:3e3})}addOffer(t){}showArticlesFamily(){this.dialog.open(Se)}}return n.SHOPPING_CART_NUM=4,n.\u0275fac=function(t){return new(t||n)(e.Y36(l.uw),e.Y36(V),e.Y36(ne.ux))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-provider-orders-dialog-table"]],viewQuery:function(t,i){if(1&t&&e.Gf(Pi,7),2&t){let a;e.iGM(a=e.CRH())&&(i.elementRef=a.first)}},decls:18,vars:3,consts:[[3,"dataSource"],["matColumnDef","position"],["fxFlex","10%",4,"matHeaderCellDef"],["fxFlex","10%",4,"matCellDef"],["matColumnDef","barcode"],["fxFlex","25%",4,"matHeaderCellDef"],["fxFlex","25%",4,"matCellDef"],["matColumnDef","description"],["fxFlex","30%",4,"matHeaderCellDef"],["fxFlex","30%",4,"matCellDef"],["matColumnDef","requiredAmount"],["fxFlex","20%",4,"matHeaderCellDef"],["fxFlex","20%",4,"matCellDef"],["matColumnDef","actions"],["fxFlex","15%",4,"matHeaderCellDef"],["fxFlex","15%",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["fxFlex","10%"],["fxFlex","25%"],["fxFlex","30%"],["fxFlex","20%"],["color","accent","mat-icon-button","",3,"click"],["color","primary","mat-icon-button","",3,"click"],["fxFlex","15%"],["mat-button","","mat-icon-button","","matSuffix","",3,"click"],["color","warn"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-table",0),e.ynx(1,1),e.YNc(2,Qi,2,0,"mat-header-cell",2),e.YNc(3,Yi,2,1,"mat-cell",3),e.BQk(),e.ynx(4,4),e.YNc(5,Ei,2,0,"mat-header-cell",5),e.YNc(6,Ri,2,1,"mat-cell",6),e.BQk(),e.ynx(7,7),e.YNc(8,Li,2,0,"mat-header-cell",8),e.YNc(9,Hi,2,1,"mat-cell",9),e.BQk(),e.ynx(10,10),e.YNc(11,Bi,2,0,"mat-header-cell",11),e.YNc(12,ji,8,1,"mat-cell",12),e.BQk(),e.ynx(13,13),e.YNc(14,Vi,2,0,"mat-header-cell",14),e.YNc(15,zi,4,0,"mat-cell",15),e.BQk(),e.YNc(16,Xi,1,0,"mat-header-row",16),e.YNc(17,Wi,1,0,"mat-row",17),e.qZA()),2&t&&(e.Q6J("dataSource",i.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns))},directives:[d.BZ,d.w1,d.fO,d.Dz,d.as,d.nj,d.ge,O.yH,d.ev,g.lW,Z.Hw,s.R9,d.XQ,d.Gk],styles:[".mat-cell[_ngcontent-%COMP%]{overflow:visible}.mat-table[_ngcontent-%COMP%]{overflow:auto;max-height:600px}.mat-column-[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"]}),n})();function Ki(n,o){if(1&n&&(e.TgZ(0,"mat-option",10),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function eo(n,o){if(1&n&&(e.TgZ(0,"mat-option",10),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function to(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){return e.CHM(t),e.oxw().create()}),e._uU(1,"Create "),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.invalid())}}function no(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){return e.CHM(t),e.oxw().update()}),e._uU(1,"Update "),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.invalid())}}let io=(()=>{class n{constructor(t,i,a){this.articleService=i,this.dialog=a,this.taxValues=Object.keys(U).filter(r=>isNaN(Number(r))),this.companies=(0,p.of)([]),this.title="Create Provider Order",this.article={barcode:void 0,description:void 0,retailPrice:void 0,providerCompany:void 0,discontinued:!1,tax:U.GENERAL,stock:10},this.oldBarcode=t?t.barcode:void 0}ngOnInit(){}isCreate(){return void 0===this.oldBarcode}create(){this.articleService.create(this.article).subscribe(()=>this.dialog.closeAll())}update(){this.articleService.update(this.oldBarcode,this.article).subscribe(()=>this.dialog.closeAll())}invalid(){return this.check(this.article.barcode)||this.check(this.article.description)||this.check(this.article.providerCompany)||void 0===this.article.retailPrice||null}check(t){return void 0===t||""===t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.WI),e.Y36(N),e.Y36(l.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-provider-order-creation-dialog"]],decls:27,vars:8,consts:[["mat-dialog-title",""],[1,"half-width"],["required","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"flex-group"],[3,"ngModel","ngModelChange"],["matInput","","disabled","","type","text",3,"ngModel","ngModelChange"],["mat-mini-fab","","color","","aria-label","add item"],["cdkFocusInitial","","mat-dialog-close","","mat-raised-button",""],["color","primary","mat-raised-button","",3,"disabled","click",4,"ngIf"],[3,"value"],["color","primary","mat-raised-button","",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e.TgZ(2,"mat-dialog-content"),e.TgZ(3,"mat-form-field",1),e.TgZ(4,"mat-label"),e._uU(5,"Company"),e.qZA(),e.TgZ(6,"mat-select",2),e.NdJ("ngModelChange",function(r){return i.article.providerCompany=r}),e.YNc(7,Ki,2,2,"mat-option",3),e.qZA(),e.qZA(),e.TgZ(8,"div",4),e.TgZ(9,"mat-form-field",1),e.TgZ(10,"mat-label"),e._uU(11,"Barcode"),e.qZA(),e.TgZ(12,"mat-select",5),e.NdJ("ngModelChange",function(r){return i.article.providerCompany=r}),e.YNc(13,eo,2,2,"mat-option",3),e.qZA(),e.qZA(),e.TgZ(14,"mat-form-field",1),e.TgZ(15,"mat-label"),e._uU(16,"Description"),e.qZA(),e.TgZ(17,"input",6),e.NdJ("ngModelChange",function(r){return i.article.description=r}),e.qZA(),e.qZA(),e.TgZ(18,"button",7),e.TgZ(19,"mat-icon"),e._uU(20,"playlist_add"),e.qZA(),e.qZA(),e.qZA(),e._UZ(21,"app-provider-orders-dialog-table"),e.qZA(),e.TgZ(22,"mat-dialog-actions"),e.TgZ(23,"button",8),e._uU(24,"Close"),e.qZA(),e.YNc(25,to,2,1,"button",9),e.YNc(26,no,2,1,"button",9),e.qZA()),2&t&&(e.xp6(1),e.Oqu(i.title),e.xp6(5),e.Q6J("ngModel",i.article.providerCompany),e.xp6(1),e.Q6J("ngForOf",i.article.providerCompany),e.xp6(5),e.Q6J("ngModel",i.article.providerCompany),e.xp6(1),e.Q6J("ngForOf",i.article.providerCompany),e.xp6(4),e.Q6J("ngModel",i.article.description),e.xp6(8),e.Q6J("ngIf",i.isCreate()),e.xp6(1),e.Q6J("ngIf",!i.isCreate()))},directives:[l.uh,l.xY,s.KE,s.hX,k.gD,c.Q7,c.JJ,c.On,_.sg,C.Nt,c.Fj,g.lW,Z.Hw,$i,l.H8,l.ZT,_.O5,v.ey],styles:["mat-dialog-content[_ngcontent-%COMP%]{width:40rem}.full-width[_ngcontent-%COMP%]{width:100%}.half-width[_ngcontent-%COMP%]{width:16rem}.flex-group[_ngcontent-%COMP%]{display:flex}.flex-group[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%], .flex-group[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-right:2rem}app-provider-orders-dialog-table[_ngcontent-%COMP%]{margin:1rem 0 2rem}"]}),n})(),me=(()=>{class n{constructor(t){this.httpService=t}create(t){return this.httpService.post(m.C.PROVIDERS,t)}read(t){return this.httpService.get(m.C.PROVIDERS+"/"+t)}update(t,i){return this.httpService.successful().put(m.C.PROVIDERS+"/"+t,i)}search(t){return this.httpService.paramsFrom(t).get(m.C.PROVIDERS+n.SEARCH)}}return n.SEARCH="/search",n.\u0275fac=function(t){return new(t||n)(e.LFG(T.O))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function oo(n,o){if(1&n&&(e.TgZ(0,"mat-option",27),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function ao(n,o){1&n&&(e.TgZ(0,"mat-header-cell",28),e._uU(1," # "),e.qZA())}function ro(n,o){if(1&n&&(e.TgZ(0,"mat-cell",28),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.position," ")}}function lo(n,o){1&n&&(e.TgZ(0,"mat-header-cell",29),e._uU(1," Barcode "),e.qZA())}function co(n,o){if(1&n&&(e.TgZ(0,"mat-cell",29),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.barcode," ")}}function so(n,o){1&n&&(e.TgZ(0,"mat-header-cell",30),e._uU(1," Description "),e.qZA())}function uo(n,o){if(1&n&&(e.TgZ(0,"mat-cell",30),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.description," ")}}function mo(n,o){1&n&&(e.TgZ(0,"mat-header-cell",29),e._uU(1," Required Amount "),e.qZA())}function po(n,o){if(1&n&&(e.TgZ(0,"mat-cell",29),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.requiredAmount," ")}}function go(n,o){1&n&&(e.TgZ(0,"mat-header-cell",29),e._uU(1," Final Amount "),e.qZA())}function _o(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell",29),e.TgZ(1,"button",31),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().decreaseAmount(r)}),e.TgZ(2,"mat-icon"),e._uU(3,"remove_circle_outline"),e.qZA(),e.qZA(),e._uU(4),e.TgZ(5,"button",32),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().incrementAmount(r)}),e.TgZ(6,"mat-icon"),e._uU(7,"add_circle_outline"),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=o.$implicit;e.xp6(4),e.hij(" ",t.finalAmount," ")}}function ho(n,o){1&n&&e._UZ(0,"mat-header-row")}function fo(n,o){1&n&&e._UZ(0,"mat-row")}function Co(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){return e.CHM(t),e.oxw().create()}),e._uU(1,"Create "),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.invalid())}}function Zo(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){return e.CHM(t),e.oxw().update()}),e._uU(1,"Update "),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.invalid())}}function To(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){return e.CHM(t),e.oxw().close()}),e._uU(1,"Close Order "),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.invalid())}}const Ao=[{position:1,barcode:"7866767867867",description:"Camisa SportCliff",requiredAmount:12,finalAmount:0},{position:2,barcode:"1231231311233",description:"Short Deportivo",requiredAmount:2,finalAmount:0}];let bo=(()=>{class n{constructor(t,i,a){this.providerOrderService=i,this.dialog=a,this.displayedColumns=["position","barcode","description","requiredAmount","finalAmount"],this.dataSource=Ao,this.title=t?"Update Provider Order":"Create Provider Order",this.providerOrder=t||{company:void 0,reference:void 0,openingDate:void 0,orderLines:[]},this.oldProvider=t?t.company:void 0}ngOnInit(){}isCreate(){return void 0===this.oldProvider}create(){this.providerOrderService.create(this.providerOrder).subscribe(()=>this.dialog.closeAll())}update(){this.providerOrderService.update(this.oldProvider,this.providerOrder).subscribe(()=>this.dialog.closeAll())}invalid(){return this.check(this.providerOrder.company)||this.check(this.providerOrder.description)||this.check(this.providerOrder.reference)}check(t){return void 0===t||""===t}delete(){console.log("eliminar linea")}incrementAmount(t){t.finalAmount++,0===t.finalAmount&&t.finalAmount++}decreaseAmount(t){t.finalAmount>0&&t.finalAmount--}close(){console.log("cerrar pedido")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.WI),e.Y36(me),e.Y36(l.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-provider-order-updating-dialog"]],decls:53,vars:13,consts:[["mat-dialog-title",""],[1,"flex-group"],["appearance","fill",1,"half-width"],["id","description","matInput","","disabled","","type","text",3,"ngModel","ngModelChange"],["id","company","matInput","","disabled","","type","text",3,"ngModel","ngModelChange"],["matInput","","disabled","","type","date",3,"ngModel","ngModelChange"],[1,"half-width"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["matInput","","disabled","","type","text",3,"ngModel","ngModelChange"],["mat-mini-fab","","color","","aria-label","add item"],[3,"dataSource"],["matColumnDef","position"],["fxFlex","10%",4,"matHeaderCellDef"],["fxFlex","10%",4,"matCellDef"],["matColumnDef","barcode"],["fxFlex","20%",4,"matHeaderCellDef"],["fxFlex","20%",4,"matCellDef"],["matColumnDef","description"],["fxFlex","30%",4,"matHeaderCellDef"],["fxFlex","30%",4,"matCellDef"],["matColumnDef","requiredAmount"],["matColumnDef","finalAmount"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["cdkFocusInitial","","mat-dialog-close","","mat-raised-button",""],["color","primary","mat-raised-button","",3,"disabled","click",4,"ngIf"],[3,"value"],["fxFlex","10%"],["fxFlex","20%"],["fxFlex","30%"],["color","accent","mat-icon-button","",3,"click"],["color","primary","mat-icon-button","",3,"click"],["color","primary","mat-raised-button","",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e.TgZ(2,"mat-dialog-content"),e.TgZ(3,"div",1),e.TgZ(4,"mat-form-field",2),e.TgZ(5,"mat-label"),e._uU(6,"Reference"),e.qZA(),e.TgZ(7,"input",3),e.NdJ("ngModelChange",function(r){return i.providerOrder.reference=r}),e.qZA(),e.qZA(),e.TgZ(8,"mat-form-field",2),e.TgZ(9,"mat-label"),e._uU(10,"Company"),e.qZA(),e.TgZ(11,"input",4),e.NdJ("ngModelChange",function(r){return i.providerOrder.company=r}),e.qZA(),e.qZA(),e.TgZ(12,"mat-form-field",2),e.TgZ(13,"mat-label"),e._uU(14,"Opening Date"),e.qZA(),e.TgZ(15,"input",5),e.NdJ("ngModelChange",function(r){return i.providerOrder.openingDate=r}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",1),e.TgZ(17,"mat-form-field",6),e.TgZ(18,"mat-label"),e._uU(19,"Barcode"),e.qZA(),e.TgZ(20,"mat-select",7),e.NdJ("ngModelChange",function(r){return i.providerOrder.company=r}),e.YNc(21,oo,2,2,"mat-option",8),e.qZA(),e.qZA(),e.TgZ(22,"mat-form-field",6),e.TgZ(23,"mat-label"),e._uU(24,"Description"),e.qZA(),e.TgZ(25,"input",9),e.NdJ("ngModelChange",function(r){return i.providerOrder.description=r}),e.qZA(),e.qZA(),e.TgZ(26,"button",10),e.TgZ(27,"mat-icon"),e._uU(28,"playlist_add"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"mat-table",11),e.ynx(30,12),e.YNc(31,ao,2,0,"mat-header-cell",13),e.YNc(32,ro,2,1,"mat-cell",14),e.BQk(),e.ynx(33,15),e.YNc(34,lo,2,0,"mat-header-cell",16),e.YNc(35,co,2,1,"mat-cell",17),e.BQk(),e.ynx(36,18),e.YNc(37,so,2,0,"mat-header-cell",19),e.YNc(38,uo,2,1,"mat-cell",20),e.BQk(),e.ynx(39,21),e.YNc(40,mo,2,0,"mat-header-cell",16),e.YNc(41,po,2,1,"mat-cell",17),e.BQk(),e.ynx(42,22),e.YNc(43,go,2,0,"mat-header-cell",16),e.YNc(44,_o,8,1,"mat-cell",17),e.BQk(),e.YNc(45,ho,1,0,"mat-header-row",23),e.YNc(46,fo,1,0,"mat-row",24),e.qZA(),e.qZA(),e.TgZ(47,"mat-dialog-actions"),e.TgZ(48,"button",25),e._uU(49,"Close"),e.qZA(),e.YNc(50,Co,2,1,"button",26),e.YNc(51,Zo,2,1,"button",26),e.YNc(52,To,2,1,"button",26),e.qZA()),2&t&&(e.xp6(1),e.Oqu(i.title),e.xp6(6),e.Q6J("ngModel",i.providerOrder.reference),e.xp6(4),e.Q6J("ngModel",i.providerOrder.company),e.xp6(4),e.Q6J("ngModel",i.providerOrder.openingDate),e.xp6(5),e.Q6J("ngModel",i.providerOrder.company),e.xp6(1),e.Q6J("ngForOf",i.providerOrder.company),e.xp6(4),e.Q6J("ngModel",i.providerOrder.description),e.xp6(4),e.Q6J("dataSource",i.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(4),e.Q6J("ngIf",i.isCreate()),e.xp6(1),e.Q6J("ngIf",!i.isCreate()),e.xp6(1),e.Q6J("ngIf",!i.isCreate()))},directives:[l.uh,l.xY,s.KE,s.hX,C.Nt,c.Fj,c.JJ,c.On,k.gD,_.sg,g.lW,Z.Hw,d.BZ,d.w1,d.fO,d.Dz,d.as,d.nj,l.H8,l.ZT,_.O5,v.ey,d.ge,O.yH,d.ev,d.XQ,d.Gk],styles:["mat-dialog-content[_ngcontent-%COMP%]{width:54rem}.full-width[_ngcontent-%COMP%]{width:100%}.half-width[_ngcontent-%COMP%]{width:16rem}.flex-group[_ngcontent-%COMP%]{display:flex}.flex-group[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%], .flex-group[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-right:2rem}.mat-cell[_ngcontent-%COMP%]{overflow:visible}.mat-table[_ngcontent-%COMP%]{overflow:auto;max-height:600px}.mat-column-[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),n})(),vo=(()=>{class n{constructor(t,i){this.dialog=t,this.providerOrderService=i,this.title="Providers orders",this.providersOrders=(0,p.of)([]),this.resetSearch()}search(){this.providersOrders=this.providerOrderService.search(this.providerOrderSearch)}resetSearch(){this.providerOrderSearch={}}create(){this.dialog.open(io).afterClosed().subscribe(()=>this.search())}read(t){this.dialog.open(M.Y,{data:{title:"Provider Order Details",object:this.providerOrderService.read(t.company)}})}update(t){this.providerOrderService.read(t.company).subscribe(i=>this.dialog.open(bo,{data:i}).afterClosed().subscribe(()=>this.search()))}delete(t){console.log(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.uw),e.Y36(me))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-providers-orders"]],decls:20,vars:4,consts:[["matInput","",3,"ngModel","ngModelChange"],["mat-icon-button","",3,"click"],[3,"title","data","create","read","update","delete"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-card"),e.TgZ(1,"mat-card-content"),e.TgZ(2,"mat-label"),e.TgZ(3,"strong"),e._uU(4,"Filters: "),e.qZA(),e.qZA(),e.TgZ(5,"mat-form-field"),e.TgZ(6,"mat-label"),e._uU(7,"Reference"),e.qZA(),e.TgZ(8,"input",0),e.NdJ("ngModelChange",function(r){return i.providerOrderSearch.reference=r}),e.qZA(),e.qZA(),e.TgZ(9,"mat-form-field"),e.TgZ(10,"mat-label"),e._uU(11,"Company"),e.qZA(),e.TgZ(12,"input",0),e.NdJ("ngModelChange",function(r){return i.providerOrderSearch.company=r}),e.qZA(),e.qZA(),e.TgZ(13,"button",1),e.NdJ("click",function(){return i.resetSearch()}),e.TgZ(14,"mat-icon"),e._uU(15,"close"),e.qZA(),e.qZA(),e.TgZ(16,"button",1),e.NdJ("click",function(){return i.search()}),e.TgZ(17,"mat-icon"),e._uU(18,"search"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"app-crud",2),e.NdJ("create",function(){return i.create()})("read",function(r){return i.read(r)})("update",function(r){return i.update(r)})("delete",function(r){return i.delete(r)}),e.qZA()),2&t&&(e.xp6(8),e.Q6J("ngModel",i.providerOrderSearch.reference),e.xp6(4),e.Q6J("ngModel",i.providerOrderSearch.company),e.xp6(7),e.Q6J("title",i.title)("data",i.providersOrders))},directives:[u.a8,u.dn,s.hX,s.KE,C.Nt,c.Fj,c.JJ,c.On,g.lW,Z.Hw,b.D],styles:["mat-label[_ngcontent-%COMP%]{margin-right:1rem}mat-label[_ngcontent-%COMP%] + mat-form-field[_ngcontent-%COMP%]{margin-right:2rem}mat-form-field[_ngcontent-%COMP%] + mat-form-field[_ngcontent-%COMP%]{margin-right:1rem}mat-form-field[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{margin-right:.5rem}"]}),n})();function qo(n,o){if(1&n&&(e.TgZ(0,"mat-list-item"),e.TgZ(1,"p"),e._uU(2),e.qZA(),e.qZA()),2&n){const t=o.$implicit;e.xp6(2),e.lnq("",t.barcode," x",t.amount," = ",t.total," \u20ac")}}let So=(()=>{class n{constructor(t){this.data=t,this.title="View Budget"}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-budget-dialog"]],decls:24,vars:7,consts:[["mat-dialog-title",""],[4,"ngFor","ngForOf"],["cdkFocusInitial","","mat-dialog-close","","mat-raised-button",""]],template:function(t,i){if(1&t&&(e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e.TgZ(2,"mat-dialog-content"),e.TgZ(3,"mat-label"),e.TgZ(4,"strong"),e._uU(5,"Reference: "),e.qZA(),e.qZA(),e.TgZ(6,"p"),e._uU(7),e.qZA(),e.qZA(),e.TgZ(8,"mat-dialog-content"),e.TgZ(9,"mat-label"),e.TgZ(10,"strong"),e._uU(11,"Creation Date: "),e.qZA(),e.qZA(),e.TgZ(12,"p"),e._uU(13),e.ALo(14,"date"),e.qZA(),e.qZA(),e.TgZ(15,"mat-dialog-content"),e.TgZ(16,"mat-label"),e.TgZ(17,"strong"),e._uU(18,"Shoppings:"),e.qZA(),e.qZA(),e.TgZ(19,"mat-list"),e.YNc(20,qo,3,3,"mat-list-item",1),e.qZA(),e.qZA(),e.TgZ(21,"mat-dialog-actions"),e.TgZ(22,"button",2),e._uU(23,"Close"),e.qZA(),e.qZA()),2&t){let a,r;e.xp6(1),e.Oqu(i.title),e.xp6(6),e.Oqu(null!==(a=i.data.reference)&&void 0!==a?a:""),e.xp6(6),e.Oqu(e.xi3(14,4,i.data.creationDate,null!==(r="short")&&void 0!==r?r:"")),e.xp6(7),e.Q6J("ngForOf",i.data.shoppings)}},directives:[l.uh,l.xY,s.hX,G.i$,_.sg,l.H8,g.lW,l.ZT,G.Tg],pipes:[_.uU],styles:[""]}),n})(),Mo=(()=>{class n{constructor(t,i){this.sharedBudgetService=t,this.matDialog=i,this.budgets=(0,p.of)([]),this.fromDate=new Date,this.untilDate=new Date,this.reference=""}ngOnInit(){this.budgets=this.sharedBudgetService.getAll()}read(t){this.matDialog.open(So,{data:t})}update(t){}delete(t){}search(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ie),e.Y36(l.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-budgets"]],decls:27,vars:9,consts:[["matInput","",3,"ngModel","ngModelChange"],["matInput","",3,"matDatepicker","dateInput"],["matSuffix","",3,"for"],["fromDatePicker",""],["untilDatePicker",""],["mat-icon-button","",3,"click"],["title","Budgets",3,"data","createAction","updateAction","deleteAction","read"]],template:function(t,i){if(1&t&&(e.TgZ(0,"mat-card"),e.TgZ(1,"mat-card-content"),e.TgZ(2,"mat-label"),e.TgZ(3,"strong"),e._uU(4,"Filters: "),e.qZA(),e.qZA(),e.TgZ(5,"mat-form-field"),e.TgZ(6,"mat-label"),e._uU(7,"Reference "),e.qZA(),e.TgZ(8,"input",0),e.NdJ("ngModelChange",function(r){return i.reference=r}),e.qZA(),e.qZA(),e.TgZ(9,"mat-form-field"),e.TgZ(10,"mat-label"),e._uU(11,"From "),e.qZA(),e.TgZ(12,"input",1),e.NdJ("dateInput",function(r){return i.fromDate=r.value}),e.qZA(),e._UZ(13,"mat-datepicker-toggle",2),e._UZ(14,"mat-datepicker",null,3),e.qZA(),e.TgZ(16,"mat-form-field"),e.TgZ(17,"mat-label"),e._uU(18,"Until"),e.qZA(),e.TgZ(19,"input",1),e.NdJ("dateInput",function(r){return i.untilDate=r.value}),e.qZA(),e._UZ(20,"mat-datepicker-toggle",2),e._UZ(21,"mat-datepicker",null,4),e.qZA(),e.TgZ(23,"button",5),e.NdJ("click",function(){return i.search()}),e.TgZ(24,"mat-icon"),e._uU(25,"search"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"app-crud",6),e.NdJ("read",function(r){return i.read(r)}),e.qZA()),2&t){const a=e.MAs(15),r=e.MAs(22);e.xp6(8),e.Q6J("ngModel",i.reference),e.xp6(4),e.Q6J("matDatepicker",a),e.xp6(1),e.Q6J("for",a),e.xp6(6),e.Q6J("matDatepicker",r),e.xp6(1),e.Q6J("for",r),e.xp6(6),e.Q6J("data",i.budgets)("createAction",!1)("updateAction",!1)("deleteAction",!1)}},directives:[u.a8,u.dn,s.hX,s.KE,C.Nt,c.Fj,c.JJ,c.On,x.hl,x.nW,s.R9,x.Mq,g.lW,Z.Hw,b.D],styles:[""]}),n})();class ko{}let pe=(()=>{class n{createIssue(){return(0,p.of)(["Creado"])}searchIssues(){return(0,p.of)(["Search issues OK"])}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yo(n,o){if(1&n&&(e.TgZ(0,"div",10),e.TgZ(1,"span"),e._uU(2),e.qZA(),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.searcAllmessage)}}let Uo=(()=>{class n{constructor(t,i,a){this.data=t,this.gitHubIssueService=i,this.dialog=a,this.searcAllmessage="",this.isIssues=!1,this.creado=!1,this.title="GitHub Issues",this.searchIssues()}ngOnInit(){}cancelar(){this.dialog.closeAll()}searchIssues(){this.isIssues=!0,this.searcAllmessage="List issues",this.gitHubIssueService.searchIssues().subscribe(t=>{this.isIssues=!0,this.searcAllmessage="Listado de issues"},t=>{this.creado=!0,this.searcAllmessage="error al buscar los issues"})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.WI),e.Y36(pe),e.Y36(l.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:42,vars:2,consts:[["mat-dialog-title",""],[1,"full-width"],["class","alert alert-danger text-lg-center",4,"ngIf"],["id","title","matInput","","required","","type","text"],["id","body","matInput","","required","","type","text"],["id","label","matInput","","required","","type","text"],["id","asignado","matInput","","required","","type","text"],["id","estado","matInput","","required","","type","text"],["id","datec","matInput","","required","","type","text"],["cdkFocusInitial","","mat-dialog-close","","mat-raised-button",""],[1,"alert","alert-danger","text-lg-center"]],template:function(t,i){1&t&&(e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e.TgZ(2,"mat-dialog-content"),e.TgZ(3,"mat-form-field",1),e.TgZ(4,"mat-label"),e._uU(5,"GitHubIssue"),e.qZA(),e.qZA(),e.YNc(6,yo,3,1,"div",2),e.TgZ(7,"mat-card"),e.TgZ(8,"mat-card-content"),e.TgZ(9,"mat-form-field",1),e.TgZ(10,"mat-label"),e._uU(11,"Title"),e.qZA(),e._UZ(12,"input",3),e._uU(13," issue#1 "),e.qZA(),e.TgZ(14,"mat-form-field",1),e.TgZ(15,"mat-label"),e._uU(16,"Body"),e.qZA(),e._UZ(17,"input",4),e._uU(18,"issue bug "),e.qZA(),e.TgZ(19,"mat-form-field",1),e.TgZ(20,"mat-label"),e._uU(21,"Label"),e.qZA(),e._UZ(22,"input",5),e._uU(23,"Bug "),e.qZA(),e.TgZ(24,"mat-form-field",1),e.TgZ(25,"mat-label"),e._uU(26,"Asignado"),e.qZA(),e._UZ(27,"input",6),e._uU(28,"asignado "),e.qZA(),e.TgZ(29,"mat-form-field",1),e.TgZ(30,"mat-label"),e._uU(31,"Estado"),e.qZA(),e._UZ(32,"input",7),e._uU(33,"Estado "),e.qZA(),e.TgZ(34,"mat-form-field",1),e.TgZ(35,"mat-label"),e._uU(36,"Fecha creaci\xf3n"),e.qZA(),e._UZ(37,"input",8),e._uU(38,"Fecha "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(39,"mat-dialog-actions"),e.TgZ(40,"button",9),e._uU(41,"Close"),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Oqu(i.title),e.xp6(5),e.Q6J("ngIf",i.isIssues))},directives:[l.uh,l.xY,s.KE,s.hX,_.O5,u.a8,u.dn,C.Nt,l.H8,g.lW,l.ZT],styles:["mat-dialog-content[_ngcontent-%COMP%]{width:250px}.full-width[_ngcontent-%COMP%]{width:100%}"]}),n})();function Do(n,o){if(1&n&&(e.TgZ(0,"div",4),e.TgZ(1,"span"),e._uU(2),e.qZA(),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.createMessage)}}let xo=(()=>{class n{constructor(t,i,a){this.data=t,this.githubPublicationService=i,this.dialog=a,this.createMessage="",this.isCreate=!1,this.title="Create GitHub Issues",this.createIssue()}ngOnInit(){}cancelar(){this.dialog.closeAll()}createIssue(){this.isCreate=!0,this.createMessage="Issue created",this.githubPublicationService.createIssue().subscribe(t=>{this.isCreate=!0,this.createMessage="enviado"},t=>{this.createMessage="error al crear el issue"})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.WI),e.Y36(pe),e.Y36(l.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:10,vars:2,consts:[["mat-dialog-title",""],[1,"full-width"],["class","alert alert-danger text-lg-center",4,"ngIf"],["cdkFocusInitial","","mat-dialog-close","","mat-raised-button",""],[1,"alert","alert-danger","text-lg-center"]],template:function(t,i){1&t&&(e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e.TgZ(2,"mat-dialog-content"),e.TgZ(3,"mat-form-field",1),e.TgZ(4,"mat-label"),e._uU(5,"GitHubIssue"),e.qZA(),e.qZA(),e.YNc(6,Do,3,1,"div",2),e.qZA(),e.TgZ(7,"mat-dialog-actions"),e.TgZ(8,"button",3),e._uU(9,"Close"),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Oqu(i.title),e.xp6(5),e.Q6J("ngIf",i.isCreate))},directives:[l.uh,l.xY,s.KE,s.hX,_.O5,l.H8,g.lW,l.ZT],styles:["mat-dialog-content[_ngcontent-%COMP%]{width:250px}.full-width[_ngcontent-%COMP%]{width:100%}"]}),n})();function Oo(n,o){if(1&n&&(e.TgZ(0,"mat-option",8),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.valor),e.xp6(1),e.hij(" ",t.muestraValor," ")}}function Jo(n,o){if(1&n&&(e.TgZ(0,"mat-option",8),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.valor),e.xp6(1),e.hij(" ",t.muestraValor," ")}}let wo=(()=>{class n{constructor(t,i){this.dialog=t,this.githubPublicationService=i,this.operaciones=[{valor:"bug",muestraValor:"Bug"},{valor:"enhancement",muestraValor:"Enhancement"}],this.seleccionada=this.operaciones[0].valor,this.githubPublicationModel=new ko}ngOnInit(){}createIssue(){this.dialog.open(xo)}getIssues(){this.dialog.open(Uo)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.uw),e.Y36(pe))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-github-issues"]],decls:31,vars:6,consts:[["mat-dialog-title",""],["placeholder","Label","name","label",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["mat-icon-button","",3,"click"],[1,"full-width"],["id","title","matInput","","required","","type","text",3,"ngModel","ngModelChange"],["id","body","matInput","","required","","type","text",3,"ngModel","ngModelChange"],["color","primary","mat-raised-button","",3,"click"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-card"),e.TgZ(1,"mat-card-content"),e.TgZ(2,"h2",0),e._uU(3,"Find github-issues"),e.qZA(),e.TgZ(4,"mat-form-field"),e.TgZ(5,"mat-select",1),e.NdJ("ngModelChange",function(r){return i.seleccionada=r}),e.YNc(6,Oo,2,2,"mat-option",2),e.qZA(),e.qZA(),e.TgZ(7,"button",3),e.NdJ("click",function(){return i.getIssues()}),e.TgZ(8,"mat-icon"),e._uU(9,"search"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"mat-card"),e.TgZ(11,"mat-card-content"),e.TgZ(12,"h2",0),e._uU(13,"Publish github-issues"),e.qZA(),e.TgZ(14,"div"),e.TgZ(15,"mat-form-field",4),e.TgZ(16,"mat-label"),e._uU(17,"Title"),e.qZA(),e.TgZ(18,"input",5),e.NdJ("ngModelChange",function(r){return i.githubPublicationModel.title=r}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div"),e.TgZ(20,"mat-form-field",4),e.TgZ(21,"mat-label"),e._uU(22,"Body"),e.qZA(),e.TgZ(23,"input",6),e.NdJ("ngModelChange",function(r){return i.githubPublicationModel.body=r}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"div"),e.TgZ(25,"mat-form-field"),e.TgZ(26,"mat-select",1),e.NdJ("ngModelChange",function(r){return i.seleccionada=r}),e.YNc(27,Jo,2,2,"mat-option",2),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"div"),e.TgZ(29,"button",7),e.NdJ("click",function(){return i.createIssue()}),e._uU(30,"Create"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(5),e.Q6J("ngModel",i.seleccionada),e.xp6(1),e.Q6J("ngForOf",i.operaciones),e.xp6(12),e.Q6J("ngModel",i.githubPublicationModel.title),e.xp6(5),e.Q6J("ngModel",i.githubPublicationModel.body),e.xp6(3),e.Q6J("ngModel",i.seleccionada),e.xp6(1),e.Q6J("ngForOf",i.operaciones))},directives:[u.a8,u.dn,l.uh,s.KE,k.gD,c.JJ,c.On,_.sg,g.lW,Z.Hw,s.hX,C.Nt,c.Fj,c.Q7,v.ey],styles:[""]}),n})();class Io{}var Qe=h(2118),ge=h(1778);function No(n,o){if(1&n&&(e.TgZ(0,"h3",8),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.request.request)}}function Fo(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"input",11),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw(2).request.request=a}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("ngModel",t.request.request)}}function Po(n,o){if(1&n&&(e.TgZ(0,"mat-form-field",9),e.TgZ(1,"mat-label"),e._uU(2,"Text request"),e.qZA(),e.YNc(3,Fo,1,1,"input",10),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",t.isCreate())}}function Qo(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"input",13),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw(2).newAnswer=a}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("ngModel",t.newAnswer)}}function Yo(n,o){if(1&n&&(e.TgZ(0,"div"),e.TgZ(1,"mat-form-field",9),e.TgZ(2,"mat-label"),e._uU(3,"New answer"),e.qZA(),e.YNc(4,Qo,1,1,"input",12),e.qZA(),e.qZA()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",!t.isCreate())}}function Eo(n,o){if(1&n&&(e.TgZ(0,"div",16),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.gL8(" [",t.dateSent.toLocaleString().split(",")[2],"/",2==(null==t.dateSent.toLocaleString().split(",")[1]?null:t.dateSent.toLocaleString().split(",")[1].length)?t.dateSent.toLocaleString().split(",")[1]:"0"+t.dateSent.toLocaleString().split(",")[1],"/",t.dateSent.toLocaleString().split(",")[0],"] [",t.dateSent.toLocaleString().split(",")[3],":",2==(null==t.dateSent.toLocaleString().split(",")[4]?null:t.dateSent.toLocaleString().split(",")[4].length)?t.dateSent.toLocaleString().split(",")[4]:"0"+t.dateSent.toLocaleString().split(",")[4],"] : ",t.answer," ")}}function Ro(n,o){if(1&n&&(e.TgZ(0,"cdk-virtual-scroll-viewport",14),e.YNc(1,Eo,2,6,"div",15),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("cdkVirtualForOf",t.request.answers)}}function Lo(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){return e.CHM(t),e.oxw().update()}),e._uU(1,"Update "),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.request.resolved||!(t.newAnswer.length>0))}}function Ho(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){return e.CHM(t),e.oxw().resolve()}),e._uU(1,"Resolve "),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.request.resolved)}}let Ye=(()=>{class n{constructor(t,i,a){this.technicalSupportService=i,this.dialog=a,this.title="Request",this.request=t||{identifier:void 0,request:void 0,answers:void 0,resolved:void 0},this.oldIdentifier=t?t.identifier:void 0,this.newAnswer=""}update(){if(this.newAnswer.length>0){this.request.resolved=!1;let t=new Io;t.answer=this.newAnswer,t.dateSent=new Date;let i=[];i=this.request.answers?this.request.answers:[],i.push(t),this.request.answers=i,this.technicalSupportService.update(this.oldIdentifier,this.request).subscribe(()=>this.dialog.closeAll())}}resolve(){this.request.resolved=!0,this.technicalSupportService.update(this.oldIdentifier,this.request).subscribe(()=>this.dialog.closeAll())}isCreate(){return void 0===this.oldIdentifier}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.WI),e.Y36(Qe.K),e.Y36(l.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-technical-support-employee-updating-dialog"]],decls:12,vars:7,consts:[["mat-dialog-title",""],["mat-dialog-title","","id","request-header",4,"ngIf"],["class","full-width",4,"ngIf"],[4,"ngIf"],["class","viewport","itemSize","10",4,"ngIf"],["cdkFocusInitial","","mat-dialog-close","","mat-raised-button",""],["color","primary","mat-raised-button","",3,"disabled","click",4,"ngIf"],["color","success","mat-raised-button","",3,"disabled","click",4,"ngIf"],["mat-dialog-title","","id","request-header"],[1,"full-width"],["id","company","matInput","","required","","type","text",3,"ngModel","ngModelChange",4,"ngIf"],["id","company","matInput","","required","","type","text",3,"ngModel","ngModelChange"],["matInput","","required","","type","text",3,"ngModel","ngModelChange",4,"ngIf"],["matInput","","required","","type","text",3,"ngModel","ngModelChange"],["itemSize","10",1,"viewport"],["class","item",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"item"],["color","primary","mat-raised-button","",3,"disabled","click"],["color","success","mat-raised-button","",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e.YNc(2,No,2,1,"h3",1),e.TgZ(3,"mat-dialog-content"),e.YNc(4,Po,4,1,"mat-form-field",2),e.YNc(5,Yo,5,1,"div",3),e.qZA(),e.YNc(6,Ro,2,1,"cdk-virtual-scroll-viewport",4),e.TgZ(7,"mat-dialog-actions"),e.TgZ(8,"button",5),e._uU(9,"Close"),e.qZA(),e.YNc(10,Lo,2,1,"button",6),e.YNc(11,Ho,2,1,"button",7),e.qZA()),2&t&&(e.xp6(1),e.Oqu(i.title),e.xp6(1),e.Q6J("ngIf",!i.isCreate()),e.xp6(2),e.Q6J("ngIf",i.isCreate()),e.xp6(1),e.Q6J("ngIf",!i.request.resolved),e.xp6(1),e.Q6J("ngIf",i.request.answers),e.xp6(4),e.Q6J("ngIf",!i.isCreate()),e.xp6(1),e.Q6J("ngIf",!i.isCreate()))},directives:[l.uh,_.O5,l.xY,l.H8,g.lW,l.ZT,s.KE,s.hX,C.Nt,c.Fj,c.Q7,c.JJ,c.On,ge.N7,ge.xd,ge.x0],styles:["#request-header[_ngcontent-%COMP%]{color:#daa520}.mat-success[_ngcontent-%COMP%]{background-color:green;color:#fff}.viewport[_ngcontent-%COMP%]{height:400px;width:auto}.item[_ngcontent-%COMP%]{height:auto;max-width:300px}h3[_ngcontent-%COMP%]{width:400px}"]}),n})();function Bo(n,o){1&n&&e._UZ(0,"mat-header-row")}function jo(n,o){1&n&&e._UZ(0,"mat-row")}function Vo(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Identifier "),e.qZA())}function zo(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.identifier," ")}}function Xo(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Request "),e.qZA())}function Wo(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.request," ")}}function Go(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Resolved "),e.qZA())}function $o(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.resolved," ")}}function Ko(n,o){1&n&&e._UZ(0,"mat-header-cell")}function ea(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell"),e.TgZ(1,"button",12),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().update(r)}),e.TgZ(2,"mat-icon",13),e._uU(3,"mode_edit"),e.qZA(),e.qZA(),e.qZA()}}let ta=(()=>{class n{constructor(t,i){this.dialog=t,this.technicalSupportService=i,this.requests=(0,p.of)([]),this.title="Technical support management",this.columnsHeader=["identifier","request","resolved","actions"],this.resetSearch()}search(){this.requests=this.technicalSupportService.search(this.technicalSupportSearch)}resetSearch(){this.technicalSupportSearch={}}create(){this.dialog.open(Ye)}read(t){this.dialog.open(M.Y,{data:{title:"Technical Request details",object:this.technicalSupportService.read(t.identifier)}})}update(t){this.technicalSupportService.read(t.identifier).subscribe(i=>this.dialog.open(Ye,{data:i}))}ngOnInit(){this.requests=this.technicalSupportService.search(this.technicalSupportSearch)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.uw),e.Y36(Qe.K))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-technical-support-employee"]],decls:35,vars:5,consts:[["matInput","",3,"ngModel","ngModelChange"],["mat-icon-button","",3,"click"],["matSort","",1,"mat-elevation-z8",3,"dataSource"],["table",""],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["matColumnDef","identifier"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","request"],["matColumnDef","resolved"],["matColumnDef","actions"],["mat-button","","mat-icon-button","","matSuffix","",3,"click"],["color","warn"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-card"),e.TgZ(1,"mat-card-content"),e.TgZ(2,"mat-label"),e.TgZ(3,"strong"),e._uU(4,"Filters: "),e.qZA(),e.qZA(),e.TgZ(5,"mat-form-field"),e.TgZ(6,"mat-label"),e._uU(7,"Request Text"),e.qZA(),e.TgZ(8,"input",0),e.NdJ("ngModelChange",function(r){return i.technicalSupportSearch.request=r}),e.qZA(),e.qZA(),e.TgZ(9,"button",1),e.NdJ("click",function(){return i.search()}),e.TgZ(10,"mat-icon"),e._uU(11,"search"),e.qZA(),e.qZA(),e.TgZ(12,"button",1),e.NdJ("click",function(){return i.resetSearch()}),e.TgZ(13,"mat-icon"),e._uU(14,"close"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"mat-card"),e.TgZ(16,"mat-card-title"),e._uU(17),e.qZA(),e.TgZ(18,"mat-card-content"),e.TgZ(19,"mat-table",2,3),e.YNc(21,Bo,1,0,"mat-header-row",4),e.YNc(22,jo,1,0,"mat-row",5),e.ynx(23,6),e.YNc(24,Vo,2,0,"mat-header-cell",7),e.YNc(25,zo,2,1,"mat-cell",8),e.BQk(),e.ynx(26,9),e.YNc(27,Xo,2,0,"mat-header-cell",7),e.YNc(28,Wo,2,1,"mat-cell",8),e.BQk(),e.ynx(29,10),e.YNc(30,Go,2,0,"mat-header-cell",7),e.YNc(31,$o,2,1,"mat-cell",8),e.BQk(),e.ynx(32,11),e.YNc(33,Ko,1,0,"mat-header-cell",7),e.YNc(34,ea,4,0,"mat-cell",8),e.BQk(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(8),e.Q6J("ngModel",i.technicalSupportSearch.request),e.xp6(9),e.Oqu(i.title),e.xp6(2),e.Q6J("dataSource",i.requests),e.xp6(2),e.Q6J("matHeaderRowDef",i.columnsHeader),e.xp6(1),e.Q6J("matRowDefColumns",i.columnsHeader))},directives:[u.a8,u.dn,s.hX,s.KE,C.Nt,c.Fj,c.JJ,c.On,g.lW,Z.Hw,u.n5,d.BZ,ue.YE,d.as,d.nj,d.w1,d.fO,d.Dz,d.XQ,d.Gk,d.ge,d.ev,s.R9],styles:["mat-table[_ngcontent-%COMP%]{width:100%}"]}),n})(),na=(()=>{class n{constructor(t){this.articleService=t}update(t,i){}create(t){}search(t){return this.articleService.read(t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(N))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ia(n,o){if(1&n&&(e.TgZ(0,"mat-card",9),e.TgZ(1,"mat-card-title"),e._uU(2,"Article Found"),e.qZA(),e.TgZ(3,"mat-label"),e._uU(4),e.qZA(),e.TgZ(5,"mat-label"),e._uU(6),e.qZA(),e.TgZ(7,"mat-label"),e._uU(8),e.qZA(),e.qZA()),2&n){const t=e.oxw();e.xp6(4),e.hij("Barcode: ",null==t.article?null:t.article.barcode,""),e.xp6(2),e.hij("Description: ",null==t.article?null:t.article.description,""),e.xp6(2),e.hij("Stock: ",null==t.article?null:t.article.stock,"")}}let oa=(()=>{class n{constructor(t,i){this.stockAlarmLineService=t,this.dialog=i,this.barcode="",this.stockAlarmLine={article:void 0}}create(){this.stockAlarmLineService.create(this.stockAlarmLine).subscribe(()=>this.dialog.closeAll())}update(){this.stockAlarmLineService.update(this.oldBarcode,this.stockAlarmLine).subscribe(()=>this.dialog.closeAll())}search(){this.stockAlarmLineService.search(this.barcode).subscribe(t=>this.article=t)}invalid(){var t;return this.check(null===(t=this.article)||void 0===t?void 0:t.barcode)}check(t){return void 0===t||""===t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(na),e.Y36(l.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-stock-alarm-line-creation-updating-dialog"]],decls:28,vars:6,consts:[["mat-dialog-title",""],[1,"quarter-width","threshold-margin"],["matInput","","min","0","type","number",3,"ngModel","ngModelChange"],[1,"full-width"],["matInput","","required","",3,"ngModel","ngModelChange"],["mat-icon-button","",3,"click"],["class","container",4,"ngIf"],["cdkFocusInitial","","mat-dialog-close","","mat-raised-button",""],["color","primary","mat-raised-button","",3,"disabled","click"],[1,"container"]],template:function(t,i){1&t&&(e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e.TgZ(2,"mat-dialog-content"),e.TgZ(3,"mat-form-field",1),e.TgZ(4,"mat-label"),e._uU(5,"Warning"),e.qZA(),e.TgZ(6,"input",2),e.NdJ("ngModelChange",function(r){return i.stockAlarmLine.warning=r}),e.qZA(),e.qZA(),e.TgZ(7,"mat-form-field",1),e.TgZ(8,"mat-label"),e._uU(9,"Critical"),e.qZA(),e.TgZ(10,"input",2),e.NdJ("ngModelChange",function(r){return i.stockAlarmLine.critical=r}),e.qZA(),e.qZA(),e.TgZ(11,"div",3),e.TgZ(12,"mat-label"),e.TgZ(13,"strong"),e._uU(14,"Filters: "),e.qZA(),e.qZA(),e.TgZ(15,"mat-form-field"),e.TgZ(16,"mat-label"),e._uU(17,"Barcode"),e.qZA(),e.TgZ(18,"input",4),e.NdJ("ngModelChange",function(r){return i.barcode=r}),e.qZA(),e.qZA(),e.TgZ(19,"button",5),e.NdJ("click",function(){return i.search()}),e.TgZ(20,"mat-icon"),e._uU(21,"search"),e.qZA(),e.qZA(),e.qZA(),e.YNc(22,ia,9,3,"mat-card",6),e.qZA(),e.TgZ(23,"mat-dialog-actions"),e.TgZ(24,"button",7),e._uU(25,"Close"),e.qZA(),e.TgZ(26,"button",8),e.NdJ("click",function(){return i.create()}),e._uU(27,"Create"),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Oqu(i.title),e.xp6(5),e.Q6J("ngModel",i.stockAlarmLine.warning),e.xp6(4),e.Q6J("ngModel",i.stockAlarmLine.critical),e.xp6(8),e.Q6J("ngModel",i.barcode),e.xp6(4),e.Q6J("ngIf",!i.invalid()),e.xp6(4),e.Q6J("disabled",i.invalid()))},directives:[l.uh,l.xY,s.KE,s.hX,C.Nt,c.qQ,c.wV,c.Fj,c.JJ,c.On,c.Q7,g.lW,Z.Hw,_.O5,l.H8,l.ZT,u.a8,u.n5],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.threshold-margin[_ngcontent-%COMP%]{margin:0 10px}.quarter-width[_ngcontent-%COMP%]{width:40%}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:10px}"]}),n})(),Ee=(()=>{class n{constructor(t){this.httpService=t,this.articles=[{barcode:"00000",description:"Desc1",retailPrice:1,providerCompany:"company",stock:2},{barcode:"00002",description:"Desc2",retailPrice:2,providerCompany:"company2",stock:2},{barcode:"00002",description:"Desc2",retailPrice:2,providerCompany:"company2",stock:10}],this.stockAlarmArray=[{name:"Alarm1",description:"desc1",warning:3,critical:1},{name:"Alarm2",description:"desc2",warning:3,critical:1}]}read(t){return(0,p.of)({name:"Alarm1",description:"desc1",warning:3,critical:1})}search(t){return(0,p.of)(this.stockAlarmArray)}create(t){}update(t,i){}getArticles(){return(0,p.of)(this.articles)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(T.O))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function aa(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",8),e.NdJ("click",function(){return e.CHM(t),e.oxw().create()}),e._uU(1,"Create "),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.invalid())}}function ra(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",8),e.NdJ("click",function(){return e.CHM(t),e.oxw().update()}),e._uU(1,"Update "),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.invalid())}}let Re=(()=>{class n{constructor(t,i,a){this.stockAlarmService=i,this.dialog=a,this.titleLine="Stock Alarm Line",this.stockAlarmLines=(0,p.of)([]),this.title=t?"Update Stock Alarm":"Create Stock Alarm",this.stockAlarm=t||{name:void 0,description:void 0,warning:void 0,critical:void 0,stockAlarmLines:void 0}}create(){this.dialog.open(oa)}update(){this.stockAlarmService.update(this.oldName,this.stockAlarm).subscribe(()=>this.dialog.closeAll())}isCreate(){return void 0===this.oldName}invalid(){return this.check(this.stockAlarm.name)||this.check(this.stockAlarm.description)}check(t){return void 0===t||""===t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.WI),e.Y36(Ee),e.Y36(l.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-stock-alarm-creation-updating-dialog"]],decls:25,vars:10,consts:[["mat-dialog-title",""],[1,"full-width"],["matInput","","required","","type","text",3,"ngModel","ngModelChange"],[1,"quarter-width","threshold-margin"],["matInput","","min","0","required","","type","number",3,"ngModel","ngModelChange"],[3,"data","deleteAction","title","create","read","update"],["cdkFocusInitial","","mat-dialog-close","","mat-raised-button",""],["color","primary","mat-raised-button","",3,"disabled","click",4,"ngIf"],["color","primary","mat-raised-button","",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e.TgZ(2,"mat-dialog-content"),e.TgZ(3,"mat-form-field",1),e.TgZ(4,"mat-label"),e._uU(5,"Name"),e.qZA(),e.TgZ(6,"input",2),e.NdJ("ngModelChange",function(r){return i.stockAlarm.name=r}),e.qZA(),e.qZA(),e.TgZ(7,"mat-form-field",1),e.TgZ(8,"mat-label"),e._uU(9,"Description"),e.qZA(),e.TgZ(10,"input",2),e.NdJ("ngModelChange",function(r){return i.stockAlarm.description=r}),e.qZA(),e.qZA(),e.TgZ(11,"mat-form-field",3),e.TgZ(12,"mat-label"),e._uU(13,"Default Warning"),e.qZA(),e.TgZ(14,"input",4),e.NdJ("ngModelChange",function(r){return i.stockAlarm.warning=r}),e.qZA(),e.qZA(),e.TgZ(15,"mat-form-field",3),e.TgZ(16,"mat-label"),e._uU(17,"Default Critical"),e.qZA(),e.TgZ(18,"input",4),e.NdJ("ngModelChange",function(r){return i.stockAlarm.critical=r}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"app-crud",5),e.NdJ("create",function(){return i.create()})("read",function(){return!1})("update",function(){return!1}),e.qZA(),e.TgZ(20,"mat-dialog-actions"),e.TgZ(21,"button",6),e._uU(22,"Close"),e.qZA(),e.YNc(23,aa,2,1,"button",7),e.YNc(24,ra,2,1,"button",7),e.qZA()),2&t&&(e.xp6(1),e.Oqu(i.title),e.xp6(5),e.Q6J("ngModel",i.stockAlarm.name),e.xp6(4),e.Q6J("ngModel",i.stockAlarm.description),e.xp6(4),e.Q6J("ngModel",i.stockAlarm.warning),e.xp6(4),e.Q6J("ngModel",i.stockAlarm.critical),e.xp6(1),e.Q6J("data",i.stockAlarmLines)("deleteAction",!1)("title",i.titleLine),e.xp6(4),e.Q6J("ngIf",i.isCreate()),e.xp6(1),e.Q6J("ngIf",!i.isCreate()))},directives:[l.uh,l.xY,s.KE,s.hX,C.Nt,c.Fj,c.Q7,c.JJ,c.On,c.qQ,c.wV,b.D,l.H8,g.lW,l.ZT,_.O5],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.threshold-margin[_ngcontent-%COMP%]{margin:0 10px}.quarter-width[_ngcontent-%COMP%]{width:25%}"]}),n})(),la=(()=>{class n{constructor(t,i){this.dialog=t,this.stockAlarmService=i,this.title="Stock Alarms",this.stockAlarms=(0,p.of)([]),this.resetSearch()}search(){this.stockAlarms=this.stockAlarmService.search(this.stockAlarmSearch)}resetSearch(){this.stockAlarmSearch={}}read(t){this.dialog.open(M.Y,{data:{title:"Stock Alarm Details",object:this.stockAlarmService.read(t.name)}})}create(){this.dialog.open(Re)}update(t){this.stockAlarmService.read(t.name).subscribe(i=>this.dialog.open(Re,{data:i}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.uw),e.Y36(Ee))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-stock-alarm"]],decls:20,vars:5,consts:[["matInput","",3,"ngModel","ngModelChange"],["mat-icon-button","",3,"click"],[3,"data","deleteAction","title","create","read","update"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-card"),e.TgZ(1,"mat-card-content"),e.TgZ(2,"mat-label"),e.TgZ(3,"strong"),e._uU(4,"Filters: "),e.qZA(),e.qZA(),e.TgZ(5,"mat-form-field"),e.TgZ(6,"mat-label"),e._uU(7,"Name"),e.qZA(),e.TgZ(8,"input",0),e.NdJ("ngModelChange",function(r){return i.stockAlarmSearch.name=r}),e.qZA(),e.qZA(),e.TgZ(9,"mat-form-field"),e.TgZ(10,"mat-label"),e._uU(11,"Description"),e.qZA(),e.TgZ(12,"input",0),e.NdJ("ngModelChange",function(r){return i.stockAlarmSearch.description=r}),e.qZA(),e.qZA(),e.TgZ(13,"button",1),e.NdJ("click",function(){return i.search()}),e.TgZ(14,"mat-icon"),e._uU(15,"search"),e.qZA(),e.qZA(),e.TgZ(16,"button",1),e.NdJ("click",function(){return i.resetSearch()}),e.TgZ(17,"mat-icon"),e._uU(18,"close"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"app-crud",2),e.NdJ("create",function(){return i.create()})("read",function(r){return i.read(r)})("update",function(r){return i.update(r)}),e.qZA()),2&t&&(e.xp6(8),e.Q6J("ngModel",i.stockAlarmSearch.name),e.xp6(4),e.Q6J("ngModel",i.stockAlarmSearch.description),e.xp6(7),e.Q6J("data",i.stockAlarms)("deleteAction",!1)("title",i.title))},directives:[u.a8,u.dn,s.hX,s.KE,C.Nt,c.Fj,c.JJ,c.On,g.lW,Z.Hw,b.D],styles:[".example-margin[_ngcontent-%COMP%]{margin:0 10px}"]}),n})(),ca=(()=>{class n{constructor(t){this.sharedUserService=t,this.mobiles=(0,p.of)([]),this.mobileChange=new e.vpe}onSelect(){this.mobileChange.emit(this.mobile)}searchByMobile(){this.mobiles=this.sharedUserService.searchMobiles(this.mobile)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-search-by-mobile"]],inputs:{mobile:"mobile",title:"title"},outputs:{mobileChange:"mobileChange"},decls:1,vars:4,consts:[["obligatory","true",3,"key","keys","title","renew","selected","keyChange"]],template:function(t,i){1&t&&(e.TgZ(0,"app-search",0),e.NdJ("renew",function(){return i.searchByMobile()})("selected",function(){return i.onSelect()})("keyChange",function(r){return i.mobile=r}),e.qZA()),2&t&&e.Q6J("key",i.title)("key",i.mobile)("keys",i.mobiles)("title",i.title)},directives:[Q],encapsulation:2}),n})(),sa=(()=>{class n{constructor(t,i,a,r){this.messengersService=i,this.authService=a,this.dialog=r,this.messenger={id:void 0,fromUser:void 0,toUser:void 0,subject:void 0,text:void 0,read:!1}}ngOnInit(){this.messenger.fromUser=this.authService.getMobile().toString()}invalid(){return this.check(this.messenger.fromUser)||this.check(this.messenger.toUser)||this.check(this.messenger.subject)||this.check(this.messenger.text)}check(t){return void 0===t||""===t}create(){this.messengersService.create(this.messenger).subscribe(()=>this.dialog.closeAll())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.WI),e.Y36(re),e.Y36(ae.e),e.Y36(l.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-messengers-creation-dialog"]],decls:22,vars:7,consts:[["mat-dialog-title",""],[1,"full-width"],["matInput","","required","","type","text",3,"ngModel","disabled","ngModelChange"],["title","To: ",3,"mobile","mobileChange"],["matInput","","required","","type","text",3,"ngModel","ngModelChange"],["matInput","","cdkTextareaAutosize","","required","",3,"ngModel","ngModelChange"],["autosize","cdkTextareaAutosize"],["cdkFocusInitial","","mat-dialog-close","","mat-raised-button",""],["color","primary","mat-raised-button","",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e.TgZ(2,"mat-dialog-content"),e.TgZ(3,"mat-form-field",1),e.TgZ(4,"mat-label"),e._uU(5,"From: "),e.qZA(),e.TgZ(6,"input",2),e.NdJ("ngModelChange",function(r){return i.messenger.fromUser=r}),e.qZA(),e.qZA(),e.TgZ(7,"app-search-by-mobile",3),e.NdJ("mobileChange",function(r){return i.messenger.toUser=r}),e.qZA(),e.TgZ(8,"mat-form-field",1),e.TgZ(9,"mat-label"),e._uU(10,"Subject:"),e.qZA(),e.TgZ(11,"input",4),e.NdJ("ngModelChange",function(r){return i.messenger.subject=r}),e.qZA(),e.qZA(),e.TgZ(12,"mat-form-field",1),e.TgZ(13,"mat-label"),e._uU(14,"Text:"),e.qZA(),e.TgZ(15,"textarea",5,6),e.NdJ("ngModelChange",function(r){return i.messenger.text=r}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"mat-dialog-actions"),e.TgZ(18,"button",7),e._uU(19,"Close"),e.qZA(),e.TgZ(20,"button",8),e.NdJ("click",function(){return i.create()}),e._uU(21,"Create "),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Oqu(i.title),e.xp6(5),e.Q6J("ngModel",i.messenger.fromUser)("disabled",!0),e.xp6(1),e.Q6J("mobile",i.messenger.toUser),e.xp6(4),e.Q6J("ngModel",i.messenger.subject),e.xp6(4),e.Q6J("ngModel",i.messenger.text),e.xp6(5),e.Q6J("disabled",i.invalid()))},directives:[l.uh,l.xY,s.KE,s.hX,C.Nt,c.Fj,c.Q7,c.JJ,c.On,ca,Ne.IC,l.H8,g.lW,l.ZT],styles:["mat-dialog-content[_ngcontent-%COMP%]{width:250px}.full-width[_ngcontent-%COMP%]{width:100%}"]}),n})();function da(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," - EMPTY!"),e.qZA())}function ua(n,o){1&n&&e._UZ(0,"mat-header-row")}function ma(n,o){1&n&&e._UZ(0,"mat-row")}function pa(n,o){if(1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"uppercaseWords"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,t))}}function ga(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=o.$implicit,i=e.oxw().$implicit;e.xp6(1),e.Oqu(t[i])}}function _a(n,o){1&n&&(e.ynx(0,9),e.YNc(1,pa,3,3,"mat-header-cell",7),e.YNc(2,ga,2,1,"mat-cell",8),e.BQk()),2&n&&e.Q6J("matColumnDef",o.$implicit)}function ha(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).onCreate()}),e.TgZ(1,"mat-icon",12),e._uU(2,"add"),e.qZA(),e.qZA()}}function fa(n,o){if(1&n&&(e.TgZ(0,"mat-header-cell"),e.YNc(1,ha,3,0,"button",10),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",1==t.createAction)}}function Ca(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit;return e.oxw().onRead(a)}),e.TgZ(1,"mat-icon"),e._uU(2,"visibility"),e.qZA(),e.qZA()}}function Za(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit;return e.oxw().onUpdate(a)}),e.TgZ(1,"mat-icon",12),e._uU(2,"mode_edit"),e.qZA(),e.qZA()}}function Ta(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit;return e.oxw().onDelete(a)}),e.TgZ(1,"mat-icon",12),e._uU(2,"close"),e.qZA(),e.qZA()}}function Aa(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e.YNc(1,Ca,3,0,"button",10),e.YNc(2,Za,3,0,"button",10),e.YNc(3,Ta,3,0,"button",10),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",1==t.readAction),e.xp6(1),e.Q6J("ngIf",1==t.updateAction),e.xp6(1),e.Q6J("ngIf",1==t.deleteAction)}}let ba=(()=>{class n{constructor(){this.title="Management",this.createAction=!0,this.readAction=!0,this.updateAction=!0,this.deleteAction=!0,this.create=new e.vpe,this.read=new e.vpe,this.update=new e.vpe,this.delete=new e.vpe}set data(t){t.subscribe(i=>{const a=new Set;this.dataSource=new d.by(i),i?(i.forEach(r=>Object.getOwnPropertyNames(r).forEach(f=>a.add(f))),this.columns=Array.from(a)):this.columns=[],a.add("actions"),this.columnsHeader=Array.from(a)})}onRead(t){this.read.emit(t)}onCreate(){this.create.emit()}onUpdate(t){this.update.emit(t)}onDelete(t){this.delete.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["messenger-crud"]],inputs:{title:"title",createAction:"createAction",readAction:"readAction",updateAction:"updateAction",deleteAction:"deleteAction",data:"data"},outputs:{create:"create",read:"read",update:"update",delete:"delete"},decls:13,vars:6,consts:[[4,"ngIf"],["matSort","",1,"mat-elevation-z8",3,"dataSource"],["table",""],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","actions"],[4,"matHeaderCellDef"],[4,"matCellDef"],[3,"matColumnDef"],["mat-button","","mat-icon-button","","matSuffix","",3,"click",4,"ngIf"],["mat-button","","mat-icon-button","","matSuffix","",3,"click"],["color","warn"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-card"),e.TgZ(1,"mat-card-title"),e._uU(2),e.YNc(3,da,2,0,"span",0),e.qZA(),e.TgZ(4,"mat-card-content"),e.TgZ(5,"mat-table",1,2),e.YNc(7,ua,1,0,"mat-header-row",3),e.YNc(8,ma,1,0,"mat-row",4),e.YNc(9,_a,3,1,"ng-container",5),e.ynx(10,6),e.YNc(11,fa,2,1,"mat-header-cell",7),e.YNc(12,Aa,4,3,"mat-cell",8),e.BQk(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Oqu(i.title),e.xp6(1),e.Q6J("ngIf",0===i.columns.length),e.xp6(2),e.Q6J("dataSource",i.dataSource),e.xp6(2),e.Q6J("matHeaderRowDef",i.columnsHeader),e.xp6(1),e.Q6J("matRowDefColumns",i.columnsHeader),e.xp6(1),e.Q6J("ngForOf",i.columns))},directives:[u.a8,u.n5,_.O5,u.dn,d.BZ,ue.YE,d.as,d.nj,_.sg,d.w1,d.fO,d.Dz,d.XQ,d.Gk,d.ge,d.ev,g.lW,s.R9,Z.Hw],pipes:[Pe.y],styles:[".cdk-column-read[_ngcontent-%COMP%]{display:none!important}.cdk-column-id[_ngcontent-%COMP%]{display:none!important}"]}),n})(),va=(()=>{class n{constructor(t,i,a){this.messengersService=t,this.authService=i,this.dialog=a,this.sentMessengers=(0,p.of)([]),this.receivedMessengers=(0,p.of)([]),this.sent="Sent Messengers",this.received="Received Messengers",this.title="Messengers"}ngOnInit(){this.findSentMessenger(),this.findReceivedMessenger()}read(t){this.dialog.open(M.Y,{data:{title:this.title,object:this.messengersService.read(t.id)}})}create(){this.dialog.open(sa)}findSentMessenger(){this.messengerSearch={},this.messengerSearch.fromUser=this.authService.getMobile().toString(),this.sentMessengers=this.messengersService.search(this.messengerSearch)}findReceivedMessenger(){this.messengerSearch={},this.messengerSearch.toUser=this.authService.getMobile().toString(),this.receivedMessengers=this.messengersService.search(this.messengerSearch)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(re),e.Y36(ae.e),e.Y36(l.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-messengers"]],decls:2,vars:9,consts:[[3,"data","deleteAction","updateAction","title","create","read"],[3,"data","deleteAction","updateAction","createAction","title","read"]],template:function(t,i){1&t&&(e.TgZ(0,"messenger-crud",0),e.NdJ("create",function(){return i.create()})("read",function(r){return i.read(r)}),e.qZA(),e.TgZ(1,"messenger-crud",1),e.NdJ("read",function(r){return i.read(r)}),e.qZA()),2&t&&(e.Q6J("data",i.sentMessengers)("deleteAction",!1)("updateAction",!1)("title",i.sent),e.xp6(1),e.Q6J("data",i.receivedMessengers)("deleteAction",!1)("updateAction",!1)("createAction",!1)("title",i.received))},directives:[ba],styles:[".cdk-column-read[_ngcontent-%COMP%]{display:none!important}.cdk-column-id[_ngcontent-%COMP%]{display:none!important}"]}),n})();var Le=h(8502);let qa=(()=>{class n{constructor(t,i,a){this.complaintService=i,this.dialog=a,this.complaint=t,this.oldId=t.id}update(){this.complaintService.update(this.oldId,this.complaint).subscribe(()=>this.dialog.closeAll())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.WI),e.Y36(Le.o),e.Y36(l.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-reply-dialog"]],decls:12,vars:1,consts:[["mat-dialog-title",""],[1,"full-width"],["matInput","","required","","type","text",3,"ngModel","ngModelChange"],["cdkFocusInitial","","mat-dialog-close","","mat-raised-button",""],["color","primary","mat-raised-button","",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"h2",0),e._uU(1,"Reply Complaint"),e.qZA(),e.TgZ(2,"mat-dialog-content"),e.TgZ(3,"mat-form-field",1),e.TgZ(4,"mat-label"),e._uU(5,"Reply"),e.qZA(),e.TgZ(6,"input",2),e.NdJ("ngModelChange",function(r){return i.complaint.reply=r}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"mat-dialog-actions"),e.TgZ(8,"button",3),e._uU(9,"Close"),e.qZA(),e.TgZ(10,"button",4),e.NdJ("click",function(){return i.update()}),e._uU(11,"Response "),e.qZA(),e.qZA()),2&t&&(e.xp6(6),e.Q6J("ngModel",i.complaint.reply))},directives:[l.uh,l.xY,s.KE,s.hX,C.Nt,c.Fj,c.Q7,c.JJ,c.On,l.H8,g.lW,l.ZT],styles:[""]}),n})();const Ma=[{path:"",component:yn,canActivate:[ze.k],data:{roles:[ee.u.ADMIN,ee.u.MANAGER,ee.u.OPERATOR]},children:[{path:"articles",component:tt},{path:"cashier-closed",component:nt},{path:"cashier-opened",component:Xt},{path:"credit-line",component:dn},{path:"providers",component:pn},{path:"tickets",component:Dn},{path:"invoices",component:In},{path:"offers",component:Pn},{path:"customer-discount",component:En},{path:"vouchers",component:Hn},{path:"provider-invoices",component:Wn},{path:"online-orders",component:di},{path:"slack-webhook",component:gi},{path:"cashier-closures-management",component:Ci},{path:"stock-audit",component:Mi},{path:"stock-manager",component:Fi},{path:"articles-size-family-creation",component:De},{path:"providers-orders",component:vo},{path:"budgets",component:Mo},{path:"github-issues",component:wo},{path:"technical-support",component:ta},{path:"stock-alarm",component:la},{path:"complaints",component:(()=>{class n{constructor(t,i){this.dialog=t,this.complaintService=i,this.title="Complaints management",this.complaints=(0,p.of)([])}searchAll(){this.complaints=this.complaintService.searchAll()}update(t){this.complaintService.read(t.id).subscribe(i=>this.dialog.open(qa,{data:i}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.uw),e.Y36(Le.o))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-complaints"]],decls:8,vars:6,consts:[["mat-icon-button","",3,"click"],[3,"data","title","updateAction","readAction","createAction","deleteAction","update"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-card"),e.TgZ(1,"mat-card-content"),e.TgZ(2,"button",0),e.NdJ("click",function(){return i.searchAll()}),e.TgZ(3,"span"),e._uU(4,"Search All"),e.qZA(),e.TgZ(5,"mat-icon"),e._uU(6,"search"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"app-crud",1),e.NdJ("update",function(r){return i.update(r)}),e.qZA()),2&t&&(e.xp6(7),e.Q6J("data",i.complaints)("title",i.title)("updateAction",!0)("readAction",!1)("createAction",!1)("deleteAction",!1))},directives:[u.a8,u.dn,g.lW,Z.Hw,b.D],styles:[""]}),n})()},{path:"messengers",component:va}]}];let ka=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[F.Bz.forChild(Ma)],F.Bz]}),n})(),ya=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[N,he,oe,K,E,ie,R,fe,Y,V,W,j,se,we,ce,me,de,_.uU],imports:[[He.m,ka]]}),n})()}}]);